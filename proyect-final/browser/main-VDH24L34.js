var OO=Object.defineProperty,xO=Object.defineProperties;var kO=Object.getOwnPropertyDescriptors;var Au=Object.getOwnPropertySymbols;var sT=Object.prototype.hasOwnProperty,aT=Object.prototype.propertyIsEnumerable;var oT=(n,e,t)=>e in n?OO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,R=(n,e)=>{for(var t in e||={})sT.call(e,t)&&oT(n,t,e[t]);if(Au)for(var t of Au(e))aT.call(e,t)&&oT(n,t,e[t]);return n},ne=(n,e)=>xO(n,kO(e));var ca=(n,e)=>{var t={};for(var r in n)sT.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Au)for(var r of Au(n))e.indexOf(r)<0&&aT.call(n,r)&&(t[r]=n[r]);return t};var ot=null,Ru=!1,Np=1,LO=null,Kt=Symbol("SIGNAL");function te(n){let e=ot;return ot=n,e}function Nu(){return ot}var Mu={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pu(n){if(Ru)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(n);let e=ot.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ot.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ot.producers,t!==void 0&&t.producer===n)){ot.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ot&&(!r||VO(i,ot)))return;let o=Eo(ot),s={producer:n,consumer:ot,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ot.producersTail=s,e!==void 0?e.nextProducer=s:ot.producers=s,o&&hT(n,s)}function cT(){Np++}function uT(n){if(!(Eo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Np)){if(!n.producerMustRecompute(n)&&!xu(n)){Rp(n);return}n.producerRecomputeValue(n),Rp(n)}}function Mp(n){if(n.consumers===void 0)return;let e=Ru;Ru=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||FO(r)}}finally{Ru=e}}function Pp(){return ot?.consumerAllowSignalWrites!==!1}function FO(n){n.dirty=!0,Mp(n),n.consumerMarkedDirty?.(n)}function Rp(n){n.dirty=!1,n.lastCleanEpoch=Np}function Ou(n){return n&&lT(n),te(n)}function lT(n){n.producersTail=void 0,n.recomputing=!0}function Op(n,e){te(e),n&&dT(n)}function dT(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Eo(n))do t=xp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function xu(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(uT(t),r!==t.version))return!0}return!1}function ua(n){if(Eo(n)){let e=n.producers;for(;e!==void 0;)e=xp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function hT(n,e){let t=n.consumersTail,r=Eo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)hT(i.producer,i)}function xp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Eo(e)){let o=e.producers;for(;o!==void 0;)o=xp(o)}return t}function Eo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function fT(n){LO?.(n)}function VO(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function pT(n,e){return Object.is(n,e)}function UO(){throw new Error}var gT=UO;function mT(n){gT(n)}function kp(n){gT=n}var jO=null;function Lp(n,e){let t=Object.create(ku);t.value=n,e!==void 0&&(t.equal=e);let r=()=>yT(t);return r[Kt]=t,fT(t),[r,s=>la(t,s),s=>vT(t,s)]}function yT(n){return Pu(n),n.value}function la(n,e){Pp()||mT(n),n.equal(n.value,e)||(n.value=e,BO(n))}function vT(n,e){Pp()||mT(n),la(n,e(n.value))}var ku=ne(R({},Mu),{equal:pT,value:void 0,kind:"signal"});function BO(n){n.version++,cT(),Mp(n),jO?.(n)}function Fp(n){let e=te(null);try{return n()}finally{te(e)}}function Q(n){return typeof n=="function"}function _o(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Lu=_o(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof Lu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ET(o)}catch(s){e=e??[],s instanceof Lu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ET(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yi(t,e)}remove(e){let{_finalizers:t}=this;t&&yi(t,e),e instanceof n&&e._removeParent(this)}};qe.EMPTY=(()=>{let n=new qe;return n.closed=!0,n})();var Vp=qe.EMPTY;function Fu(n){return n instanceof qe||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function ET(n){Q(n)?n():n.unsubscribe()}var nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(n,e,...t){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Vu(n){Io.setTimeout(()=>{let{onUnhandledError:e}=nn;if(e)e(n);else throw n})}function da(){}var _T=Up("C",void 0,void 0);function IT(n){return Up("E",void 0,n)}function wT(n){return Up("N",n,void 0)}function Up(n,e,t){return{kind:n,value:e,error:t}}var vi=null;function wo(n){if(nn.useDeprecatedSynchronousErrorHandling){let e=!vi;if(e&&(vi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=vi;if(vi=null,t)throw r}}else n()}function TT(n){nn.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=n)}var Ei=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fu(e)&&e.add(this)):this.destination=zO}static create(e,t,r){return new To(e,t,r)}next(e){this.isStopped?Bp(wT(e),this):this._next(e)}error(e){this.isStopped?Bp(IT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bp(_T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$O=Function.prototype.bind;function jp(n,e){return $O.call(n,e)}var $p=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Uu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Uu(r)}else Uu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Uu(t)}}},To=class extends Ei{constructor(e,t,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&nn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jp(e.next,o),error:e.error&&jp(e.error,o),complete:e.complete&&jp(e.complete,o)}):i=e}this.destination=new $p(i)}};function Uu(n){nn.useDeprecatedSynchronousErrorHandling?TT(n):Vu(n)}function HO(n){throw n}function Bp(n,e){let{onStoppedNotification:t}=nn;t&&Io.setTimeout(()=>t(n,e))}var zO={closed:!0,next:da,error:HO,complete:da};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(n){return n}function ju(...n){return Hp(n)}function Hp(n){return n.length===0?rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GO(t)?t:new To(t,r,i);return wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=DT(r),new r((i,o)=>{let s=new To({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Do](){return this}pipe(...t){return Hp(t)(this)}toPromise(t){return t=DT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function DT(n){var e;return(e=n??nn.Promise)!==null&&e!==void 0?e:Promise}function qO(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function GO(n){return n&&n instanceof Ei||qO(n)&&Fu(n)}function WO(n){return Q(n?.lift)}function ge(n){return e=>{if(WO(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,r,i){return new zp(n,e,t,r,i)}var zp=class extends Ei{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var bT=_o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Bu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new bT}next(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vp:(this.currentObservers=null,o.push(t),new qe(()=>{this.currentObservers=null,yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new Bu(e,t),n})(),Bu=class extends Ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Vp}};var tt=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qp={now(){return(qp.delegate||Date).now()},delegate:void 0};var $u=class extends qe{constructor(e,t){super()}schedule(e,t=0){return this}};var ha={setInterval(n,e,...t){let{delegate:r}=ha;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ha;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var bo=class extends $u{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ha.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Co=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Co.now=qp.now;var So=class extends Co{constructor(e,t=Co.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Gp=new So(bo);var Hu=class extends bo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var zu=class extends So{};var Wp=new zu(Hu);var wt=new re(n=>n.complete());function CT(n){return n&&Q(n.schedule)}function ST(n){return n[n.length-1]}function AT(n){return Q(ST(n))?n.pop():void 0}function Sr(n){return CT(ST(n))?n.pop():void 0}function NT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function RT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _i(n){return this instanceof _i?(this.v=n,this):new _i(n)}function MT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(M){return new Promise(function(N,V){o.push([y,M,N,V])>1||u(y,M)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof _i?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function PT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof RT=="function"?RT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var qu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Gu(n){return Q(n?.then)}function Wu(n){return Q(n[Do])}function Ku(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function Qu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yu=KO();function Ju(n){return Q(n?.[Yu])}function Zu(n){return MT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield _i(t.read());if(i)return yield _i(void 0);yield yield _i(r)}}finally{t.releaseLock()}})}function Xu(n){return Q(n?.getReader)}function Je(n){if(n instanceof re)return n;if(n!=null){if(Wu(n))return QO(n);if(qu(n))return YO(n);if(Gu(n))return JO(n);if(Ku(n))return OT(n);if(Ju(n))return ZO(n);if(Xu(n))return XO(n)}throw Qu(n)}function QO(n){return new re(e=>{let t=n[Do]();if(Q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YO(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function JO(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Vu)})}function ZO(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function OT(n){return new re(e=>{ex(n,e).catch(t=>e.error(t))})}function XO(n){return OT(Zu(n))}function ex(n,e){var t,r,i,o;return NT(this,void 0,void 0,function*(){try{for(t=PT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Tt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ar(n,e=0){return ge((t,r)=>{t.subscribe(ve(r,i=>Tt(r,n,()=>r.next(i),e),()=>Tt(r,n,()=>r.complete(),e),i=>Tt(r,n,()=>r.error(i),e)))})}function Rr(n,e=0){return ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xT(n,e){return Je(n).pipe(Rr(e),Ar(e))}function kT(n,e){return Je(n).pipe(Rr(e),Ar(e))}function LT(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function FT(n,e){return new re(t=>{let r;return Tt(t,e,()=>{r=n[Yu](),Tt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function el(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Tt(t,e,()=>{let r=n[Symbol.asyncIterator]();Tt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function VT(n,e){return el(Zu(n),e)}function UT(n,e){if(n!=null){if(Wu(n))return xT(n,e);if(qu(n))return LT(n,e);if(Gu(n))return kT(n,e);if(Ku(n))return el(n,e);if(Ju(n))return FT(n,e);if(Xu(n))return VT(n,e)}throw Qu(n)}function Re(n,e){return e?UT(n,e):Je(n)}function Y(...n){let e=Sr(n);return Re(n,e)}function Kp(n,e){let t=Q(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function tl(n){return!!n&&(n instanceof re||Q(n.lift)&&Q(n.subscribe))}var Ii=_o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function we(n,e){return ge((t,r)=>{let i=0;t.subscribe(ve(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:tx}=Array;function nx(n,e){return tx(e)?n(...e):n(e)}function jT(n){return we(e=>nx(n,e))}var{isArray:rx}=Array,{getPrototypeOf:ix,prototype:ox,keys:sx}=Object;function BT(n){if(n.length===1){let e=n[0];if(rx(e))return{args:e,keys:null};if(ax(e)){let t=sx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ax(n){return n&&typeof n=="object"&&ix(n)===ox}function $T(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function nl(...n){let e=Sr(n),t=AT(n),{args:r,keys:i}=BT(n);if(r.length===0)return Re([],e);let o=new re(cx(r,e,i?s=>$T(i,s):rn));return t?o.pipe(jT(t)):o}function cx(n,e,t=rn){return r=>{HT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)HT(e,()=>{let l=Re(n[u],e),h=!1;l.subscribe(ve(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function HT(n,e,t){n?Tt(t,n,e):e()}function zT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?A(M):u.push(M),A=M=>{o&&e.next(M),l++;let N=!1;Je(t(M,h++)).subscribe(ve(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let V=u.shift();s?Tt(e,s,()=>A(V)):A(V)}m()}catch(V){e.error(V)}}))};return n.subscribe(ve(e,y,()=>{p=!0,m()})),()=>{a?.()}}function nt(n,e,t=1/0){return Q(e)?nt((r,i)=>we((o,s)=>e(r,o,i,s))(Je(n(r,i))),t):(typeof e=="number"&&(t=e),ge((r,i)=>zT(r,i,n,t)))}function Nr(n=1/0){return nt(rn,n)}function qT(){return Nr(1)}function Ao(...n){return qT()(Re(n,Sr(n)))}function fa(n){return new re(e=>{Je(n()).subscribe(e)})}function xt(n,e){return ge((t,r)=>{let i=0;t.subscribe(ve(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ro(n){return ge((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ve(t,void 0,void 0,s=>{o=Je(n(s,Ro(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function No(n,e){return Q(e)?nt(n,e,1):nt(n,1)}function Qp(n){return ge((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zn(n){return n<=0?()=>wt:ge((e,t)=>{let r=0;e.subscribe(ve(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function GT(n=ux){return ge((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ux(){return new Ii}function Yp(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xt((i,o)=>n(i,o,r)):rn,Zn(1),t?Qp(e):GT(()=>new Ii))}function rl(n){return n<=0?()=>wt:ge((e,t)=>{let r=[];e.subscribe(ve(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function il(...n){let e=Sr(n);return ge((t,r)=>{(e?Ao(n,t,e):Ao(n,t)).subscribe(r)})}function on(n,e){return ge((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ve(r,u=>{i?.unsubscribe();let l=0,h=o++;Je(n(u,h)).subscribe(i=ve(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pa(n){return ge((e,t)=>{Je(n).subscribe(ve(t,()=>t.complete(),da)),!t.closed&&e.subscribe(t)})}function ft(n,e,t){let r=Q(n)||e||t?{next:n,error:e,complete:t}:n;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ve(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}var Jp;function ol(){return Jp}function Cn(n){let e=Jp;return Jp=n,e}var WT=Symbol("NotFound");function Mo(n){return n===WT||n?.name==="\u0275NotFound"}var Mr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},fg=new Mr("21.0.3");var dl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(an(e,t)),this.code=e}};function fx(n){return`NG0${Math.abs(n)}`}function an(n,e){return`${fx(n)}${e?": "+e:""}`}var bt=globalThis;function me(n){for(let e in n)if(n[e]===me)return e;throw Error("")}function Pr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function pg(n,e){return n?e?`${n} ${e}`:n:e||""}var px=me({__forward_ref__:me});function hl(n){return n.__forward_ref__=hl,n.toString=function(){return Pr(this())},n}function Dt(n){return gg(n)?n():n}function gg(n){return typeof n=="function"&&n.hasOwnProperty(px)&&n.__forward_ref__===hl}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function _a(n){return gx(n,fl)}function mg(n){return _a(n)!==null}function gx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function mx(n){let e=n?.[fl]??null;return e||null}function Xp(n){return n&&n.hasOwnProperty(al)?n[al]:null}var fl=me({\u0275prov:me}),al=me({\u0275inj:me}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yg(n){return n&&!!n.\u0275providers}var vg=me({\u0275cmp:me}),Eg=me({\u0275dir:me}),_g=me({\u0275pipe:me}),Ig=me({\u0275mod:me}),ma=me({\u0275fac:me}),bi=me({__NG_ELEMENT_ID__:me}),KT=me({__NG_ENV_ID__:me});function Ia(n){return typeof n=="string"?n:n==null?"":String(n)}function ZT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ia(n)}var XT=me({ngErrorCode:me}),yx=me({ngErrorMessage:me}),vx=me({ngTokenPath:me});function wg(n,e){return eD("",-200,e)}function pl(n,e){throw new L(-201,!1)}function eD(n,e,t){let r=new L(e,n);return r[XT]=e,r[yx]=n,t&&(r[vx]=t),r}function Ex(n){return n[XT]}var eg;function tD(){return eg}function pt(n){let e=eg;return eg=n,e}function Tg(n,e,t){let r=_a(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;pl(n,"Injector")}var _x={},wi=_x,tg="__NG_DI_FLAG__",ng=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ti(t)||0;try{return this.injector.get(e,r&8?null:wi,r)}catch(i){if(Mo(i))return i;throw i}}};function Ix(n,e=0){let t=ol();if(t===void 0)throw new L(-203,!1);if(t===null)return Tg(n,void 0,e);{let r=wx(e),i=t.retrieve(n,r);if(Mo(i)){if(r.optional)return null;throw i}return i}}function $(n,e=0){return(tD()||Ix)(Dt(n),e)}function S(n,e){return $(n,Ti(e))}function Ti(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function rg(n){let e=[];for(let t=0;t<n.length;t++){let r=Dt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Tx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function nD(n,e){return n[tg]=e,n.prototype[tg]=e,n}function Tx(n){return n[tg]}function Or(n,e){let t=n.hasOwnProperty(ma);return t?n[ma]:null}function rD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function iD(n){return n.flat(Number.POSITIVE_INFINITY)}function gl(n,e){n.forEach(t=>Array.isArray(t)?gl(t,e):e(t))}function Dg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Ci={},sn=[],tr=new k(""),bg=new k("",-1),Cg=new k(""),ya=class{get(e,t=wi){if(t===wi){let i=eD("",-201);throw i.name="\u0275NotFound",i}return t}};function Sg(n){return n[Ig]||null}function An(n){return n[vg]||null}function ml(n){return n[Eg]||null}function Ag(n){return n[_g]||null}function gt(n){return{\u0275providers:n}}function oD(...n){return{\u0275providers:yl(!0,n),\u0275fromNgModule:!0}}function yl(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return gl(e,s=>{let a=s;cl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sD(i,o),t}function sD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Rg(i,o=>{e(o,r)})}}function cl(n,e,t,r){if(n=Dt(n),!n)return!1;let i=null,o=Xp(n),s=!o&&An(n);if(!o&&!s){let u=n.ngModule;if(o=Xp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)cl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gl(o.imports,h=>{cl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&sD(l,e)}if(!a){let l=Or(i)||(()=>new i);e({provide:i,useFactory:l,deps:sn},i),e({provide:Cg,useValue:i,multi:!0},i),e({provide:tr,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Rg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Rg(n,e){for(let t of n)yg(t)&&(t=t.\u0275providers),Array.isArray(t)?Rg(t,e):e(t)}var Dx=me({provide:String,useValue:me});function aD(n){return n!==null&&typeof n=="object"&&Dx in n}function bx(n){return!!(n&&n.useExisting)}function Cx(n){return!!(n&&n.useFactory)}function ul(n){return typeof n=="function"}var Ta=new k(""),sl={},QT={},Zp;function Da(){return Zp===void 0&&(Zp=new ya),Zp}var Ne=class{},Di=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,og(e,s=>this.processProvider(s)),this.records.set(bg,Po(void 0,this)),i.has("environment")&&this.records.set(Ne,Po(void 0,this));let o=this.records.get(Ta);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cg,sn,{self:!0}))}retrieve(e,t){let r=Ti(t)||0;try{return this.get(e,wi,r)}catch(i){if(Mo(i))return i;throw i}}destroy(){ga(this),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return ga(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ga(this);let t=Cn(this),r=pt(void 0),i;try{return e()}finally{Cn(t),pt(r)}}get(e,t=wi,r){if(ga(this),e.hasOwnProperty(KT))return e[KT](this);let i=Ti(r),o,s=Cn(this),a=pt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Mx(e)&&_a(e);h&&this.injectableDefInScope(h)?l=Po(ig(e),sl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Da():this.parent;return t=i&8&&t===wi?null:t,u.get(e,t)}catch(u){let l=Ex(u);throw l===-200||l===-201?new L(l,null):u}finally{pt(a),Cn(s)}}resolveInjectorInitializers(){let e=te(null),t=Cn(this),r=pt(void 0),i;try{let o=this.get(tr,sn,{self:!0});for(let s of o)s()}finally{Cn(t),pt(r),te(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dt(e);let t=ul(e)?e:Dt(e&&e.provide),r=Ax(e);if(!ul(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Po(void 0,sl,!0),i.factory=()=>rg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=te(null);try{if(t.value===QT)throw wg(Pr(e));return t.value===sl&&(t.value=QT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Nx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{te(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ig(n){let e=_a(n),t=e!==null?e.factory:Or(n);if(t!==null)return t;if(n instanceof k)throw new L(204,!1);if(n instanceof Function)return Sx(n);throw new L(204,!1)}function Sx(n){if(n.length>0)throw new L(204,!1);let t=mx(n);return t!==null?()=>t.factory(n):()=>new n}function Ax(n){if(aD(n))return Po(void 0,n.useValue);{let e=cD(n);return Po(e,sl)}}function cD(n,e,t){let r;if(ul(n)){let i=Dt(n);return Or(i)||ig(i)}else if(aD(n))r=()=>Dt(n.useValue);else if(Cx(n))r=()=>n.useFactory(...rg(n.deps||[]));else if(bx(n))r=(i,o)=>$(Dt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Dt(n&&(n.useClass||n.provide));if(Rx(n))r=()=>new i(...rg(n.deps));else return Or(i)||ig(i)}return r}function ga(n){if(n.destroyed)throw new L(205,!1)}function Po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rx(n){return!!n.deps}function Nx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Mx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function og(n,e){for(let t of n)Array.isArray(t)?og(t,e):t&&yg(t)?og(t.\u0275providers,e):e(t)}function ke(n,e){let t;n instanceof Di?(ga(n),t=n):t=new ng(n);let r,i=Cn(t),o=pt(void 0);try{return e()}finally{Cn(i),pt(o)}}function Ng(){return tD()!==void 0||ol()!=null}var mt=0,B=1,G=2,xe=3,Qt=4,Yt=5,kt=6,Oo=7,St=8,Jt=9,Rn=10,Te=11,xo=12,Mg=13,ko=14,At=15,Lr=16,Si=17,Nn=18,ba=19,Pg=20,er=21,vl=22,Ca=23,Lt=24,Ai=25,Sa=26,Ce=27,uD=1,cn=6,Mn=7,Aa=8,Ri=9,at=10;function Ft(n){return Array.isArray(n)&&typeof n[uD]=="object"}function Vt(n){return Array.isArray(n)&&n[uD]===!0}function Og(n){return(n.flags&4)!==0}function nr(n){return n.componentOffset>-1}function Ra(n){return(n.flags&1)===1}function Ni(n){return!!n.template}function Mi(n){return(n[G]&512)!==0}function Fr(n){return(n[G]&256)===256}var lD="svg",dD="math";function Ut(n){for(;Array.isArray(n);)n=n[mt];return n}function hD(n,e){return Ut(e[n])}function Zt(n,e){return Ut(e[n.index])}function Lo(n,e){return n.data[e]}function fD(n,e){return n[e]}function xg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xt(n,e){let t=e[n];return Ft(t)?t:t[mt]}function pD(n){return(n[G]&4)===4}function El(n){return(n[G]&128)===128}function gD(n){return Vt(n[xe])}function Na(n,e){return e==null?null:n[e]}function kg(n){n[Si]=0}function Lg(n){n[G]&1024||(n[G]|=1024,El(n)&&Fo(n))}function Ma(n){return!!(n[G]&9216||n[Lt]?.dirty)}function _l(n){n[Rn].changeDetectionScheduler?.notify(8),n[G]&64&&(n[G]|=1024),Ma(n)&&Fo(n)}function Fo(n){n[Rn].changeDetectionScheduler?.notify(0);let e=xr(n);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!El(e)));)e=xr(e)}function Fg(n,e){if(Fr(n))throw new L(911,!1);n[er]===null&&(n[er]=[]),n[er].push(e)}function mD(n,e){if(n[er]===null)return;let t=n[er].indexOf(e);t!==-1&&n[er].splice(t,1)}function xr(n){let e=n[xe];return Vt(e)?e[xe]:e}function Vg(n){return n[Oo]??=[]}function Ug(n){return n.cleanup??=[]}function yD(n,e,t,r){let i=Vg(e);i.push(t),n.firstCreatePass&&Ug(n).push(r,i.length-1)}var ce={lFrame:MD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sg=!1;function vD(){return ce.lFrame.elementDepthCount}function ED(){ce.lFrame.elementDepthCount++}function _D(){ce.lFrame.elementDepthCount--}function jg(){return ce.bindingsEnabled}function Bg(){return ce.skipHydrationRootTNode!==null}function ID(n){return ce.skipHydrationRootTNode===n}function wD(n){ce.skipHydrationRootTNode=n}function TD(){ce.skipHydrationRootTNode=null}function _e(){return ce.lFrame.lView}function un(){return ce.lFrame.tView}function Rt(){let n=$g();for(;n!==null&&n.type===64;)n=n.parent;return n}function $g(){return ce.lFrame.currentTNode}function DD(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Vo(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Hg(){return ce.lFrame.isParent}function bD(){ce.lFrame.isParent=!1}function zg(){return sg}function qg(n){let e=sg;return sg=n,e}function Gg(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function CD(n){return ce.lFrame.bindingIndex=n}function Il(){return ce.lFrame.bindingIndex++}function SD(){return ce.lFrame.inI18n}function AD(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,wl(e)}function RD(){return ce.lFrame.currentDirectiveIndex}function wl(n){ce.lFrame.currentDirectiveIndex=n}function Wg(){return ce.lFrame.currentQueryIndex}function Tl(n){ce.lFrame.currentQueryIndex=n}function Px(n){let e=n[B];return e.type===2?e.declTNode:e.type===1?n[Yt]:null}function Kg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Px(o),i===null||(o=o[ko],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=ND();return r.currentTNode=e,r.lView=n,!0}function Dl(n){let e=ND(),t=n[B];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ND(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?MD(n):e}function MD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function PD(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Qg=PD;function bl(){let n=PD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Cl(){return ce.lFrame.selectedIndex}function Vr(n){ce.lFrame.selectedIndex=n}function Yg(){let n=ce.lFrame;return Lo(n.tView,n.selectedIndex)}function Jg(){return ce.lFrame.currentNamespace}var OD=!0;function Sl(){return OD}function rr(n){OD=n}function ag(n,e=null,t=null,r){let i=Zg(n,e,t,r);return i.resolveInjectorInitializers(),i}function Zg(n,e=null,t=null,r,i=new Set){let o=[t||sn,oD(n)];return r=r||(typeof n=="object"?void 0:Pr(n)),new Di(o,e||Da(),r||null,i)}var be=class n{static THROW_IF_NOT_FOUND=wi;static NULL=new ya;static create(e,t){if(Array.isArray(e))return ag({name:""},t,e,"");{let r=e.name??"";return ag({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>$(bg)});static __NG_ELEMENT_ID__=-1},Se=new k(""),ln=(()=>{class n{static __NG_ELEMENT_ID__=Ox;static __NG_ENV_ID__=t=>t}return n})(),cg=class extends ln{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Fr(this._lView)}onDestroy(e){let t=this._lView;return Fg(t,e),()=>mD(t,e)}};function Ox(){return new cg(_e())}var xD=!1,Pn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),ug=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ng()&&(this.destroyRef=S(ln,{optional:!0})??void 0,this.pendingTasks=S(Pn,{optional:!0})??void 0)}emit(e){let t=te(null);try{super.next(e)}finally{te(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},st=ug;function ll(...n){}function Xg(n){let e,t;function r(){n=ll;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function em(n){return queueMicrotask(()=>n()),()=>{n=ll}}var tm="isAngularZone",va=tm+"_ID",xx=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new st(!1);onMicrotaskEmpty=new st(!1);onStable=new st(!1);onError=new st(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=xD}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Fx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(tm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kx,ll,ll);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},kx={};function nm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Lx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Xg(()=>{n.callbackScheduled=!1,lg(n),n.isCheckStableRunning=!0,nm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),lg(n)}function Fx(n){let e=()=>{Lx(n)},t=xx++;n._inner=n._inner.fork({name:"angular",properties:{[tm]:!0,[va]:t,[va+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Vx(u))return r.invokeTask(o,s,a,u);try{return YT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),JT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return YT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Ux(u)&&e(),JT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,lg(n),nm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function lg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function YT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JT(n){n._nesting--,nm(n)}var Ea=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new st;onMicrotaskEmpty=new st;onStable=new st;onError=new st;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Vx(n){return kD(n,"__ignore_ng_zone__")}function Ux(n){return kD(n,"__scheduler_tick__")}function kD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Sn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jt=new k("",{factory:()=>{let n=S(Ee),e=S(Ne),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Sn),t.handleError(r))})}}}),LD={provide:tr,useValue:()=>{let n=S(Sn,{optional:!0})},multi:!0};function dn(n,e){let[t,r,i]=Lp(n,e?.equal),o=t,s=o[Kt];return o.set=r,o.update=i,o.asReadonly=FD.bind(o),o}function FD(){let n=this[Kt];if(n.readonlyFn===void 0){let e=()=>this();e[Kt]=n,n.readonlyFn=e}return n.readonlyFn}var Al=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=jx}return n})();function jx(){return new Al(_e(),Rt())}var kr=class{},Pa=new k("",{factory:()=>!0});var rm=new k(""),Ur=(()=>{class n{internalPendingTasks=S(Pn);scheduler=S(kr);errorHandler=S(jt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),im=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new dg})}return n})(),dg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},hg=class{[Kt];constructor(e){this[Kt]=e}destroy(){this[Kt].destroy()}};function Nt(n){return Fp(n)}var Rl={JSACTION:"jsaction"};function qo(n){return{toString:n}.toString()}var Nl="__parameters__";function Yx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Jx(n,e,t){return qo(()=>{let r=Yx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Nl)?u[Nl]:Object.defineProperty(u,Nl,{value:[]})[Nl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Mt=nD(Jx("Optional"),8);function vb(n){let e=bt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Zx(n){return typeof n=="function"}function Eb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ul=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Fi=(()=>{let n=()=>_b;return n.ngInherit=!0,n})();function _b(n){return n.type.prototype.ngOnChanges&&(n.setInput=ek),Xx}function Xx(){let n=wb(this),e=n?.current;if(e){let t=n.previous;if(t===Ci)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ek(n,e,t,r,i){let o=this.declaredInputs[r],s=wb(n)||tk(n,{previous:Ci,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ul(l&&l.currentValue,t,u===Ci),Eb(n,e,i,t)}var Ib="__ngSimpleChanges__";function wb(n){return n[Ib]||null}function tk(n,e){return n[Ib]=e}var VD=[];var ye=function(n,e=null,t){for(let r=0;r<VD.length;r++){let i=VD[r];i(n,e,t)}},ue=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(ue||{});function nk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_b(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Tb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ol(n,e,t){Db(n,e,3,t)}function xl(n,e,t,r){(n[G]&3)===t&&Db(n,e,t,r)}function om(n,e){let t=n[G];(t&3)===e&&(t&=16383,t+=1,n[G]=t)}function Db(n,e,t,r){let i=r!==void 0?n[Si]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Si]+=65536),(a<o||o==-1)&&(rk(n,t,e,u),n[Si]=(n[Si]&4294901760)+u+2),u++}function UD(n,e){ye(ue.LifecycleHookStart,n,e);let t=te(null);try{e.call(n)}finally{te(t),ye(ue.LifecycleHookEnd,n,e)}}function rk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[G]>>14<n[Si]>>16&&(n[G]&3)===e&&(n[G]+=16384,UD(a,o)):UD(a,o)}var jo=-1,ka=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function ik(n){return(n.flags&8)!==0}function ok(n){return(n.flags&16)!==0}function sk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ak(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function bb(n){return n===3||n===4||n===6}function ak(n){return n.charCodeAt(0)===64}function xm(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?jD(n,t,i,null,e[++r]):jD(n,t,i,null,null))}}return n}function jD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Cb(n){return n!==jo}function jl(n){return n&32767}function ck(n){return n>>16}function Bl(n,e){let t=ck(n),r=e;for(;t>0;)r=r[ko],t--;return r}var fm=!0;function $l(n){let e=fm;return fm=n,e}var uk=256,Sb=uk-1,Ab=5,lk=0,On={};function dk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(bi)&&(r=t[bi]),r==null&&(r=t[bi]=lk++);let i=r&Sb,o=1<<i;e.data[n+(i>>Ab)]|=o}function Rb(n,e){let t=Nb(n,e);if(t!==-1)return t;let r=e[B];r.firstCreatePass&&(n.injectorIndex=e.length,sm(r.data,n),sm(e,null),sm(r.blueprint,null));let i=km(n,e),o=n.injectorIndex;if(Cb(i)){let s=jl(i),a=Bl(i,e),u=a[B].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function sm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Nb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function km(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=kb(i),r===null)return jo;if(t++,i=i[ko],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return jo}function hk(n,e,t){dk(n,e,t)}function fk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(bb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Mb(n,e,t){if(t&8||n!==void 0)return n;pl(e,"NodeInjector")}function Pb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Jt],o=pt(void 0);try{return i?i.get(e,r,t&8):Tg(e,r,t&8)}finally{pt(o)}}return Mb(r,e,t)}function Ob(n,e,t,r=0,i){if(n!==null){if(e[G]&2048&&!(r&2)){let s=yk(n,e,t,r,On);if(s!==On)return s}let o=xb(n,e,t,r,On);if(o!==On)return o}return Pb(e,t,r,i)}function xb(n,e,t,r,i){let o=gk(t);if(typeof o=="function"){if(!Kg(e,n,r))return r&1?Mb(i,t,r):Pb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))pl(t);else return s}finally{Qg()}}else if(typeof o=="number"){let s=null,a=Nb(n,e),u=jo,l=r&1?e[At][Yt]:null;for((a===-1||r&4)&&(u=a===-1?km(n,e):e[a+8],u===jo||!$D(r,!1)?a=-1:(s=e[B],a=jl(u),e=Bl(u,e)));a!==-1;){let h=e[B];if(BD(o,a,h.data)){let p=pk(a,e,t,s,r,l);if(p!==On)return p}u=e[a+8],u!==jo&&$D(r,e[B].data[a+8]===l)&&BD(o,a,e)?(s=h,a=jl(u),e=Bl(u,e)):a=-1}}return i}function pk(n,e,t,r,i,o){let s=e[B],a=s.data[n+8],u=r==null?nr(a)&&fm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=kl(a,s,t,u,l);return h!==null?Hl(e,s,h,a,i):On}function kl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&Ni(y)&&y.type===t)return u}return null}function Hl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ka){let a=o;if(a.resolving){let y=ZT(s[t]);throw wg(y)}let u=$l(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?pt(a.injectImpl):null,m=Kg(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&nk(t,s[t],e)}finally{p!==null&&pt(p),$l(u),a.resolving=!1,Qg()}}return o}function gk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(bi)?n[bi]:void 0;return typeof e=="number"?e>=0?e&Sb:mk:e}function BD(n,e,t){let r=1<<n;return!!(t[e+(n>>Ab)]&r)}function $D(n,e){return!(n&2)&&!(n&1&&e)}var Oi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ob(this._tNode,this._lView,e,Ti(r),t)}};function mk(){return new Oi(Rt(),_e())}function ja(n){return qo(()=>{let e=n.prototype.constructor,t=e[ma]||pm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ma]||pm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pm(n){return gg(n)?()=>{let e=pm(Dt(n));return e&&e()}:Or(n)}function yk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!Mi(s);){let a=xb(o,s,t,r|2,On);if(a!==On)return a;let u=o.parent;if(!u){let l=s[Pg];if(l){let h=l.get(t,On,r);if(h!==On)return h}u=kb(s),s=s[ko]}o=u}return i}function kb(n){let e=n[B],t=e.type;return t===2?e.declTNode:t===1?n[Yt]:null}function Ba(n){return fk(Rt(),n)}function vk(){return Go(Rt(),_e())}function Go(n,e){return new xn(Zt(n,e))}var xn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vk}return n})();function Ek(n){return n instanceof xn?n.nativeElement:n}function _k(){return this._results[Symbol.iterator]()}var zl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=iD(e);(this._changesDetected=!rD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_k},Lb="ngSkipHydration",Ik="ngskiphydration";function Fb(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Ik)return!0}return!1}function Vb(n){return n.hasAttribute(Lb)}function ql(n){return(n.flags&128)===128}function Ub(n){if(ql(n))return!0;let e=n.parent;for(;e;){if(ql(n)||Fb(e))return!0;e=e.parent}return!1}var Lm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Lm||{}),jb=new Map,wk=0;function Tk(){return wk++}function Dk(n){jb.set(n[ba],n)}function gm(n){jb.delete(n[ba])}var HD="__ngContext__";function Ho(n,e){Ft(e)?(n[HD]=e[ba],Dk(e)):n[HD]=e}function Bb(n){return Hb(n[xo])}function $b(n){return Hb(n[Qt])}function Hb(n){for(;n!==null&&!Vt(n);)n=n[Qt];return n}var mm;function Fm(n){mm=n}function zb(){if(mm!==void 0)return mm;if(typeof document<"u")return document;throw new L(210,!1)}var kn=new k("",{factory:()=>bk}),bk="ng";var td=new k(""),Vi=new k("",{providedIn:"platform",factory:()=>"unknown"});var nd=new k("",{factory:()=>S(Se).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Wo=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>{let t=new n;return t.store=Ck(S(Se),S(kn)),t}});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function Ck(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var qb="h",Gb="b",Sk="f",Ak="n",Wb="e",Kb="t",rd="c",Vm="x",La="r",Qb="i",Yb="n",Um="d";var Jb="di",Zb="s",Xb="p";var $a=new k(""),eC=!1,jm=new k("",{factory:()=>eC});var Bm=new k(""),tC=!1,nC=new k(""),$m=new k("",{factory:()=>new Map}),id=new k("");var Ha="ngb";var rC=(n,e,t)=>{let r=n,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(t),i.set(e,o),r.__jsaction_fns=i},iC=(n,e)=>{let t=n,r=t.getAttribute(Ha)??"",i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)};var oC=n=>{n.removeAttribute(Rl.JSACTION),n.removeAttribute(Ha),n.__jsaction_fns=void 0},sC=new k("",{factory:()=>({})});function Hm(n,e){let t=e?.__jsaction_fns?.get(n.type);if(!(!t||!e?.isConnected))for(let r of t)r(n)}var ym=new Map;function aC(n,e){return ym.set(n,e),()=>ym.delete(n)}var zD=!1,cC=(n,e,t,r)=>{};function Rk(n,e,t,r){cC(n,e,t,r)}function uC(){zD||(cC=(n,e,t,r)=>{let i=n[Jt].get(kn);ym.get(i)?.(e,t,r)},zD=!0)}var od=new k("");function sd(n){return(n.flags&32)===32}var Nk="__nghData__",zm=Nk,Mk="__nghDeferData__",lC=Mk;var Ll="ngh",dC="nghm",hC=()=>null;function Pk(n,e,t=!1){let r=n.getAttribute(Ll);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let h=e.get(Wo,null,{optional:!0});h!==null&&(u=h.get(zm,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,ad(l,0,n.nextSibling)),a?n.setAttribute(Ll,a):n.removeAttribute(Ll),l}function fC(){hC=Pk}function pC(n,e,t=!1){return hC(n,e,t)}function gC(n){let e=n._lView;return e[B].type===2?null:(Mi(e)&&(e=e[Ce]),e)}function Ok(n){return n.textContent?.replace(/\s/gm,"")}function xk(n){let e=zb(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=Ok(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function ad(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function vm(n,e){return n.segmentHeads?.[e]??null}function mC(n){return n.get(nC,!1,{optional:!0})}function kk(n,e){let t=n.data,r=t[Wb]?.[e]??null;return r===null&&t[rd]?.[e]&&(r=qm(n,e)),r}function yC(n,e){return n.data[rd]?.[e]??null}function qm(n,e){let t=yC(n,e)??[],r=0;for(let i of t)r+=i[La]*(i[Vm]??1);return r}function Lk(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[Um];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function vC(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[Um];n.disconnectedNodes=t?new Set(t):null}return!!Lk(n)?.has(e)}function cd(n,e){let t=n[kt];return t!==null&&!Bg()&&!sd(e)&&!vC(t,e.index-Ce)}function Fk(n,e){let t=e.get(od),i=e.get(Wo).get(lC,{}),o=!1,s=n,a=null,u=[];for(;!o&&s;){o=t.has(s);let l=t.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][Xb]}return{parentBlockPromise:a,hydrationQueue:u}}function am(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===dC}function qD(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function EC(n){for(let r of n.body.childNodes)if(am(r))return;let e=qD(n.body.previousSibling);if(am(e))return;let t=qD(n.head.lastChild);if(!am(t))throw new L(-507,!1)}function _C(n,e){let t=n.contentQueries;if(t!==null){let r=te(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Tl(o),a.contentQueries(2,e[s],s)}}}finally{te(r)}}}function Em(n,e,t){Tl(0);let r=te(null);try{e(n,t)}finally{te(r)}}function IC(n,e,t){if(Og(e)){let r=te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{te(r)}}}var fn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(fn||{});var Ml;function Vk(){if(Ml===void 0&&(Ml=null,bt.trustedTypes))try{Ml=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ml}function GD(n){return Vk()?.createScriptURL(n)||n}var Gl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dl})`}};function za(n){return n instanceof Gl?n.changingThisBreaksApplicationSecurity:n}function ud(n,e){let t=wC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${dl})`)}return t===e}function wC(n){return n instanceof Gl&&n.getTypeName()||null}var Uk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gm(n){return n=String(n),n.match(Uk)?n:"unsafe:"+n}var jk=/^>|^->|<!--|-->|--!>|<!-$/g,Bk=/(<|>)/g,$k="\u200B$1\u200B";function Hk(n){return n.replace(jk,e=>e.replace(Bk,$k))}function TC(n,e){return n.createText(e)}function zk(n,e,t){n.setValue(e,t)}function DC(n,e){return n.createComment(Hk(e))}function Wm(n,e,t){return n.createElement(e,t)}function Wl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bC(n,e,t){n.appendChild(e,t)}function WD(n,e,t,r,i){r!==null?Wl(n,e,t,r,i):bC(n,e,t)}function Km(n,e,t,r){n.removeChild(null,e,t,r)}function CC(n){n.textContent=""}function qk(n,e,t){n.setAttribute(e,"style",t)}function Gk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function SC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&sk(n,e,r),i!==null&&Gk(n,e,i),o!==null&&qk(n,e,o)}var qa=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(qa||{});function AC(n){let e=NC();return e?e.sanitize(qa.URL,n)||"":ud(n,"URL")?za(n):Gm(Ia(n))}function RC(n){let e=NC();if(e)return GD(e.sanitize(qa.RESOURCE_URL,n)||"");if(ud(n,"ResourceURL"))return GD(za(n));throw new L(904,!1)}function Wk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?RC:AC}function Qm(n,e,t){return Wk(e,t)(n)}function NC(){let n=_e();return n&&n[Rn].sanitizer}function MC(n){return n.ownerDocument.body}function PC(n){return n instanceof Function?n():n}function Kk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var OC="ng-template";function Qk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Kk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ym(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ym(n){return n.type===4&&n.value!==OC}function Yk(n,e,t){let r=n.type===4&&!t?OC:n.value;return e===r}function Jk(n,e,t){let r=4,i=n.attrs,o=i!==null?e1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!hn(r)&&!hn(u))return!1;if(s&&hn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Yk(n,u,t)||u===""&&e.length===1){if(hn(r))return!1;s=!0}}else if(r&8){if(i===null||!Qk(n,i,u,t)){if(hn(r))return!1;s=!0}}else{let l=e[++a],h=Zk(u,i,Ym(n),t);if(h===-1){if(hn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(n){return(n&1)===0}function Zk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return t1(e,n)}function Xk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Jk(n,e[r],t))return!0;return!1}function e1(n){for(let e=0;e<n.length;e++){let t=n[e];if(bb(t))return e}return n.length}function t1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function KD(n,e){return n?":not("+e.trim()+")":e}function n1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hn(s)&&(e+=KD(o,i),i=""),r=s,o=o||!hn(r);t++}return i!==""&&(e+=KD(o,i)),e}function r1(n){return n.map(n1).join(",")}function i1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!hn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var $r={};function Jm(n,e,t,r,i,o,s,a,u,l,h){let p=Ce+r,m=p+i,y=o1(p,m),A=typeof l=="function"?l():l;return y[B]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function o1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:$r);return t}function s1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Jm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Zm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[mt]=i,p[G]=r|4|128|8|64|1024,(l!==null||n&&n[G]&2048)&&(p[G]|=2048),kg(p),p[xe]=p[ko]=n,p[St]=t,p[Rn]=s||n&&n[Rn],p[Te]=a||n&&n[Te],p[Jt]=u||n&&n[Jt]||null,p[Yt]=o,p[ba]=Tk(),p[kt]=h,p[Pg]=l,p[At]=e.type==2?n[At]:p,p}function a1(n,e,t){let r=Zt(e,n),i=s1(t),o=n[Rn].rendererFactory,s=Xm(n,Zm(n,i,null,xC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function xC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function kC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Xm(n,e){return n[xo]?n[Mg][Qt]=e:n[xo]=e,n[Mg]=e,e}function Ln(n=1){LC(un(),_e(),Cl()+n,!1)}function LC(n,e,t,r){if(!r)if((e[G]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ol(e,o,t)}else{let o=n.preOrderHooks;o!==null&&xl(e,o,0,t)}Vr(t)}var ld=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(ld||{});function _m(n,e,t,r){let i=te(null);try{let[o,s,a]=n.inputs[t],u=null;(s&ld.SignalBased)!==0&&(u=e[o][Kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Eb(e,u,o,r)}finally{te(i)}}var Hr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Hr||{}),c1;function ey(n,e){return c1(n,e)}var zo=new Set,dd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(dd||{}),zr=new k(""),QD=new Set;function Fn(n){QD.has(n)||(QD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ty=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),FC=[0,1,2,3],VC=(()=>{class n{ngZone=S(Ee);scheduler=S(kr);errorHandler=S(Sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(zr,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ye(ue.AfterRenderHooksStart),this.executing=!0;for(let r of FC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ye(ue.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Ai]??=[]).push(t),Fo(r),r[G]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(dd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Kl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ai];e&&(this.view[Ai]=e.filter(t=>t!==this))}};function hd(n,e){let t=e?.injector??S(be);return Fn("NgAfterNextRender"),l1(n,t,e,!0)}function u1(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function l1(n,e,t,r){let i=e.get(ty);i.impl??=e.get(VC);let o=e.get(zr,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(ln):null,a=e.get(Al,null,{optional:!0}),u=new Kl(i.impl,u1(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var d1=new k("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:S(Ne)})});function UC(n,e,t){let r=n.get(d1);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function h1(n,e){for(let[t,r]of e)UC(n,r.animateFns)}function YD(n,e,t,r){let i=n?.[Sa]?.enter;e!==null&&i&&i.has(t.index)&&h1(r,i)}function Uo(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;Vt(i)?u=i:Ft(i)&&(l=!0,i=i[mt]);let h=Ut(i);n===0&&r!==null?(YD(a,r,o,t),s==null?bC(e,r,h):Wl(e,r,h,s||null,!0)):n===1&&r!==null?(YD(a,r,o,t),Wl(e,r,h,s||null,!0)):n===2?JD(a,o,t,p=>{Km(e,h,l,p)}):n===3&&JD(a,o,t,()=>{e.destroyNode(h)}),u!=null&&b1(e,n,t,u,o,r,s)}}function f1(n,e){jC(n,e),e[mt]=null,e[Yt]=null}function p1(n,e,t,r,i,o){r[mt]=i,r[Yt]=e,fd(n,r,t,1,i,o)}function jC(n,e){e[Rn].changeDetectionScheduler?.notify(9),fd(n,e,e[Te],2,null,null)}function g1(n){let e=n[xo];if(!e)return cm(n[B],n);for(;e;){let t=null;if(Ft(e))t=e[xo];else{let r=e[at];r&&(t=r)}if(!t){for(;e&&!e[Qt]&&e!==n;)Ft(e)&&cm(e[B],e),e=e[xe];e===null&&(e=n),Ft(e)&&cm(e[B],e),t=e&&e[Qt]}e=t}}function ny(n,e){let t=n[Ri],r=t.indexOf(e);t.splice(r,1)}function ry(n,e){if(Fr(e))return;let t=e[Te];t.destroyNode&&fd(n,e,t,3,null,null),g1(e)}function cm(n,e){if(Fr(e))return;let t=te(null);try{e[G]&=-129,e[G]|=256,e[Lt]&&ua(e[Lt]),v1(n,e),y1(n,e),e[B].type===1&&e[Te].destroy();let r=e[Lr];if(r!==null&&Vt(e[xe])){r!==e[xe]&&ny(r,e);let i=e[Nn];i!==null&&i.detachView(n)}gm(e)}finally{te(t)}}function JD(n,e,t,r){let i=n?.[Sa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&zo.add(n),UC(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),m1(n,r)}else n&&zo.delete(n),r(!1)},i)}function m1(n,e){let t=n[Sa]?.running;if(t){t.then(()=>{n[Sa].running=void 0,zo.delete(n),e(!0)});return}e(!1)}function y1(n,e){let t=n.cleanup,r=e[Oo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Oo]=null);let i=e[er];if(i!==null){e[er]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ca];if(o!==null){e[Ca]=null;for(let s of o)s.destroy()}}function v1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ka)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ye(ue.LifecycleHookStart,a,u);try{u.call(a)}finally{ye(ue.LifecycleHookEnd,a,u)}}else{ye(ue.LifecycleHookStart,i,o);try{o.call(i)}finally{ye(ue.LifecycleHookEnd,i,o)}}}}}function E1(n,e,t){return _1(n,e.parent,t)}function _1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[mt];if(nr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===fn.None||i===fn.Emulated)return null}return Zt(r,t)}function I1(n,e,t){return T1(n,e,t)}function w1(n,e,t){return n.type&40?Zt(n,t):null}var T1=w1,ZD;function iy(n,e,t,r){let i=E1(n,r,e),o=e[Te],s=r.parent||e[Yt],a=I1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)WD(o,i,t[u],a,!1);else WD(o,i,t,a,!1);ZD!==void 0&&ZD(o,r,e,t,i)}function Oa(n,e){if(e!==null){let t=e.type;if(t&3)return Zt(e,n);if(t&4)return Im(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Oa(n,r);{let i=n[e.index];return Vt(i)?Im(-1,i):Ut(i)}}else{if(t&128)return Oa(n,e.next);if(t&32)return ey(e,n)()||Ut(n[e.index]);{let r=BC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xr(n[At]);return Oa(i,r)}else return Oa(n,e.next)}}}return null}function BC(n,e){if(e!==null){let r=n[At][Yt],i=e.projection;return r.projection[i]}return null}function Im(n,e){let t=at+n+1;if(t<e.length){let r=e[t],i=r[B].firstChild;if(i!==null)return Oa(r,i)}return e[Mn]}function oy(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Jt];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Ho(Ut(u),r),t.flags|=2),!sd(t))if(l&8)oy(n,e,t.child,r,i,o,!1),Uo(e,n,a,i,u,t,o,r);else if(l&32){let h=ey(t,r),p;for(;p=h();)Uo(e,n,a,i,p,t,o,r);Uo(e,n,a,i,u,t,o,r)}else l&16?D1(n,e,r,t,i,o):Uo(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function fd(n,e,t,r,i,o){oy(t,r,n.firstChild,e,i,o,!1)}function D1(n,e,t,r,i,o){let s=t[At],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Uo(e,n,t[Jt],i,h,r,o,t)}else{let l=u,h=s[xe];ql(r)&&(l.flags|=128),oy(n,e,l,h,i,o,!0)}}function b1(n,e,t,r,i,o,s){let a=r[Mn],u=Ut(r);a!==u&&Uo(e,n,t,o,a,i,s);for(let l=at;l<r.length;l++){let h=r[l];fd(h[B],h,n,e,o,a)}}function $C(n,e,t,r,i){let o=Cl(),s=r&2;try{Vr(-1),s&&e.length>Ce&&LC(n,e,Ce,!1);let a=s?ue.TemplateUpdateStart:ue.TemplateCreateStart;ye(a,i,t),t(r,i)}finally{Vr(o);let a=s?ue.TemplateUpdateEnd:ue.TemplateCreateEnd;ye(a,i,t)}}function sy(n,e,t){O1(n,e,t),(t.flags&64)===64&&x1(n,e,t)}function HC(n,e,t=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function C1(n,e,t,r){let o=r.get(jm,eC)||t===fn.ShadowDom||t===fn.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return S1(s),s}function S1(n){zC(n)}var zC=()=>null;function A1(n){Vb(n)?CC(n):xk(n)}function qC(){zC=A1}function R1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function N1(n,e,t,r,i,o){let s=e[B];if(cy(n,s,e,t,r)){nr(n)&&P1(e,n.index);return}n.type&3&&(t=R1(t)),M1(n,e,t,r,i,o)}function M1(n,e,t,r,i,o){if(n.type&3){let s=Zt(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function P1(n,e){let t=Xt(e,n);t[G]&16||(t[G]|=64)}function O1(n,e,t){let r=t.directiveStart,i=t.directiveEnd;nr(t)&&a1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Rb(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Hl(e,n,s,t);if(Ho(u,e),o!==null&&V1(e,s-r,u,a,t,o),Ni(a)){let l=Xt(t.index,e);l[St]=Hl(e,n,s,t)}}}function x1(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=RD();try{Vr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];wl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&k1(u,l)}}finally{Vr(-1),wl(s)}}function k1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function GC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Xk(e,o.selectors,!1)&&(r??=[],Ni(o)?r.unshift(o):r.push(o))}return r}function L1(n,e,t,r,i,o){let s=Zt(n,e);F1(e[Te],s,o,n.value,t,r,i)}function F1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ia(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function V1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];_m(r,t,u,l)}}function U1(n,e,t,r,i){let o=Ce+t,s=e[B],a=i(s,e,n,r,t);e[o]=a,Vo(n,!0);let u=n.type===2;return u?(SC(e[Te],a,n),(vD()===0||Ra(n))&&Ho(a,e),ED()):Ho(a,e),Sl()&&(!u||!sd(n))&&iy(s,e,a,n),n}function j1(n){let e=n;return Hg()?bD():(e=e.parent,Vo(e,!1)),e}function ay(n,e){let t=n[Jt];if(!t)return;let r;try{r=t.get(jt,null)}catch{r=null}r?.(e)}function cy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];_m(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];_m(h,l,r,i),a=!0}return a}function B1(n,e){let t=Xt(e,n),r=t[B];$1(r,t);let i=t[mt];i!==null&&t[kt]===null&&(t[kt]=pC(i,t[Jt])),ye(ue.ComponentStart);try{uy(r,t,t[St])}finally{ye(ue.ComponentEnd,t[St])}}function $1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function uy(n,e,t){Dl(e);try{let r=n.viewQuery;r!==null&&Em(1,r,t);let i=n.template;i!==null&&$C(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Nn]?.finishViewCreation(n),n.staticContentQueries&&_C(n,e),n.staticViewQueries&&Em(2,n.viewQuery,t);let o=n.components;o!==null&&H1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[G]&=-5,bl()}}function H1(n,e){for(let t=0;t<e.length;t++)B1(n,e[t])}function WC(n,e,t,r){let i=te(null);try{let o=e.tView,a=n[G]&4096?4096:16,u=Zm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Lr]=l;let h=n[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(o)),uy(o,u,t),u}finally{te(i)}}function wm(n,e){return!e||e.firstChild===null||ql(n)}function Fa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ut(o)),Vt(o)&&KC(o,r);let s=t.type;if(s&8)Fa(n,e,t.child,r);else if(s&32){let a=ey(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=BC(e,t);if(Array.isArray(a))r.push(...a);else{let u=xr(e[At]);Fa(u[B],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function KC(n,e){for(let t=at;t<n.length;t++){let r=n[t],i=r[B].firstChild;i!==null&&Fa(r[B],r,i,e)}n[Mn]!==n[mt]&&e.push(n[Mn])}function QC(n){if(n[Ai]!==null){for(let e of n[Ai])e.impl.addSequence(e);n[Ai].length=0}}var YC=[];function z1(n){return n[Lt]??q1(n)}function q1(n){let e=YC.pop()??Object.create(W1);return e.lView=n,e}function G1(n){n.lView[Lt]!==n&&(n.lView=null,YC.push(n))}var W1=ne(R({},Mu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Fo(n.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function K1(n){let e=n[Lt]??Object.create(Q1);return e.lView=n,e}var Q1=ne(R({},Mu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xr(n.lView);for(;e&&!JC(e[B]);)e=xr(e);e&&Lg(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function JC(n){return n.type!==2}function ZC(n){if(n[Ca]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ca])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[G]&8192)}}var Y1=100;function XC(n,e=0){let r=n[Rn].rendererFactory,i=!1;i||r.begin?.();try{J1(n,e)}finally{i||r.end?.()}}function J1(n,e){let t=zg();try{qg(!0),Tm(n,e);let r=0;for(;Ma(n);){if(r===Y1)throw new L(103,!1);r++,Tm(n,1)}}finally{qg(t)}}function Z1(n,e,t,r){if(Fr(e))return;let i=e[G],o=!1,s=!1;Dl(e);let a=!0,u=null,l=null;o||(JC(n)?(l=z1(e),u=Ou(l)):Nu()===null?(a=!1,l=K1(e),u=Ou(l)):e[Lt]&&(ua(e[Lt]),e[Lt]=null));try{kg(e),CD(n.bindingStartIndex),t!==null&&$C(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ol(e,y,null)}else{let y=n.preOrderHooks;y!==null&&xl(e,y,0,null),om(e,0)}if(s||X1(e),ZC(e),eS(e,0),n.contentQueries!==null&&_C(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ol(e,y)}else{let y=n.contentHooks;y!==null&&xl(e,y,1),om(e,1)}tL(n,e);let p=n.components;p!==null&&nS(e,p,0);let m=n.viewQuery;if(m!==null&&Em(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ol(e,y)}else{let y=n.viewHooks;y!==null&&xl(e,y,2),om(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vl]){for(let y of e[vl])y();e[vl]=null}o||(QC(e),e[G]&=-73)}catch(h){throw o||Fo(e),h}finally{l!==null&&(Op(l,u),a&&G1(l)),bl()}}function eS(n,e){for(let t=Bb(n);t!==null;t=$b(t))for(let r=at;r<t.length;r++){let i=t[r];tS(i,e)}}function X1(n){for(let e=Bb(n);e!==null;e=$b(e)){if(!(e[G]&2))continue;let t=e[Ri];for(let r=0;r<t.length;r++){let i=t[r];Lg(i)}}}function eL(n,e,t){ye(ue.ComponentStart);let r=Xt(e,n);try{tS(r,t)}finally{ye(ue.ComponentEnd,r[St])}}function tS(n,e){El(n)&&Tm(n,e)}function Tm(n,e){let r=n[B],i=n[G],o=n[Lt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xu(o)),s||=!1,o&&(o.dirty=!1),n[G]&=-9217,s)Z1(r,n,r.template,n[St]);else if(i&8192){let a=te(null);try{ZC(n),eS(n,1);let u=r.components;u!==null&&nS(n,u,1),QC(n)}finally{te(a)}}}function nS(n,e,t){for(let r=0;r<e.length;r++)eL(n,e[r],t)}function tL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Vr(~i);else{let o=i,s=t[++r],a=t[++r];AD(s,o);let u=e[o];ye(ue.HostBindingsUpdateStart,u);try{a(2,u)}finally{ye(ue.HostBindingsUpdateEnd,u)}}}}finally{Vr(-1)}}function pd(n,e){let t=zg()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[G]|=t;let r=xr(n);if(Mi(n)&&!r)return n;n=r}return null}function rS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function iS(n,e,t,r=!0){let i=e[B];if(rL(i,e,n,t),r){let s=Im(t,n),a=e[Te],u=a.parentNode(n[Mn]);u!==null&&p1(i,n[Yt],a,e,u,s)}let o=e[kt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function nL(n,e){let t=Ql(n,e);return t!==void 0&&ry(t[B],t),t}function Ql(n,e){if(n.length<=at)return;let t=at+e,r=n[t];if(r){let i=r[Lr];i!==null&&i!==n&&ny(i,r),e>0&&(n[t-1][Qt]=r[Qt]);let o=wa(n,at+e);f1(r[B],r);let s=o[Nn];s!==null&&s.detachView(o[B]),r[xe]=null,r[Qt]=null,r[G]&=-129}return r}function rL(n,e,t,r){let i=at+r,o=t.length;r>0&&(t[i-1][Qt]=e),r<o-at?(e[Qt]=t[i],Dg(t,at+r,e)):(t.push(e),e[Qt]=null),e[xe]=t;let s=e[Lr];s!==null&&t!==s&&oS(s,e);let a=e[Nn];a!==null&&a.insertView(n),_l(e),e[G]|=128}function oS(n,e){let t=n[Ri],r=e[xe];if(Ft(r))n[G]|=2;else{let i=r[xe][At];e[At]!==i&&(n[G]|=2)}t===null?n[Ri]=[e]:t.push(e)}var jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[B];return Fa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return Fr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(Vt(e)){let t=e[Aa],r=t?t.indexOf(this):-1;r>-1&&(Ql(e,r),wa(t,r))}this._attachedToViewContainer=!1}ry(this._lView[B],this._lView)}onDestroy(e){Fg(this._lView,e)}markForCheck(){pd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){_l(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,XC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Mi(this._lView),t=this._lView[Lr];t!==null&&!e&&ny(t,this._lView),jC(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Mi(this._lView),r=this._lView[Lr];r!==null&&!t&&oS(r,this._lView),_l(this._lView)}};var Br=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=iL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=WC(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new jr(o)}}return n})();function iL(){return ly(Rt(),_e())}function ly(n,e){return n.type&4?new Br(e,n,Go(n,e)):null}function dy(n,e,t,r,i){let o=n.data[e];if(o===null)o=oL(n,e,t,r,i),SD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=DD();o.injectorIndex=s===null?-1:s.injectorIndex}return Vo(o,!0),o}function oL(n,e,t,r,i){let o=$g(),s=Hg(),a=s?o:o&&o.parent,u=n.data[e]=aL(n,a,t,e,r,i);return sL(n,u,o,s),u}function sL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function aL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Bg()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cL=new RegExp(`^(\\d+)*(${Gb}|${qb})*(.*)`);function uL(n){let e=n.match(cL),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function lL(n){return!n.prev&&n.parent?.type===8}function um(n){return n.index-Ce}function dL(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function gd(n,e,t,r){let i=um(r),o=dL(n,i);if(o===void 0){let s=n.data[Yb];if(s?.[i])o=fL(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(lL(r)){let l=um(r.parent);o=vm(n,l)}else{let l=Zt(u,t);if(a)o=l.firstChild;else{let h=um(u),p=vm(n,h);if(u.type===2&&p){let y=qm(n,h)+1;o=md(y,p)}else o=l.nextSibling}}}}return o}function md(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function hL(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Sk:t=t.firstChild;break;case Ak:t=t.nextSibling;break}}return t}function fL(n,e){let[t,...r]=uL(n),i;if(t===qb)i=e[At][mt];else if(t===Gb)i=MC(e[At][mt]);else{let o=Number(t);i=Ut(e[o+Ce])}return hL(i,r)}var pL=!1;function sS(n){pL=n}function gL(n){let e=n[kt];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Te];for(let o of r.values())mL(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function mL(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Ce);i&&Km(n,i,!1)}}function hy(n){let e=n[cn]??[],r=n[xe][Te],i=[];for(let o of e)o.data[Jb]!==void 0?i.push(o):aS(o,r);n[cn]=i}function yL(n){let{lContainer:e}=n,t=e[cn];if(t===null)return;let i=e[xe][Te];for(let o of t)aS(o,i)}function aS(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[La];for(;t<i;){let o=r.nextSibling;Km(e,r,!1),r=o,t++}}}function yd(n){hy(n);let e=n[mt];Ft(e)&&Yl(e);for(let t=at;t<n.length;t++)Yl(n[t])}function Yl(n){gL(n);let e=n[B];for(let t=Ce;t<e.bindingStartIndex;t++)if(Vt(n[t])){let r=n[t];yd(r)}else Ft(n[t])&&Yl(n[t])}function fy(n){let e=n._views;for(let t of e){let r=gC(t);r!==null&&r[mt]!==null&&(Ft(r)?Yl(r):yd(r))}}function vL(n,e,t,r){n!==null&&(t.cleanup(e),yd(n.lContainer),fy(r))}function EL(n,e){let t=[];for(let r of e)for(let i=0;i<(r[Vm]??1);i++){let o={data:r,firstChild:null};r[La]>0&&(o.firstChild=n,n=md(r[La],n)),t.push(o)}return[n,t]}var cS=()=>null,_L=()=>null;function uS(){cS=IL,_L=wL}function IL(n,e){return lS(n,e)?n[cn].shift():(hy(n),null)}function Dm(n,e){return cS(n,e)}function wL(n,e,t){if(e.tView.ssrId===null)return null;let r=Dm(n,e.tView.ssrId);return t[B].firstUpdatePass&&r===null&&TL(t,e),r}function TL(n,e){let t=e;for(;t;){if(XD(n,t))return;if((t.flags&256)===256)break;t=t.prev}for(t=e.next;t&&(t.flags&512)===512;){if(XD(n,t))return;t=t.next}}function lS(n,e){let t=n[cn];return!e||t===null||t.length===0?!1:t[0].data[Qb]===e}function XD(n,e){let t=e.tView?.ssrId;if(t==null)return!1;let r=n[e.index];return Vt(r)&&lS(r,t)?(hy(r),!0):!1}var dS=class{},vd=class{},bm=class{resolveComponentFactory(e){throw new L(917,!1)}},Ga=class{static NULL=new bm},xi=class{},Ko=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>DL()}return n})();function DL(){let n=_e(),e=Rt(),t=Xt(e.index,n);return(Ft(t)?t:n)[Te]}var hS=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var Fl={},Bo=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Fl,r);return i!==Fl||t===Fl?i:this.parentInjector.get(e,t,r)}};function eb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pg(i,a);else if(o==2){let u=a,l=e[++s];r=pg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ue(n,e=0){let t=_e();if(t===null)return $(n,e);let r=Rt();return Ob(r,t,Dt(n),e)}function py(){let n="invalid";throw new Error(n)}function fS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}SL(n,e,t,a,o,u,l)}o!==null&&r!==null&&bL(t,r,o)}function bL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function CL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function SL(n,e,t,r,i,o,s){let a=r.length,u=null;for(let m=0;m<a;m++){let y=r[m];u===null&&Ni(y)&&(u=y,CL(n,t,m)),hk(Rb(t,e),n,y.type)}OL(t,n.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=kC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=xm(t.mergedAttrs,y.hostAttrs),RL(n,t,e,p,y),PL(p,y,i),s!==null&&s.has(y)){let[M,N]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}AL(n,t,o)}function AL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))tb(0,e,i,r),tb(1,e,i,r),rb(e,r,!1);else{let o=t.get(i);nb(0,e,o,r),nb(1,e,o,r),rb(e,r,!0)}}}function tb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),pS(e,o)}}function nb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),pS(e,s)}}function pS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function rb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ym(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function RL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Or(i.type,!0)),s=new ka(o,Ni(i),Ue,null);n.blueprint[r]=s,t[r]=s,NL(n,e,r,kC(n,t,i.hostVars,$r),i)}function NL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;ML(s)!=a&&s.push(a),s.push(t,r,o)}}function ML(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function PL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ni(e)&&(t[""]=n)}}function OL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function gS(n,e,t,r,i,o,s,a){let u=e[B],l=u.consts,h=Na(l,s),p=dy(u,n,t,r,h);return o&&fS(u,e,p,Na(l,a),i),p.mergedAttrs=xm(p.mergedAttrs,p.attrs),p.attrs!==null&&eb(p,p.attrs,!1),p.mergedAttrs!==null&&eb(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function mS(n,e){Tb(n,e),Og(e)&&n.queries.elementEnd(e)}function gy(n){return vS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function yS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function vS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ES(n,e,t){return n[e]=t}function xL(n,e){return n[e]}function Ed(n,e,t){if(t===$r)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function lm(n,e,t){return function r(i){let o=nr(n)?Xt(n.index,e):e;pd(o,5);let s=e[St],a=ib(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=ib(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ib(n,e,t,r){let i=te(null);try{return ye(ue.OutputStart,e,t),t(r)!==!1}catch(o){return ay(n,o),!1}finally{ye(ue.OutputEnd,e,t),te(i)}}function kL(n,e,t,r,i,o,s,a){let u=Ra(n),l=!1,h=null;if(!r&&u&&(h=FL(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Zt(n,t),m=r?r(p):p;Rk(t,m,o,a);let y=i.listen(m,o,a);if(!LL(o)){let A=r?M=>r(Ut(M[n.index])):n.index;_S(A,e,t,o,a,y,!1)}}return l}function LL(n){return n.startsWith("animation")||n.startsWith("transition")}function FL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Oo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function _S(n,e,t,r,i,o,s){let a=e.firstCreatePass?Ug(e):null,u=Vg(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function ob(n,e,t,r,i,o){let s=e[t],a=e[B],l=a.data[t].outputs[r],p=s[l].subscribe(o);_S(n.index,a,e,i,o,p,!0)}var Cm=Symbol("BINDING");var Jl=class extends Ga{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=An(e);return new ki(t,this.ngModule)}};function VL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ld.SignalBased)!==0};return i&&(o.transform=i),o})}function UL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function jL(n,e,t){let r=e instanceof Ne?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Bo(t,r):t}function BL(n){let e=n.get(xi,null);if(e===null)throw new L(407,!1);let t=n.get(hS,null),r=n.get(kr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function $L(n,e){let t=IS(n);return Wm(e,t,t==="svg"?lD:t==="math"?dD:null)}function IS(n){return(n.selectors[0][0]||"div").toLowerCase()}var ki=class extends vd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=r1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ye(ue.DynamicComponentStart);let a=te(null);try{let u=this.componentDef,l=HL(r,u,s,o),h=jL(u,i||this.ngModule,e),p=BL(h),m=p.rendererFactory.createRenderer(null,u),y=r?C1(m,r,u.encapsulation,h):$L(u,m),A=s?.some(sb)||o?.some(V=>typeof V!="function"&&V.bindings.some(sb)),M=Zm(null,l,null,512|xC(u),null,null,p,m,h,null,pC(y,h,!0));M[Ce]=y,Dl(M);let N=null;try{let V=gS(Ce,M,2,"#host",()=>l.directiveRegistry,!0,0);SC(m,y,V),Ho(y,M),sy(l,M,V),IC(l,V,M),mS(l,V),t!==void 0&&qL(V,this.ngContentSelectors,t),N=Xt(V.index,M),M[St]=N[St],uy(l,M,null)}catch(V){throw N!==null&&gm(N),gm(M),V}finally{ye(ue.DynamicComponentEnd),bl()}return new Zl(this.componentType,M,!!A)}finally{te(a)}}};function HL(n,e,t,r){let i=n?["ng-version","21.0.3"]:i1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Cm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Cm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=ml(p);u.push(m)}return Jm(0,null,zL(o,s),1,a,u,null,null,null,[i],null)}function zL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function sb(n){let e=n[Cm].kind;return e==="input"||e==="twoWay"}var Zl=class extends dS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Lo(t[B],Ce),this.location=Go(this._tNode,t),this.instance=Xt(this._tNode.index,t)[St],this.hostView=this.changeDetectorRef=new jr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=cy(r,i[B],i,e,t);this.previousInputValues.set(e,t);let s=Xt(r.index,i);pd(s,1)}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ir=(()=>{class n{static __NG_ELEMENT_ID__=GL}return n})();function GL(){let n=Rt();return TS(n,_e())}var WL=ir,wS=class extends WL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=km(this._hostTNode,this._hostLView);if(Cb(e)){let t=Bl(e,this._hostLView),r=jl(e),i=t[B].data[r+8];return new Oi(i,t)}else return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ab(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Dm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,wm(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!Zx(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new ki(An(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let V=(u?p:this.parentInjector).get(Ne,null);V&&(o=V)}let m=An(h.componentType??{}),y=Dm(this._lContainer,m?.id??null),A=y?.firstChild??null,M=h.create(p,i,A,o,s,a);return this.insertImpl(M.hostView,l,wm(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(gD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[xe],l=new wS(u,u[Yt],u[xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return iS(s,i,o,r),e.attachToViewContainerRef(),Dg(dm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ab(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ql(this._lContainer,t);r&&(wa(dm(this._lContainer),t),ry(r[B],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ql(this._lContainer,t);return r&&wa(dm(this._lContainer),t)!=null?new jr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ab(n){return n[Aa]}function dm(n){return n[Aa]||(n[Aa]=[])}function TS(n,e){let t,r=e[n.index];return Vt(r)?t=r:(t=rS(r,e,null,n),e[n.index]=t,Xm(e,t)),DS(t,e,n,r),new wS(t,n,e)}function KL(n,e){let t=n[Te],r=t.createComment(""),i=Zt(e,n),o=t.parentNode(i);return Wl(t,o,r,t.nextSibling(i),!1),r}var DS=bS,my=()=>!1;function QL(n,e,t){return my(n,e,t)}function bS(n,e,t,r){if(n[Mn])return;let i;t.type&8?i=Ut(r):i=KL(e,t),n[Mn]=i}function YL(n,e,t){if(n[Mn]&&n[cn])return!0;let r=t[kt],i=e.index-Ce;if(!r||Ub(e)||vC(r,i))return!1;let s=vm(r,i),a=r.data[rd]?.[i],[u,l]=EL(s,a);return n[Mn]=u,n[cn]=l,!0}function JL(n,e,t,r){my(n,t,e)||bS(n,e,t,r)}function CS(){DS=JL,my=YL}var Sm=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Am=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)yy(e,t).matches!==null&&this.queries[t].setDirty()}},Rm=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=oF(e):this.predicate=e}},Nm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Mm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,ZL(t,o)),this.matchTNodeWithReadOption(e,t,kl(t,e,o,!1,!1))}else r===Br?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,kl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xn||i===ir||i===Br&&t.type&4)this.addMatch(t.index,-2);else{let o=kl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function ZL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function XL(n,e){return n.type&11?Go(n,e):n.type&4?ly(n,e):null}function eF(n,e,t,r){return t===-1?XL(e,n):t===-2?tF(n,e,r):Hl(n,n[B],t,e)}function tF(n,e,t){if(t===xn)return Go(e,n);if(t===Br)return ly(e,n);if(t===ir)return TS(e,n)}function SS(n,e,t,r){let i=e[Nn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(eF(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Pm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=SS(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=at;p<h.length;p++){let m=h[p];m[Lr]===m[xe]&&Pm(m[B],m,l,r)}if(h[Ri]!==null){let p=h[Ri];for(let m=0;m<p.length;m++){let y=p[m];Pm(y[B],y,l,r)}}}}}return r}function nF(n,e){return n[Nn].queries[e].queryList}function rF(n,e,t){let r=new zl((t&4)===4);return yD(n,e,r,r.destroy),(e[Nn]??=new Am).queries.push(new Sm(r))-1}function iF(n,e,t,r){let i=un();if(i.firstCreatePass){let o=Rt();sF(i,new Rm(e,t,r),o.index),aF(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return rF(i,_e(),t)}function oF(n){return n.split(",").map(e=>e.trim())}function sF(n,e,t){n.queries===null&&(n.queries=new Nm),n.queries.track(new Mm(e,t))}function aF(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function yy(n,e){return n.queries.getByIndex(e)}function cF(n,e){let t=n[B],r=yy(t,e);return r.crossesNgTemplate?Pm(t,n,e,[]):SS(t,n,r,e)}var Om=new Map,uF=new Set;async function AS(n){let e=Om;Om=new Map;let t=new Map;function r(o){let s=t.get(o);if(s)return s;let a=n(o).then(u=>lF(o,u));return t.set(o,a),a}let i=Array.from(e).map(async([o,s])=>{if(s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let a=[];s.templateUrl&&a.push(r(s.templateUrl).then(p=>{s.template=p}));let u=typeof s.styles=="string"?[s.styles]:s.styles??[];s.styles=u;let{styleUrl:l,styleUrls:h}=s;if(l&&(h=[l],s.styleUrl=void 0),h?.length){let p=Promise.all(h.map(m=>r(m))).then(m=>{u.push(...m),s.styleUrls=void 0});a.push(p)}await Promise.all(a),uF.delete(o)});await Promise.all(i)}function RS(){return Om.size===0}async function lF(n,e){if(typeof e=="string")return e;if(e.status!==void 0&&e.status!==200)throw new L(918,!1);return e.text()}var Li=class{},_d=class{};var Va=class extends Li{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Sg(e);this._bootstrapComponents=PC(o.bootstrap),this._r3Injector=Zg(e,t,[{provide:Li,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver},...r],Pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ua=class extends _d{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Va(this.moduleType,e,[])}};function NS(n,e,t){return new Va(n,e,t,!1)}var Xl=class extends Li{injector;componentFactoryResolver=new Jl(this);instance=null;constructor(e){super();let t=new Di([...e.providers,{provide:Li,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver}],e.parent||Da(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ui(n,e,t=null){return new Xl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var dF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=yl(!1,t.type),i=r.length>0?Ui([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n($(Ne))})}return n})();function $t(n){return qo(()=>{let e=MS(n),t=ne(R({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Lm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(dF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fn.Emulated,styles:n.styles||sn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Fn("NgStandalone"),PS(t);let r=n.dependencies;return t.directiveDefs=cb(r,hF),t.pipeDefs=cb(r,Ag),t.id=gF(t),t})}function hF(n){return An(n)||ml(n)}function Ht(n){return qo(()=>({type:n.type,bootstrap:n.bootstrap||sn,declarations:n.declarations||sn,imports:n.imports||sn,exports:n.exports||sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fF(n,e){if(n==null)return Ci;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ld.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function pF(n){if(n==null)return Ci;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function or(n){return qo(()=>{let e=MS(n);return PS(e),e})}function vy(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function MS(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ci,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:fF(n.inputs,e),outputs:pF(n.outputs),debugInfo:null}}function PS(n){n.features?.forEach(e=>e(n))}function cb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function gF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function mF(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=xm(n.mergedAttrs,n.attrs);let h=n.tView=Jm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Vo(n,!1);let u=OS(t,e,n,r);Sl()&&iy(t,e,u,n),Ho(u,e);let l=rS(u,e,u,n);e[r+Ce]=l,Xm(e,l),QL(l,n,e)}function yF(n,e,t,r,i,o,s,a,u,l,h){let p=t+Ce,m;return e.firstCreatePass?(m=dy(e,p,4,s||null,a||null),jg()&&fS(e,n,m,Na(e.consts,l),GC),Tb(e,m)):m=e.data[p],mF(m,n,e,t,r,i,o,u),Ra(m)&&sy(e,n,m),l!=null&&HC(n,m,h),m}function Wa(n,e,t,r,i,o,s,a){let u=_e(),l=un(),h=Na(l.consts,o);return yF(u,l,n,e,t,r,i,h,void 0,s,a),Wa}var OS=xS;function xS(n,e,t,r){return rr(!0),e[Te].createComment("")}function vF(n,e,t,r){let i=!cd(e,t);rr(i);let o=e[kt]?.data[Kb]?.[r]??null;if(o!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=o),i)return xS(n,e);let s=e[kt],a=gd(s,n,e,t);ad(s,r,a);let u=qm(s,r);return md(u,a)}function kS(){OS=vF}var Bt=(function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n})(Bt||{}),ub=0,EF=1,Ve=(function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n})(Ve||{});var _F=0,Ka=1;var IF=4,wF=5;var TF=7,$o=8,DF=9,Ey=(function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n})(Ey||{});function Vl(n,e){let t=CF(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function bF(n){Vl(1,n),Vl(0,n),Vl(2,n)}function CF(n){let e=IF;return n===1?e=wF:n===2&&(e=DF),e}function LS(n){return n+1}function Qo(n,e){let t=n[B],r=LS(e.index);return n[r]}function Qa(n,e){let t=LS(e.index);return n.data[t]}function SF(n,e,t){let r=e[B],i=Qa(r,t);switch(n){case Ve.Complete:return i.primaryTmplIndex;case Ve.Loading:return i.loadingTmplIndex;case Ve.Error:return i.errorTmplIndex;case Ve.Placeholder:return i.placeholderTmplIndex;default:return null}}function lb(n,e){return e===Ve.Placeholder?n.placeholderBlockConfig?.[ub]??null:e===Ve.Loading?n.loadingBlockConfig?.[ub]??null:null}function AF(n){return n.loadingBlockConfig?.[EF]??null}function db(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function RF(n,e){let t=e.primaryTmplIndex+Ce;return Lo(n,t)}var NF=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){let s=i.length>0?Ui(i,r,o):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n})}return n})();var FS=new k("");function hm(n,e,t){return n.get(NF).getOrCreateInjector(e,n,t,"")}function MF(n,e,t){if(n instanceof Bo){let i=n.injector,o=n.parentInjector,s=hm(o,e,t);return new Bo(i,s)}let r=n.get(Ne);if(r!==n){let i=hm(r,e,t);return new Bo(n,i)}return hm(n,e,t)}function Pi(n,e,t,r=!1){let i=t[xe],o=i[B];if(Fr(i))return;let s=Qo(i,e),a=s[Ka],u=s[TF];if(!(u!==null&&n<u)&&hb(a,n)&&hb(s[_F]??-1,n)){let l=Qa(o,e),p=!r&&!0&&(AF(l)!==null||lb(l,Ve.Loading)!==null||lb(l,Ve.Placeholder))?xF:OF;try{p(n,s,t,e,i)}catch(m){ay(i,m)}}}function PF(n,e){let t=n[cn]?.findIndex(i=>i.data[Zb]===e[Ka])??-1;return{dehydratedView:t>-1?n[cn][t]:null,dehydratedViewIx:t}}function OF(n,e,t,r,i){ye(ue.DeferBlockStateStart);let o=SF(n,i,r);if(o!==null){e[Ka]=n;let s=i[B],a=o+Ce,u=Lo(s,a),l=0;nL(t,l);let h;if(n===Ve.Complete){let A=Qa(s,r),M=A.providers;M&&M.length>0&&(h=MF(i[Jt],A,M))}let{dehydratedView:p,dehydratedViewIx:m}=PF(t,e),y=WC(i,u,null,{injector:h,dehydratedView:p});if(iS(t,y,l,wm(u,p)),pd(y,2),m>-1&&t[cn]?.splice(m,1),(n===Ve.Complete||n===Ve.Error)&&Array.isArray(e[$o])){for(let A of e[$o])A();e[$o]=null}}ye(ue.DeferBlockStateEnd)}function hb(n,e){return n<e}function fb(n,e,t){n.loadingPromise.then(()=>{n.loadingState===Bt.COMPLETE?Pi(Ve.Complete,e,t):n.loadingState===Bt.FAILED&&Pi(Ve.Error,e,t)})}var xF=null;var Id=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var wd=new k(""),Td=new k(""),Ya=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,Ng()&&(this._destroyRef=S(ln,{optional:!0})??void 0),_y||(US(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)($(Ee),$(VS),$(Td))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),VS=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return _y?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function US(n){_y=n}var _y;function ji(n){return!!n&&typeof n.then=="function"}function Dd(n){return!!n&&typeof n.subscribe=="function"}var Iy=new k("");function bd(n){return gt([{provide:Iy,multi:!0,useValue:n}])}var wy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=S(Iy,{optional:!0})??[];injector=S(be);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ke(this.injector,i);if(ji(o))t.push(o);else if(Dd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qr=new k("");function jS(){kp(()=>{let n="";throw new L(600,n)})}function BS(n){return n.isBoundToModule}var kF=10;function Ty(n,e){return Array.isArray(e)?e.reduce(Ty,n):R(R({},n),e)}var yt=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(jt);afterRenderManager=S(ty);zonelessEnabled=S(Pa);rootEffectScheduler=S(im);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(Pn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(we(t=>!t))}constructor(){S(zr,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=S(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=be.NULL){return this._injector.get(Ee).run(()=>{ye(ue.BootstrapComponentStart);let s=t instanceof vd;if(!this._injector.get(wy).done){let A="";throw new L(405,A)}let u;s?u=t:u=this._injector.get(Ga).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=BS(u)?void 0:this._injector.get(Li),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(wd,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),xa(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ye(ue.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(ue.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(dd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ye(ue.ChangeDetectionEnd),new L(101,!1);let t=te(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,te(t),this.afterTick.next(),ye(ue.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<kF;){ye(ue.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ye(ue.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ma(i))continue;let o=r&&!this.zonelessEnabled?0:1;XC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ma(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;xa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(qr,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>xa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LF(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function $S(n,e,t){let r=e[Jt],i=e[B];if(n.loadingState!==Bt.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=Qo(e,t),s=RF(i,n);n.loadingState=Bt.IN_PROGRESS,Vl(1,o);let a=n.dependencyResolverFn,u=r.get(Ur).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let A=y.value,M=An(A)||ml(A);if(M)p.push(M);else{let N=Ag(A);N&&m.push(N)}}else{h=!0;break}if(h){if(n.loadingState=Bt.FAILED,n.errorTmplIndex===null){let A=new L(-750,!1);ay(e,A)}}else{n.loadingState=Bt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=db(y.directiveRegistry,p);let A=p.map(N=>N.type),M=yl(!1,...A);n.providers=M}m.length>0&&(y.pipeRegistry=db(y.pipeRegistry,m))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,u()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=Bt.COMPLETE,u()}),n.loadingPromise)}function FF(n,e){return e[Jt].get(FS,null,{optional:!0})?.behavior!==Ey.Manual}function VF(n,e,t){let r=e[B],i=e[t.index];if(!FF(n,e))return;let o=Qo(e,t),s=Qa(r,t);switch(bF(o),s.loadingState){case Bt.NOT_STARTED:Pi(Ve.Loading,t,i),$S(s,e,t),s.loadingState===Bt.IN_PROGRESS&&fb(s,t,i);break;case Bt.IN_PROGRESS:Pi(Ve.Loading,t,i),fb(s,t,i);break;case Bt.COMPLETE:Pi(Ve.Complete,t,i);break;case Bt.FAILED:Pi(Ve.Error,t,i);break;default:}}async function HS(n,e,t){let r=n.get(od);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=Fk(e,n);if(s.length===0)return;o!==null&&s.shift(),BF(r,s),o!==null&&await o;let a=s[0];r.has(a)?await pb(n,s,t):r.awaitParentBlock(a,async()=>await pb(n,s,t))}async function pb(n,e,t){let r=n.get(od),i=r.hydrating,o=n.get(Pn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],h=r.get(l);if(h!=null){if(await HF(h),await $F(n),UF(h)){yL(h),gb(e.slice(u),r);break}i.get(l).resolve()}else{jF(u,e,r),gb(e.slice(u),r);break}}let a=e[e.length-1];await i.get(a)?.promise,o.remove(s),t&&t(e),vL(r.get(a),e,r,n.get(yt))}function UF(n){return Qo(n.lView,n.tNode)[Ka]===Ve.Error}function jF(n,e,t){let r=n-1,i=r>-1?t.get(e[r]):null;i&&yd(i.lContainer)}function gb(n,e){let t=e.hydrating;for(let r in n)t.get(r)?.reject();e.cleanup(n)}function BF(n,e){for(let t of e)n.hydrating.set(t,LF())}function $F(n){return new Promise(e=>hd(e,{injector:n}))}async function HF(n){let{tNode:e,lView:t}=n,r=Qo(t,e);return new Promise(i=>{zF(r,i),VF(2,t,e)})}function zF(n,e){Array.isArray(n[$o])||(n[$o]=[]),n[$o].push(e)}function Cd(n,e,t,r){let i=_e(),o=Il();if(Ed(i,o,e)){let s=un(),a=Yg();L1(a,i,n,e,t,r)}return Cd}var nK=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Bi(n,e,t){let r=_e(),i=Il();if(Ed(r,i,e)){let o=un(),s=Yg();N1(s,r,n,e,r[Te],t)}return Bi}function mb(n,e,t,r,i){cy(e,n,t,i?"class":"style",r)}function Z(n,e,t,r){let i=_e(),o=i[B],s=n+Ce,a=o.firstCreatePass?gS(s,i,2,e,GC,jg(),t,r):o.data[s];if(U1(a,i,n,e,zS),Ra(a)){let u=i[B];sy(u,i,a),IC(u,a,i)}return r!=null&&HC(i,a),Z}function J(){let n=un(),e=Rt(),t=j1(e);return n.firstCreatePass&&mS(n,t),ID(t)&&TD(),_D(),t.classesWithoutHost!=null&&ik(t)&&mb(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ok(t)&&mb(n,t,_e(),t.stylesWithoutHost,!1),J}function Pt(n,e,t,r){return Z(n,e,t,r),J(),Pt}var zS=(n,e,t,r,i)=>(rr(!0),Wm(e[Te],r,Jg()));function qF(n,e,t,r,i){let o=!cd(e,t);if(rr(o),o)return Wm(e[Te],r,Jg());let s=e[kt],a=gd(s,n,e,t);return yC(s,i)&&ad(s,i,a.nextSibling),s&&(Fb(t)||Vb(a))&&nr(t)&&(wD(t),CC(a)),a}function qS(){zS=qF}var GF=(n,e,t,r,i)=>(rr(!0),DC(e[Te],""));function WF(n,e,t,r,i){let o,s=!cd(e,t);if(rr(s),s)return DC(e[Te],"");let a=e[kt],u=gd(a,n,e,t),l=kk(a,i);return ad(a,i,u),o=md(l,u),o}function GS(){GF=WF}var Ja="en-US";var KF=Ja;function WS(n){typeof n=="string"&&(KF=n.toLowerCase().replace(/_/g,"-"))}function Sd(n,e,t){let r=_e(),i=un(),o=Rt();return QF(i,r,r[Te],o,n,e,t),Sd}function QF(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=lm(r,e,o),kL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=lm(r,e,o),ob(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=lm(r,e,o),ob(r,e,p,i,i,u)}}function Dy(n,e,t,r){iF(n,e,t,r)}function by(n){let e=_e(),t=un(),r=Wg();Tl(r+1);let i=yy(t,r);if(n.dirty&&pD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=cF(e,r);n.reset(o,Ek),n.notifyOnChanges()}return!0}return!1}function Cy(){return nF(_e(),Wg())}function le(n,e=""){let t=_e(),r=un(),i=n+Ce,o=r.firstCreatePass?dy(r,i,1,e,null):r.data[i],s=KS(r,t,o,e,n);t[i]=s,Sl()&&iy(r,t,s,o),Vo(o,!1)}var KS=(n,e,t,r,i)=>(rr(!0),TC(e[Te],r));function YF(n,e,t,r,i){let o=!cd(e,t);if(rr(o),o)return TC(e[Te],r);let s=e[kt];return gd(s,n,e,t)}function QS(){KS=YF}function JF(n,e,t,r=""){return Ed(n,Il(),t)?e+Ia(t)+r:$r}function Ad(n){return $i("",n),Ad}function $i(n,e,t){let r=_e(),i=JF(r,n,e,t);return i!==$r&&ZF(r,Cl(),i),$i}function ZF(n,e,t){let r=hD(e,n);zk(n[Te],r,t)}function Sy(n,e,t){let r=Gg()+n,i=_e();return i[r]===$r?ES(i,r,t?e.call(t):e()):xL(i,r)}function XF(n,e){let t=n[e];return t===$r?void 0:t}function eV(n,e,t,r,i,o){let s=e+t;return Ed(n,s,i)?ES(n,s+1,o?r.call(o,i):r(i)):XF(n,s+1)}function Rd(n,e){let t=un(),r,i=n+Ce;t.firstCreatePass?(r=tV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Or(r.type,!0)),s,a=pt(Ue);try{let u=$l(!1),l=o();return $l(u),xg(t,_e(),i,l),l}finally{pt(a)}}function tV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Nd(n,e,t){let r=n+Ce,i=_e(),o=fD(i,r);return nV(i,r)?eV(i,Gg(),e,o.transform,t,o):o.transform(t)}function nV(n,e){return n[B].data[e].pure}var Pl=null;function YS(n){Pl!==null&&(n.defaultEncapsulation!==Pl.defaultEncapsulation||n.preserveWhitespaces!==Pl.preserveWhitespaces)||(Pl=n)}var ed=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ay=(()=>{class n{compileModuleSync(t){return new Ua(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Sg(t),o=PC(i.declarations).reduce((s,a)=>{let u=An(a);return u&&s.push(new ki(u)),s},[]);return new ed(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JS=new k("");var ZS=(()=>{class n{applicationErrorHandler=S(jt);appRef=S(yt);taskService=S(Pn);ngZone=S(Ee);zonelessEnabled=S(Pa);tracing=S(zr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(va):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(rm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?em:Xg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(va+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,em(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XS(){return[{provide:kr,useExisting:ZS},{provide:Ee,useClass:Ea},{provide:Pa,useValue:!0}]}function rV(){return typeof $localize<"u"&&$localize.locale||Ja}var Md=new k("",{factory:()=>S(Md,{optional:!0,skipSelf:!0})||rV()});var Oy={JSACTION:"__jsaction",OWNER:"__owner"},rA={};function iV(n){return n[Oy.JSACTION]}function eA(n,e){n[Oy.JSACTION]=e}function oV(n){return rA[n]}function sV(n,e){rA[n]=e}var H={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},aV=[H.MOUSEENTER,H.MOUSELEAVE,"pointerenter","pointerleave"],sK=[H.CLICK,H.DBLCLICK,H.FOCUSIN,H.FOCUSOUT,H.KEYDOWN,H.KEYUP,H.KEYPRESS,H.MOUSEOVER,H.MOUSEOUT,H.SUBMIT,H.TOUCHSTART,H.TOUCHEND,H.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],cV=[H.FOCUS,H.BLUR,H.ERROR,H.LOAD,H.TOGGLE],xy=n=>cV.indexOf(n)>=0;function uV(n){return n===H.MOUSEENTER?H.MOUSEOVER:n===H.MOUSELEAVE?H.MOUSEOUT:n===H.POINTERENTER?H.POINTEROVER:n===H.POINTERLEAVE?H.POINTEROUT:n}function lV(n,e,t,r){let i=!1;xy(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(e,t,o),{eventType:e,handler:t,capture:i,passive:r}}function dV(n,e){if(n.removeEventListener){let t=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;n.removeEventListener(e.eventType,e.handler,t)}else n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}function hV(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var tA=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function fV(n){return n.which===2||n.which==null&&n.button===4}function pV(n){return tA&&n.metaKey||!tA&&n.ctrlKey||fV(n)||n.shiftKey}function gV(n,e,t){let r=n.relatedTarget;return(n.type===H.MOUSEOVER&&e===H.MOUSEENTER||n.type===H.MOUSEOUT&&e===H.MOUSELEAVE||n.type===H.POINTEROVER&&e===H.POINTERENTER||n.type===H.POINTEROUT&&e===H.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function mV(n,e){let t={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,o=n[i];typeof o!="function"&&(t[i]=o)}return n.type===H.MOUSEOVER?t.type=H.MOUSEENTER:n.type===H.MOUSEOUT?t.type=H.MOUSELEAVE:n.type===H.POINTEROVER?t.type=H.POINTERENTER:t.type=H.POINTERLEAVE,t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}var yV=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),kd=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){yV&&(this.element.style.cursor="pointer"),this.handlerInfos.push(lV(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)dV(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},vV={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Gr(n){return n.eventType}function ky(n,e){n.eventType=e}function Od(n){return n.event}function iA(n,e){n.event=e}function oA(n){return n.targetElement}function sA(n,e){n.targetElement=e}function aA(n){return n.eic}function EV(n,e){n.eic=e}function _V(n){return n.timeStamp}function IV(n,e){n.timeStamp=e}function xd(n){return n.eia}function cA(n,e,t){n.eia=[e,t]}function Ry(n){n.eia=void 0}function Pd(n){return n[1]}function wV(n){return n.eirp}function uA(n,e){n.eirp=e}function lA(n){return n.eir}function dA(n,e){n.eir=e}function hA(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function TV(n,e,t,r,i,o,s,a){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Ny=class n{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Gr(this.eventInfo)}setEventType(e){ky(this.eventInfo,e)}getEvent(){return Od(this.eventInfo)}setEvent(e){iA(this.eventInfo,e)}getTargetElement(){return oA(this.eventInfo)}setTargetElement(e){sA(this.eventInfo,e)}getContainer(){return aA(this.eventInfo)}setContainer(e){EV(this.eventInfo,e)}getTimestamp(){return _V(this.eventInfo)}setTimestamp(e){IV(this.eventInfo,e)}getAction(){let e=xd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Ry(this.eventInfo);return}cA(this.eventInfo,e.name,e.element)}getIsReplay(){return wV(this.eventInfo)}setIsReplay(e){uA(this.eventInfo,e)}getResolved(){return lA(this.eventInfo)}setResolved(e){dA(this.eventInfo,e)}clone(){return new n(hA(this.eventInfo))}},DV={},bV=/\s*;\s*/,CV=H.CLICK,My=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&Gr(e)===H.CLICK&&pV(Od(e))?ky(e,H.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){lA(e)||(this.populateAction(e,oA(e)),dA(e,!0))}resolveParentAction(e){let t=xd(e),r=t&&Pd(t);Ry(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==aA(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!xd(e));)r=this.getParentNode(r);let i=xd(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Gr(e)===H.MOUSEENTER||Gr(e)===H.MOUSELEAVE||Gr(e)===H.POINTERENTER||Gr(e)===H.POINTERLEAVE)))if(gV(Od(e),Gr(e),Pd(i))){let o=mV(Od(e),Pd(i));iA(e,o),sA(e,Pd(i))}else Ry(e)}getParentNode(e){let t=e[Oy.OWNER];if(t)return t;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,t){let r=this.parseActions(e),i=r[Gr(t)];i!==void 0&&cA(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=iV(e);if(!t){let r=e.getAttribute(Rl.JSACTION);if(!r)t=DV,eA(e,t);else{if(t=oV(r),!t){t={};let i=r.split(bV);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(vV.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():CV,h=u?s.substr(a+1).trim():s;t[l]=h}sV(r,t)}eA(e,t)}}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},fA=(function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n})(fA||{}),Py=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){let t=new Ny(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=t.getAction();if(r&&SV(r.element,t)&&hV(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function SV(n,e){return n.tagName==="A"&&(e.getEventType()===H.CLICK||e.getEventType()===H.CLICKMOD)}var pA=Symbol.for("propagationStopped"),Ly={REPLAY:101};var AV="`preventDefault` called during event replay.";var RV="`composedPath` called during event replay.",Ld=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new My({clickModSupport:t}),this.dispatcher=new Py(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&PV(e),NV(e);e.getAction();){if(OV(e),xy(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),MV(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function NV(n){let e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[pA]=!0,t()};Hi(e,"stopPropagation",r),Hi(e,"stopImmediatePropagation",r)}function MV(n){return!!n.getEvent()[pA]}function PV(n){let e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);Hi(e,"target",t),Hi(e,"eventPhase",Ly.REPLAY),Hi(e,"preventDefault",()=>{throw r(),new Error(AV+"")}),Hi(e,"composedPath",()=>{throw new Error(RV+"")})}function OV(n){let e=n.getEvent(),t=n.getAction()?.element;t&&Hi(e,"currentTarget",t,{configurable:!0})}function Hi(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function gA(n,e){n.ecrd(t=>{e.dispatch(t)},fA.I_AM_THE_JSACTION_FRAMEWORK)}function xV(n){return n?.q??[]}function kV(n){n&&(nA(n.c,n.et,n.h),nA(n.c,n.etc,n.h,!0))}function nA(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}var LV=!1,mA=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=LV;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let o=TV(t,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(t){if(!this.dispatcher){uA(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&aV.indexOf(t)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[t]=o;let s=uV(r||t);if(s!==t){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(t),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(t,u,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),kV(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=hA(i);ky(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function yA(n,e=window){return xV(e._ejsas?.[n])}function Fy(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}var SA=Symbol("InputSignalNode#UNSET"),n2=ne(R({},ku),{transformFn:void 0,applyValueToInputSignal(n,e){la(n,e)}});function AA(n,e){let t=Object.create(n2);t.value=n,t.transformFn=e?.transform;function r(){if(Pu(t),t.value===SA){let i=null;throw new L(-950,i)}return t.value}return r[Kt]=t,r}var Ud=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ba(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function vA(n,e){return AA(n,e)}function r2(n){return AA(SA,n)}var RA=(vA.required=r2,vA);function i2(n,e,t){let r=new Ua(t);return Promise.resolve(r)}function EA(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var jd=new k(""),o2=new k("");function Za(n){return!n.moduleRef}function s2(n){let e=Za(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Za(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(jt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Za(n)){let o=()=>e.destroy(),s=n.platformInjector.get(jd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(jd);s.add(o),n.moduleRef.onDestroy(()=>{xa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return c2(r,t,()=>{let o=e.get(Pn),s=o.add(),a=e.get(wy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Md,Ja);if(WS(u||Ja),!e.get(o2,!0))return Za(n)?e.get(yt):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Za(n)){let h=e.get(yt);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return NA?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var NA;function _A(){NA=a2}function a2(n,e){let t=n.injector.get(yt);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}function c2(n,e,t){try{let r=t();return ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var MA=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=[XS(),...r?.applicationProviders??[],LD],o=NS(t.moduleType,this.injector,i);return _A(),s2({moduleRef:o,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=Ty({},r);return _A(),i2(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(jd,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||n)($(be))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),$y=null;function u2(n){if(zy())throw new L(400,!1);jS(),$y=n;let e=n.get(MA);return h2(n),e}function Hy(n,e,t=[]){let r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let s=zy();if(!s){let a=[...t,...o,{provide:i,useValue:!0}];s=n?.(a)??u2(l2(a,r))}return d2(i)}}function l2(n=[],e){return be.create({name:e,providers:[{provide:Ta,useValue:"platform"},{provide:jd,useValue:new Set([()=>$y=null])},...n]})}function d2(n){let e=zy();if(!e)throw new L(-401,!1);return e}function zy(){return $y?.get(MA)??null}function h2(n){let e=n.get(td,null);ke(n,()=>{e?.forEach(t=>t())})}function qy(){return!1}var zi=(()=>{class n{static __NG_ELEMENT_ID__=f2}return n})();function f2(n){return p2(Rt(),_e(),(n&16)===16)}function p2(n,e,t){if(nr(n)&&!t){let r=Xt(n.index,e);return new jr(r,r)}else if(n.type&175){let r=e[At];return new jr(r,e)}return null}var Vy=class{constructor(){}supports(e){return gy(e)}create(e){return new Uy(e)}},g2=(n,e)=>e,Uy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||g2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<IA(r,i,o)?t:r,a=IA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,A=y+m;h<=A&&A<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gy(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,yS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new jy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Bd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},By=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Bd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new By,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function wA(){return new Gy([new Vy])}var Gy=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:wA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=S(n,{optional:!0,skipSelf:!0});return n.create(t,r||wA())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();var PA=Hy(null,"core",[]),OA=(()=>{class n{constructor(t){}static \u0275fac=function(r){return new(r||n)($(yt))};static \u0275mod=Ht({type:n});static \u0275inj=Ct({})}return n})();var Fd=new WeakSet,TA="",Vd=[];function DA(n){return n.get(Bm,tC)}function xA(){let n=[{provide:Bm,useFactory:()=>{let e=!0;{let t=S(kn);e=!!window._ejsas?.[t]}return e&&Fn("NgEventReplay"),e}}];return n.push({provide:tr,useValue:()=>{let e=S(yt),{injector:t}=e;if(!Fd.has(e)){let r=S($m);if(DA(t)){uC();let i=t.get(kn),o=aC(i,(s,a,u)=>{s.nodeType===Node.ELEMENT_NODE&&(rC(s,a,u),iC(s,r))});e.onDestroy(o)}}},multi:!0},{provide:qr,useFactory:()=>{let e=S(yt),{injector:t}=e;return()=>{if(!DA(t)||Fd.has(e))return;Fd.add(e);let r=t.get(kn);e.onDestroy(()=>{Fd.delete(e),Fy(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=t.get(sC);m2(i,t);let o=t.get($m);o.get(TA)?.forEach(oC),o.delete(TA);let s=i.instance;mC(t)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),n}var m2=(n,e)=>{let t=e.get(kn),r=window._ejsas[t],i=n.instance=new mA(new kd(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=yA(t);i.replayEarlyEventInfos(o),Fy(t);let s=new Ld(a=>{y2(e,a,a.currentTarget)});gA(i,s)};function y2(n,e,t){let r=(t&&t.getAttribute(Ha))??"";/d\d+/.test(r)?v2(r,n,e,t):e.eventPhase===Ly.REPLAY&&Hm(e,t)}function v2(n,e,t,r){Vd.push({event:t,currentTarget:r}),HS(e,n,E2)}function E2(n){let e=[...Vd],t=new Set(n);Vd=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Ha);t.has(o)?Hm(r,i):Vd.push({event:r,currentTarget:i})}}var bA=!1;function _2(){bA||(bA=!0,fC(),qS(),QS(),GS(),kS(),CS(),uS(),qC())}function I2(n){return n.whenStable()}function kA(){let n=[{provide:$a,useFactory:()=>{let e=!0;return e=!!S(Wo,{optional:!0})?.get(zm,null),e&&Fn("NgHydration"),e}},{provide:tr,useValue:()=>{sS(!1);let e=S(Se);S($a)&&(EC(e),_2())},multi:!0}];return n.push({provide:jm,useFactory:()=>S($a)},{provide:qr,useFactory:()=>{if(S($a)){let e=S(yt);return()=>{I2(e).then(()=>{e.destroyed||fy(e)})}}return()=>{}},multi:!0}),gt(n)}function ec(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function LA(n){let e=An(n);if(!e)return null;let t=new ki(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var FA=null;function Vn(){return FA}function Wy(n){FA??=n}var tc=class{},Yo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>S(VA),providedIn:"platform"})}return n})(),Ky=new k(""),VA=(()=>{class n extends Yo{_location;_history;_doc=S(Se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(t){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $d(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function UA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function pn(n){return n&&n[0]!=="?"?`?${n}`:n}var gn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>S(zd),providedIn:"root"})}return n})(),Hd=new k(""),zd=(()=>{class n extends gn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $d(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+pn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Yo),$(Hd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=D2(UA(jA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pn(r))}normalize(t){return n.stripTrailingSlash(T2(this._basePath,jA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=pn;static joinWithSlash=$d;static stripTrailingSlash=UA;static \u0275fac=function(r){return new(r||n)($(gn))};static \u0275prov=U({token:n,factory:()=>w2(),providedIn:"root"})}return n})();function w2(){return new Wr($(gn))}function T2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function jA(n){return n.replace(/\/index.html$/,"")}function D2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Jy=(()=>{class n extends gn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=$d(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Yo),$(Hd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var qd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ue(ir),Ue(Br),Ue(Gy))};static \u0275dir=or({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function BA(n,e){n.context.$implicit=e.item}var Zy=(()=>{class n{_viewContainer;_context=new Gd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$A(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$A(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ue(ir),Ue(Br))};static \u0275dir=or({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gd=class{$implicit=null;ngIf=null};function $A(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}function b2(n,e){return new L(2100,!1)}var Qy=class{createSubscription(e,t,r){return Nt(()=>e.subscribe({next:t,error:r}))}dispose(e){Nt(()=>e.unsubscribe())}},Yy=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},C2=new Yy,S2=new Qy,Xy=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=S(jt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(ji(t))return C2;if(Dd(t))return S2;throw b2(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Ue(zi,16))};static \u0275pipe=vy({name:"async",type:n,pure:!1})}return n})();var ev=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Ct({})}return n})();function tv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var nc=class{};var HA="browser";var zA=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new nv(S(Se),window)})}return n})(),nv=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ne(R({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=A2(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(an(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ne(R({},t),{left:i-s[0],top:o-s[1]}))}};function A2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rc=class{_doc;constructor(e){this._doc=e}manager},Kd=(()=>{class n extends rc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($(Se))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Jd=new k(""),sv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Kd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Kd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(Jd),$(Ee))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),rv="ng-app-id";function GA(n){for(let e of n)e.remove()}function WA(n,e){let t=e.createElement("style");return t.textContent=n,t}function R2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${rv}="${e}"],link[${rv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(rv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ov(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var av=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,R2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,WA);r?.forEach(i=>this.addUsage(i,this.external,ov))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(GA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])GA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,WA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ov(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($(Se),$(kn),$(nd,8),$(Vi))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cv=/%COMP%/g;var QA="%COMP%",N2=`_nghost-${QA}`,M2=`_ngcontent-${QA}`,P2=!0,O2=new k("",{factory:()=>P2});function x2(n){return M2.replace(cv,n)}function k2(n){return N2.replace(cv,n)}function YA(n,e){return e.map(t=>t.replace(cv,n))}var uv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new ic(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Yd?i.applyToHost(t):i instanceof oc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case fn.Emulated:o=new Yd(u,l,r,this.appId,h,s,a,p,m);break;case fn.ShadowDom:return new Qd(u,t,r,s,a,this.nonce,p,m,l);case fn.ExperimentalIsolatedShadowDom:return new Qd(u,t,r,s,a,this.nonce,p,m);default:o=new oc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(sv),$(av),$(kn),$(O2),$(Se),$(Ee),$(nd),$(zr,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),ic=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(iv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=iv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=iv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Hr.DashCase|Hr.Important)?e.style.setProperty(t,r,i&Hr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Hr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Vn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function KA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qd=class extends ic{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,i,o,a,u),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=YA(r.id,h);for(let m of h){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=ov(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},oc=class extends ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?YA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yd=class extends oc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=x2(h),this.hostAttr=k2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Zd=class n extends tc{supportsDOMEvents=!0;static makeCurrent(){Wy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=L2();return t==null?null:F2(t)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tv(document.cookie,e)}},sc=null;function L2(){return sc=sc||document.head.querySelector("base"),sc?sc.getAttribute("href"):null}function F2(n){return new URL(n,document.baseURI).pathname}var Xd=class{addToWindow(e){bt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new L(5103,!1);return o},bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),bt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=bt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Vn().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},V2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),JA=["alt","control","meta","shift"],U2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ZA=(()=>{class n extends rc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=U2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JA.forEach(s=>{if(s!==i){let a=j2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($(Se))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function B2(){Zd.makeCurrent()}function $2(){return new Sn}function H2(){return Fm(document),document}var z2=[{provide:Vi,useValue:HA},{provide:td,useValue:B2,multi:!0},{provide:Se,useFactory:H2}],lv=Hy(PA,"browser",z2);var q2=[{provide:Td,useClass:Xd},{provide:wd,useClass:Ya},{provide:Ya,useClass:Ya}],G2=[{provide:Ta,useValue:"root"},{provide:Sn,useFactory:$2},{provide:Jd,useClass:Kd,multi:!0},{provide:Jd,useClass:ZA,multi:!0},uv,av,sv,{provide:xi,useExisting:uv},{provide:nc,useClass:V2},[]],dv=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Ct({providers:[...G2,...q2],imports:[ev,OA]})}return n})();var ac=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var W2="text/plain",K2="application/json",Dte=`${K2}, ${W2}, */*`;var fv=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(fv||{}),hv=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new ac,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}};var eh=class n extends hv{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=fv.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}};var XA=new k("");var Q2=new k(""),Y2="b",J2="h",Z2="s",X2="st",eU="u",tU="rt",pv=new k(""),nU=["GET","HEAD"];function rU(n,e){let y=S(pv),{isCacheActive:t}=y,r=ca(y,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!nU.includes(o)||!r.includeRequestsWithAuthHeaders&&iU(n)||r.filter?.(n)===!1)return e(n);let s=S(Wo);if(S(Q2,{optional:!0}))throw new L(2803,!1);let u=n.url,l=oU(n,u),h=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[Y2]:A,[tU]:M,[J2]:N,[Z2]:V,[X2]:he,[eU]:pe}=h,He=A;switch(M){case"arraybuffer":He=new TextEncoder().encode(A).buffer;break;case"blob":He=new Blob([A]);break}let rt=new ac(N);return Y(new eh({body:He,headers:rt,status:V,statusText:he,url:pe}))}return e(n)}function iU(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function eR(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function oU(n,e){let{params:t,method:r,responseType:i}=n,o=eR(t),s=n.serializeBody();s instanceof URLSearchParams?s=eR(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=sU(a);return u}function sU(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function tR(n){return[{provide:pv,useFactory:()=>(Fn("NgHttpTransferCache"),R({isCacheActive:!0},n))},{provide:XA,useValue:rU,multi:!0},{provide:qr,multi:!0,useFactory:()=>{let e=S(yt),t=S(pv);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var nR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($(Se))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var th=(function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n})(th||{});function aU(n,e=[],t={}){return{\u0275kind:n,\u0275providers:e}}function rR(){return aU(th.EventReplay,xA())}function iR(...n){let e=[],t=new Set;for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);let r=t.has(th.HttpTransferCacheOptions);return gt([[],kA(),t.has(th.NoHttpTransferCache)||r?[]:tR({}),e])}var W="primary",vc=Symbol("RouteTitle"),Ev=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ki(n){return new Ev(n)}function fR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ah(n){return new Promise((e,t)=>{n.pipe(Xn()).subscribe({next:r=>e(r),error:r=>t(r)})})}function lU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Un(n[t],e[t]))return!1;return!0}function Un(n,e){let t=n?_v(n):void 0,r=e?_v(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!pR(n[i],e[i]))return!1;return!0}function _v(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function gR(n){return n.length>0?n[n.length-1]:null}function Qi(n){return tl(n)?n:ji(n)?Re(Promise.resolve(n)):Y(n)}function mR(n){return tl(n)?ah(n):Promise.resolve(n)}var dU={exact:vR,subset:ER},yR={exact:hU,subset:fU,ignored:()=>!0};function oR(n,e,t){return dU[t.paths](n.root,e.root,t.matrixParams)&&yR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hU(n,e){return Un(n,e)}function vR(n,e,t){if(!Gi(n.segments,e.segments)||!ih(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!vR(n.children[r],e.children[r],t))return!1;return!0}function fU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pR(n[t],e[t]))}function ER(n,e,t){return _R(n,e,e.segments,t)}function _R(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!ih(i,t,r))}else if(n.segments.length===t.length){if(!Gi(n.segments,t)||!ih(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ER(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gi(n.segments,i)||!ih(n.segments,i,r)||!n.children[W]?!1:_R(n.children[W],e,o,r)}}function ih(n,e,t){return e.every((r,i)=>yR[t](n[i].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return mU.serialize(this)}},fe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oh(this)}},Kr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return wR(this)}};function pU(n,e){return Gi(n,e)&&n.every((t,r)=>Un(t.parameters,e[r].parameters))}function Gi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function gU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===W&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==W&&(t=t.concat(e(i,r)))}),t}var Yi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new sr,providedIn:"root"})}return n})(),sr=class{parse(e){let t=new wv(e);return new yn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${cc(e.root,!0)}`,r=EU(e.queryParams),i=typeof e.fragment=="string"?`#${yU(e.fragment)}`:"";return`${t}${r}${i}`}},mU=new sr;function oh(n){return n.segments.map(e=>wR(e)).join("/")}function cc(n,e){if(!n.hasChildren())return oh(n);if(e){let t=n.children[W]?cc(n.children[W],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==W&&r.push(`${i}:${cc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=gU(n,(r,i)=>i===W?[cc(n.children[W],!1)]:[`${i}:${cc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[W]!=null?`${oh(n)}/${t[0]}`:`${oh(n)}/(${t.join("//")})`}}function IR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nh(n){return IR(n).replace(/%3B/gi,";")}function yU(n){return encodeURI(n)}function Iv(n){return IR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(n){return decodeURIComponent(n)}function sR(n){return sh(n.replace(/\+/g,"%20"))}function wR(n){return`${Iv(n.path)}${vU(n.parameters)}`}function vU(n){return Object.entries(n).map(([e,t])=>`;${Iv(e)}=${Iv(t)}`).join("")}function EU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${nh(t)}=${nh(i)}`).join("&"):`${nh(t)}=${nh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _U=/^[^\/()?;#]+/;function gv(n){let e=n.match(_U);return e?e[0]:""}var IU=/^[^\/()?;=#]+/;function wU(n){let e=n.match(IU);return e?e[0]:""}var TU=/^[^=?&#]+/;function DU(n){let e=n.match(TU);return e?e[0]:""}var bU=/^[^&#]+/;function CU(n){let e=n.match(bU);return e?e[0]:""}var wv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[W]=new fe(e,t)),r}parseSegment(){let e=gv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Kr(sh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=wU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=gv(this.remaining);i&&(r=i,this.capture(r))}e[sh(t)]=sh(r)}parseQueryParam(e){let t=DU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=CU(this.remaining);s&&(r=s,this.capture(r))}let i=sR(t),o=sR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=W);let s=this.parseChildren();t[o??W]=Object.keys(s).length===1&&s[W]?s[W]:new fe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function TR(n){return n.segments.length>0?new fe([],{[W]:n}):n}function DR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=DR(i);if(r===W&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new fe(n.segments,e);return SU(t)}function SU(n){if(n.numberOfChildren===1&&n.children[W]){let e=n.children[W];return new fe(n.segments.concat(e.segments),e.children)}return n}function Qr(n){return n instanceof yn}function bR(n,e,t=null,r=null,i=new sr){let o=CR(n);return SR(o,e,t,r,i)}function CR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new fe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=TR(r);return e??i}function SR(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return mv(o,o,o,t,r,i);let s=AU(e);if(s.toRoot())return mv(o,o,new fe([],{}),t,r,i);let a=RU(s,o,n),u=a.processChildren?lc(a.segmentGroup,a.index,s.commands):RR(a.segmentGroup,a.index,s.commands);return mv(o,a.segmentGroup,u,t,r,i)}function ch(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function hc(n){return typeof n=="object"&&n!=null&&n.outlets}function aR(n,e,t){n||="\u0275";let r=new yn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function mv(n,e,t,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>aR(l,p,o)):aR(l,h,o);let a;n===e?a=t:a=AR(n,e,t);let u=TR(DR(a));return new yn(u,s,i)}function AR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=AR(o,e,t)}),new fe(n.segments,r)}var uh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ch(r[0]))throw new L(4003,!1);let i=r.find(hc);if(i&&i!==gR(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new uh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new uh(t,e,r)}var Zo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function RU(n,e,t){if(n.isAbsolute)return new Zo(e,!0,0);if(!t)return new Zo(e,!1,NaN);if(t.parent===null)return new Zo(t,!0,0);let r=ch(n.commands[0])?0:1,i=t.segments.length-1+r;return NU(t,i,n.numberOfDoubleDots)}function NU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Zo(r,!1,i-o)}function MU(n){return hc(n[0])?n[0].outlets:{[W]:n}}function RR(n,e,t){if(n??=new fe([],{}),n.segments.length===0&&n.hasChildren())return lc(n,e,t);let r=PU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new fe(n.segments.slice(0,r.pathIndex),{});return o.children[W]=new fe(n.segments.slice(r.pathIndex),n.children),lc(o,0,i)}else return r.match&&i.length===0?new fe(n.segments,{}):r.match&&!n.hasChildren()?Tv(n,e,t):r.match?lc(n,0,i):Tv(n,e,t)}function lc(n,e,t){if(t.length===0)return new fe(n.segments,{});{let r=MU(t),i={};if(Object.keys(r).some(o=>o!==W)&&n.children[W]&&n.numberOfChildren===1&&n.children[W].segments.length===0){let o=lc(n.children[W],e,t);return new fe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=RR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(n.segments,i)}}function PU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(hc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!uR(u,l,s))return o;r+=2}else{if(!uR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Tv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(hc(o)){let u=OU(o.outlets);return new fe(r,u)}if(i===0&&ch(t[0])){let u=n.segments[e];r.push(new Kr(u.path,cR(t[0]))),i++;continue}let s=hc(o)?o.outlets[W]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ch(a)?(r.push(new Kr(s,cR(a))),i+=2):(r.push(new Kr(s,{})),i++)}return new fe(r,{})}function OU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Tv(new fe([],{}),0,r))}),e}function cR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function uR(n,e,t){return n==t.path&&Un(e,t.parameters)}var Xo="imperative",Ge=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ge||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yr=class extends qt{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends qt{urlAfterRedirects;type=Ge.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(vt||{}),ts=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ts||{}),jn=class extends qt{reason;code;type=Ge.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bn=class extends qt{reason;code;type=Ge.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ns=class extends qt{error;target;type=Ge.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fc=class extends qt{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends qt{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dh=class extends qt{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hh=class extends qt{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class extends qt{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ph=class{route;type=Ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gh=class{route;type=Ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mh=class{snapshot;type=Ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yh=class{snapshot;type=Ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vh=class{snapshot;type=Ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eh=class{snapshot;type=Ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rs=class{routerEvent;position;anchor;type=Ge.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pc=class{},is=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function xU(n){return!(n instanceof pc)&&!(n instanceof is)}function kU(n,e){return n.providers&&!n._injector&&(n._injector=Ui(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mn(n){return n.outlet||W}function LU(n,e){let t=n.filter(r=>mn(r)===e);return t.push(...n.filter(r=>mn(r)!==e)),t}function as(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var _h=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return as(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ji(this.rootInjector)}},Ji=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _h(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(Ne))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ih=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Dv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Dv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=bv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bv(e,this._root).map(t=>t.value)}};function Dv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Dv(n,t);if(r)return r}return null}function bv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=bv(n,t);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Jo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gc=class extends Ih{snapshot;constructor(e,t){super(e),this.snapshot=t,Mv(this,e)}toString(){return this.snapshot.toString()}};function NR(n){let e=FU(n),t=new tt([new Kr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new ar(t,r,o,s,i,W,n,e.root);return a.snapshot=e.root,new gc(new zt(a,[]),e)}function FU(n){let e={},t={},r={},o=new Wi([],e,r,"",t,W,n,null,{});return new mc("",new zt(o,[]))}var ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(we(l=>l[vc]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(e=>Ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(e=>Ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),n.params),data:R(R({},e.data),n.data),resolve:R(R(R(R({},n.data),e.data),i?.data),n._resolvedData)}:r={params:R({},n.params),data:R({},n.data),resolve:R(R({},n.data),n._resolvedData??{})},i&&PR(i)&&(r.resolve[vc]=i.title),r}var Wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[vc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},mc=class extends Ih{url;constructor(e,t){super(t),this.url=e,Mv(this,t)}toString(){return MR(this._root)}};function Mv(n,e){e.value._routerState=n,e.children.forEach(t=>Mv(n,t))}function MR(n){let e=n.children.length>0?` { ${n.children.map(MR).join(", ")} } `:"";return`${n.value}${e}`}function yv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Un(e.params,t.params)||n.paramsSubject.next(t.params),lU(e.url,t.url)||n.urlSubject.next(t.url),Un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Cv(n,e){let t=Un(n.params,e.params)&&pU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Cv(n.parent,e.parent))}function PR(n){return typeof n.title=="string"||n.title===null}var OR=new k(""),Ec=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=W;activateEvents=new st;deactivateEvents=new st;attachEvents=new st;detachEvents=new st;routerOutletData=RA();parentContexts=S(Ji);location=S(ir);changeDetector=S(zi);inputBinder=S(_c,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Sv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=or({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fi]})}return n})(),Sv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ar?this.route:e===Ji?this.childContexts:e===OR?this.outletData:this.parent.get(e,t)}},_c=new k(""),Pv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=nl([r.queryParams,r.params,r.data]).pipe(on(([o,s,a],u)=>(a=R(R(R({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=LA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ov=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$t({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Pt(0,"router-outlet")},dependencies:[Ec],encapsulation:2})}return n})();function xv(n){let e=n.children&&n.children.map(xv),t=e?ne(R({},n),{children:e}):R({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==W&&(t.component=Ov),t}function VU(n,e,t){let r=yc(n,e._root,t?t._root:void 0);return new gc(r,e)}function yc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=UU(n,e,t);return new zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>yc(n,a)),s}}let r=jU(e.value),i=e.children.map(o=>yc(n,o));return new zt(r,i)}}function UU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return yc(n,r,i);return yc(n,r)})}function jU(n){return new ar(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var os=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},xR="ngNavigationCancelingError";function Th(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kR(!1,vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function kR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[xR]=!0,t.cancellationCode=e,t}function BU(n){return LR(n)&&Qr(n.url)}function LR(n){return!!n&&n[xR]}var $U=(n,e,t,r)=>we(i=>(new Av(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Av=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Jo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Jo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Eh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(yv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Dh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function HU(n,e,t){let r=n._root,i=e?e._root:null;return uc(r,i,t,[r.value])}function zU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function cs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!mg(n)?n:e.get(n):r}function uc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jo(e);return n.children.forEach(s=>{qU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>dc(a,t.getContext(s),i)),i}function qU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=GU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Dh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?uc(n,e,a?a.children:null,r,i):uc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new es(a.outlet.component,s))}else s&&dc(e,a,i),i.canActivateChecks.push(new Dh(r)),o.component?uc(n,null,a?a.children:null,r,i):uc(n,null,t,r,i);return i}function GU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!Un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cv(n,e)||!Un(n.queryParams,e.queryParams);case"paramsChange":default:return!Cv(n,e)}}function dc(n,e,t){let r=Jo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?dc(s,e.children.getContext(o),t):dc(s,null,t):dc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new es(e.outlet.component,i)):t.canDeactivateChecks.push(new es(null,i)):t.canDeactivateChecks.push(new es(null,i))}function Ic(n){return typeof n=="function"}function WU(n){return typeof n=="boolean"}function KU(n){return n&&Ic(n.canLoad)}function QU(n){return n&&Ic(n.canActivate)}function YU(n){return n&&Ic(n.canActivateChild)}function JU(n){return n&&Ic(n.canDeactivate)}function ZU(n){return n&&Ic(n.canMatch)}function FR(n){return n instanceof Ii||n?.name==="EmptyError"}var rh=Symbol("INITIAL_VALUE");function ss(){return on(n=>nl(n.map(e=>e.pipe(Zn(1),il(rh)))).pipe(we(e=>{for(let t of e)if(t!==!0){if(t===rh)return rh;if(t===!1||XU(t))return t}return!0}),xt(e=>e!==rh),Zn(1)))}function XU(n){return Qr(n)||n instanceof os}function VR(n){return n.aborted?Y(void 0).pipe(Zn(1)):new re(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function UR(n){return pa(VR(n))}function ej(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(ne(R({},t),{guardsResult:!0})):tj(s,r,i,n).pipe(nt(a=>a&&WU(a)?nj(r,o,n,e):Y(a)),we(a=>ne(R({},t),{guardsResult:a})))})}function tj(n,e,t,r){return Re(n).pipe(nt(i=>aj(i.component,i.route,t,e,r)),Xn(i=>i!==!0,!0))}function nj(n,e,t,r){return Re(e).pipe(No(i=>Ao(ij(i.route.parent,r),rj(i.route,r),sj(n,i.path,t),oj(n,i.route,t))),Xn(i=>i!==!0,!0))}function rj(n,e){return n!==null&&e&&e(new vh(n)),Y(!0)}function ij(n,e){return n!==null&&e&&e(new mh(n)),Y(!0)}function oj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>fa(()=>{let s=as(e)??t,a=cs(o,s),u=QU(a)?a.canActivate(e,n):ke(s,()=>a(e,n));return Qi(u).pipe(Xn())}));return Y(i).pipe(ss())}function sj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>zU(s)).filter(s=>s!==null).map(s=>fa(()=>{let a=s.guards.map(u=>{let l=as(s.node)??t,h=cs(u,l),p=YU(h)?h.canActivateChild(r,n):ke(l,()=>h(r,n));return Qi(p).pipe(Xn())});return Y(a).pipe(ss())}));return Y(o).pipe(ss())}function aj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=as(e)??i,l=cs(a,u),h=JU(l)?l.canDeactivate(n,e,t,r):ke(u,()=>l(n,e,t,r));return Qi(h).pipe(Xn())});return Y(s).pipe(ss())}function cj(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return Y(!0);let s=o.map(a=>{let u=cs(a,n),l=KU(u)?u.canLoad(e,t):ke(n,()=>u(e,t)),h=Qi(l);return i?h.pipe(UR(i)):h});return Y(s).pipe(ss(),jR(r))}function jR(n){return ju(ft(e=>{if(typeof e!="boolean")throw Th(n,e)}),we(e=>e===!0))}function uj(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=cs(a,n),l=ZU(u)?u.canMatch(e,t):ke(n,()=>u(e,t)),h=Qi(l);return i?h.pipe(UR(i)):h});return Y(s).pipe(ss(),jR(r))}var qi=class BR extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,BR.prototype)}},Rv=class $R extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,$R.prototype)}};function lj(n){throw new L(4e3,!1)}function dj(n){throw kR(!1,vt.GuardRejected)}var hj=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[W])throw lj(`${e.redirectTo}`);i=i.children[W]}}async applyRedirectCommands(e,t,r,i,o){let s=await fj(t,i,o);if(s instanceof yn)throw new Rv(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Rv(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new yn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new fe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function fj(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return ah(Qi(ke(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pj(n,e,t,r,i,o){let s=HR(n,e,t);return s.matched?(r=kU(e,r),uj(r,e,t,i,o).pipe(we(a=>a===!0?s:R({},Nv)))):Y(s)}function HR(n,e,t){if(e.path==="**")return gj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?R({},Nv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||fR)(t,n,e);if(!i)return R({},Nv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function gj(n){return{matched:!0,parameters:n.length>0?gR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function lR(n,e,t,r){return t.length>0&&vj(n,t,r)?{segmentGroup:new fe(e,yj(r,new fe(t,n.children))),slicedSegments:[]}:t.length===0&&Ej(n,t,r)?{segmentGroup:new fe(n.segments,mj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new fe(n.segments,n.children),slicedSegments:t}}function mj(n,e,t,r){let i={};for(let o of t)if(Ch(n,e,o)&&!r[mn(o)]){let s=new fe([],{});i[mn(o)]=s}return R(R({},r),i)}function yj(n,e){let t={};t[W]=e;for(let r of n)if(r.path===""&&mn(r)!==W){let i=new fe([],{});t[mn(r)]=i}return t}function vj(n,e,t){return t.some(r=>Ch(n,e,r)&&mn(r)!==W)}function Ej(n,e,t){return t.some(r=>Ch(n,e,r))}function Ch(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function _j(n,e,t){return e.length===0&&!n.children[t]}var Ij=class{};async function wj(n,e,t,r,i,o,s="emptyOnly",a){return new Dj(n,e,t,r,i,s,o,a).recognize()}var Tj=31,Dj=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new hj(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}async recognize(){let e=lR(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new zt(r,t),o=new mc("",i),s=bR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new Wi([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),W,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,W,t),rootSnapshot:t}}catch(r){if(r instanceof Rv)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qi?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof zt?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=LU(t,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=zR(s);return bj(a),a}async processSegment(e,t,r,i,o,s,a){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof qi||FR(l))continue;throw l}if(_j(r,i,o))return new Ij;throw new qi(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,u){if(mn(r)!==s&&(s===W||!Ch(i,o,r)))throw new qi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new qi(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=HR(t,i,o);if(!u)throw new qi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Tj&&(this.allowRedirects=!1));let y=new Wi(o,l,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,dR(i),mn(i),i.component??i._loadedComponent??null,i,hR(i)),A=wh(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let M=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),N=await this.applyRedirects.lineralizeSegments(i,M);return this.processSegment(e,r,t,N.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await ah(pj(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new qi(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:m}=a,y=new Wi(p,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,dR(r),mn(r),r.component??r._loadedComponent??null,r,hR(r)),A=wh(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let{segmentGroup:M,slicedSegments:N}=lR(t,p,m,u);if(N.length===0&&M.hasChildren()){let pe=await this.processChildren(l,u,M,y);return new zt(y,pe)}if(u.length===0&&N.length===0)return new zt(y,[]);let V=mn(r)===o,he=await this.processSegment(l,u,M,N,V?W:o,!0,y);return new zt(y,he instanceof zt?[he]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await ah(cj(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw dj(t)}return{routes:[],injector:e}}};function bj(n){n.sort((e,t)=>e.value.outlet===W?-1:t.value.outlet===W?1:e.value.outlet.localeCompare(t.value.outlet))}function Cj(n){let e=n.value.routeConfig;return e&&e.path===""}function zR(n){let e=[],t=new Set;for(let r of n){if(!Cj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=zR(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!t.has(r))}function dR(n){return n.data||{}}function hR(n){return n.resolve||{}}var Sj=new k("",{factory:()=>wj});function Aj(n,e,t,r,i,o,s){let a=n.get(Sj);return nt(u=>Y(u).pipe(on(l=>a(n,e,t,r,l.extractedUrl,i,o,s)),we(({state:l,tree:h})=>ne(R({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function Rj(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of qR(u))s.add(l);let a=0;return Re(s).pipe(No(u=>o.has(u)?Nj(u,r,n,e):(u.data=wh(u,u.parent,n).resolve,Y(void 0))),ft(()=>a++),rl(1),nt(u=>a===s.size?Y(t):wt))})}function qR(n){let e=n.children.map(t=>qR(t)).flat();return[n,...e]}function Nj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!PR(i)&&(o[vc]=i.title),fa(()=>(n.data=wh(n,n.parent,t).resolve,Mj(o,n,e,r).pipe(we(s=>(n._resolvedData=s,n.data=R(R({},n.data),s),null)))))}function Mj(n,e,t,r){let i=_v(n);if(i.length===0)return Y({});let o={};return Re(i).pipe(nt(s=>Pj(n[s],e,t,r).pipe(Xn(),ft(a=>{if(a instanceof os)throw Th(new sr,a);o[s]=a}))),rl(1),we(()=>o),Ro(s=>FR(s)?wt:Kp(s)))}function Pj(n,e,t,r){let i=as(e)??r,o=cs(n,i),s=o.resolve?o.resolve(e,t):ke(i,()=>o(e,t));return Qi(s)}function vv(n){return on(e=>{let t=n(e);return t?Re(t).pipe(we(()=>e)):Y(e)})}var kv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===W);return r}getResolvedTitleForRoute(t){return t.data[vc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>S(GR),providedIn:"root"})}return n})(),GR=(()=>{class n extends kv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(nR))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jr=new k("",{factory:()=>({})}),us=new k(""),Sh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(Ay);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await mR(ke(t,()=>r.loadComponent())),s=await QR(KR(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await WR(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function WR(n,e,t,r){let i=await mR(ke(t,()=>n.loadChildren())),o=await QR(KR(i)),s;o instanceof _d||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,u=a.get(us,[],{optional:!0,self:!0}).flat()),{routes:u.map(xv),injector:a}}function Oj(n){return n&&typeof n=="object"&&"default"in n}function KR(n){return Oj(n)?n.default:n}async function QR(n){return n}var Ah=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>S(xj),providedIn:"root"})}return n})(),xj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lv=new k(""),Fv=new k("");function YR(n,e,t){let r=n.get(Fv),i=n.get(Se);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),kj(n)));a.ready.catch(l=>{}),a.finished.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&ke(n,()=>u({transition:a,from:e,to:t})),s}function kj(n){return new Promise(e=>{hd({read:()=>setTimeout(e)},{injector:n})})}var Lj=()=>{},Vv=new k(""),Rh=(()=>{class n{currentNavigation=dn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=dn(null);events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=S(Sh);environmentInjector=S(Ne);destroyRef=S(ln);urlSerializer=S(Yi);rootContexts=S(Ji);location=S(Wr);inputBindingEnabled=S(_c,{optional:!0})!==null;titleStrategy=S(kv);options=S(Jr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(Ah);createViewTransition=S(Lv,{optional:!0});navigationErrorHandler=S(Vv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ph(i)),r=i=>this.events.next(new gh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Nt(()=>{this.transitions?.next(ne(R({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(xt(r=>r!==null),on(r=>{let i=!1,o=new AbortController;return Y(r).pipe(on(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),wt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ne(R({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.rawUrl),"",ts.IgnoredSameUrlNavigation)),s.resolve(!1),wt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Y(s).pipe(on(h=>(this.events.next(new Yr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?wt:Promise.resolve(h))),Aj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ft(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=h.urlAfterRedirects,m));let p=new fc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:y,extras:A}=s,M=new Yr(h,this.urlSerializer.serialize(p),m,y);this.events.next(M);let N=NR(this.rootComponentType).snapshot;return this.currentTransition=r=ne(R({},s),{targetSnapshot:N,urlAfterRedirects:p,extras:ne(R({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(V=>(V.finalUrl=p,V)),Y(r)}else return this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ts.IgnoredByUrlHandlingStrategy)),s.resolve(!1),wt}),ft(s=>{let a=new lh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),we(s=>(this.currentTransition=r=ne(R({},s),{guards:HU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),ej(this.environmentInjector,s=>this.events.next(s)),ft(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Th(this.urlSerializer,s.guardsResult);let a=new dh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),xt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",vt.GuardRejected),!1)),vv(s=>{if(s.guards.canActivateChecks.length!==0)return Y(s).pipe(ft(a=>{let u=new hh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),on(a=>{let u=!1;return Y(a).pipe(Rj(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",vt.NoDataFromResolver)}}))}),ft(a=>{let u=new fh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),vv(s=>{let a=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=as(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)h.push(...a(p));return h},u=a(s.targetSnapshot.root);return u.length===0?Y(s):Re(Promise.all(u).then(()=>s))}),vv(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Re(u).pipe(we(()=>r)):Y(r)}),we(s=>{let a=VU(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ne(R({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),ft(()=>{this.events.next(new pc)}),$U(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Zn(1),pa(VR(o.signal).pipe(xt(()=>!i&&!r.targetRouterState),ft(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",vt.Aborted)}))),ft({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=Lj,a)),this.lastSuccessfulNavigation.set(Nt(this.currentNavigation)),this.events.next(new Gt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),pa(this.transitionAbortWithErrorSubject.pipe(ft(s=>{throw s}))),Yp(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ro(s=>{if(this.destroyed)return r.resolve(!1),wt;if(i=!0,LR(s))this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),BU(s)?this.events.next(new is(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ns(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=ke(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof os){let{message:l,cancellationCode:h}=Th(this.urlSerializer,u);this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new is(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return wt}))}))}cancelNavigationTransition(t,r,i){let o=new jn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Nt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fj(n){return n!==Xo}var JR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>S(Vj),providedIn:"root"})}return n})(),bh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Vj=(()=>{class n extends bh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ja(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uv=(()=>{class n{urlSerializer=S(Yi);options=S(Jr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Wr);urlHandlingStrategy=S(Ah);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof yn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=NR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>S(ZR),providedIn:"root"})}return n})(),ZR=(()=>{class n extends Uv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yr?this.updateStateMemento():t instanceof Bn?this.commitTransition(r):t instanceof fc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof pc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof jn&&t.code!==vt.SupersededByNewNavigation&&t.code!==vt.Redirect?this.restoreHistory(r):t instanceof ns?this.restoreHistory(r,!0):t instanceof Gt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=R(R({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=R(R({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ja(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nh(n,e){n.events.pipe(xt(t=>t instanceof Gt||t instanceof jn||t instanceof ns||t instanceof Bn),we(t=>t instanceof Gt||t instanceof Bn?0:(t instanceof jn?t.code===vt.Redirect||t.code===vt.SupersededByNewNavigation:!1)?2:1),xt(t=>t!==2),Zn(1)).subscribe(()=>{e()})}var Uj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$n=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(Id);stateManager=S(Uv);options=S(Jr,{optional:!0})||{};pendingTasks=S(Pn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(Rh);urlSerializer=S(Yi);location=S(Wr);urlHandlingStrategy=S(Ah);injector=S(Ne);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(JR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(us,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(_c,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Nt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jn&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gt)this.navigated=!0;else if(r instanceof is){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=R({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Fj(i.source)},s);this.scheduleNavigation(a,Xo,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}xU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=R({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(jt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=CR(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return SR(p,t,h,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xo,null,r)}navigate(t,r={skipLocationChange:!1}){return Bj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(an(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=R({},Uj):r===!1?i=R({},jj):i=r,Qr(t))return oR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return oR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Nh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var ls=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=dn(null);get href(){return Nt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;applicationErrorHandler=S(jt);options=S(Jr,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(S(new Ud("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Gt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ue($n),Ue(ar),Ba("tabindex"),Ue(Ko),Ue(xn),Ue(gn))};static \u0275dir=or({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Sd("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Cd("href",i.reactiveHref(),Qm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ec],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ec],replaceUrl:[2,"replaceUrl","replaceUrl",ec],routerLink:"routerLink"},features:[Fi]})}return n})(),Bv=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new st;link=S(ls,{optional:!0});constructor(t,r,i,o){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Gt&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Nr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Re(t).pipe(Nr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=$j(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Ue($n),Ue(xn),Ue(Ko),Ue(zi))};static \u0275dir=or({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Dy(o,ls,5),r&2){let s;by(s=Cy())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Fi]})}return n})();function $j(n){return!!n.paths}var wc=class{};var XR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xt(t=>t instanceof Gt),No(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ui(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Re(i).pipe(Nr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=Re(this.loader.loadChildren(t,r)):i=Y(null);let o=i.pipe(nt(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Re([o,s]).pipe(Nr())}else return o})}static \u0275fac=function(r){return new(r||n)($($n),$(Ne),$(wc),$(Sh))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e0=new k(""),Hj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Xo;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bn&&t.code===ts.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof rs))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new rs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){py()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function zj(){return S($n).routerState.root}function Tc(n,e){return{\u0275kind:n,\u0275providers:e}}function qj(){let n=S(be);return e=>{let t=n.get(yt);if(e!==t.components[0])return;let r=n.get($n),i=n.get(t0);n.get($v)===1&&r.initialNavigation(),n.get(i0,null,{optional:!0})?.setUpPreloading(),n.get(e0,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var t0=new k("",{factory:()=>new Ye}),$v=new k("",{factory:()=>1});function n0(){let n=[{provide:id,useValue:!0},{provide:$v,useValue:0},bd(()=>{let e=S(be);return e.get(Ky,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get($n),o=e.get(t0);Nh(i,()=>{r(!0)}),e.get(Rh).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))})];return Tc(2,n)}function r0(){let n=[bd(()=>{S($n).setUpLocationChangeListener()}),{provide:$v,useValue:2}];return Tc(3,n)}var i0=new k("");function o0(n){return Tc(0,[{provide:i0,useExisting:XR},{provide:wc,useExisting:n}])}function s0(){return Tc(8,[Pv,{provide:_c,useExisting:Pv}])}function a0(n){Fn("NgRouterViewTransitions");let e=[{provide:Lv,useValue:YR},{provide:Fv,useValue:R({skipNextTransition:!!n?.skipInitialTransition},n)}];return Tc(9,e)}var c0=[Wr,{provide:Yi,useClass:sr},$n,Ji,{provide:ar,useFactory:zj},Sh,[]],Mh=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[c0,[],{provide:us,multi:!0,useValue:t},[],r?.errorHandler?{provide:Vv,useValue:r.errorHandler}:[],{provide:Jr,useValue:r||{}},r?.useHash?Wj():Kj(),Gj(),r?.preloadingStrategy?o0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Qj(r):[],r?.bindToComponentInputs?s0().\u0275providers:[],r?.enableViewTransitions?a0().\u0275providers:[],Yj()]}}static forChild(t){return{ngModule:n,providers:[{provide:us,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Ct({})}return n})();function Gj(){return{provide:e0,useFactory:()=>{let n=S(zA),e=S(Ee),t=S(Jr),r=S(Rh),i=S(Yi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Hj(i,r,n,e,t)}}}function Wj(){return{provide:gn,useClass:Jy}}function Kj(){return{provide:gn,useClass:zd}}function Qj(n){return[n.initialNavigation==="disabled"?r0().\u0275providers:[],n.initialNavigation==="enabledBlocking"?n0().\u0275providers:[]]}var jv=new k("");function Yj(){return[{provide:jv,useFactory:qj},{provide:qr,multi:!0,useExisting:jv}]}var l0=()=>{};var f0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Jj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ph={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Jj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new zv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},zv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Zj=function(n){let e=f0(n);return Ph.encodeByteArray(e,!0)},bc=function(n){return Zj(n).replace(/\./g,"")},Oh=function(n){try{return Ph.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Xj=()=>Gv().__FIREBASE_DEFAULTS__,eB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Oh(n[1]);return e&&JSON.parse(e)},xh=()=>{try{return l0()||Xj()||eB()||tB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Wv=n=>xh()?.emulatorHosts?.[n],p0=n=>{let e=Wv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Kv=()=>xh()?.config,Qv=n=>xh()?.[`_${n}`];var Zi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Zr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kh(n){return(await fetch(n,{credentials:"include"})).ok}function g0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=R({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bc(JSON.stringify(t)),bc(JSON.stringify(s)),""].join(".")}var Dc={};function nB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Dc))Dc[e]?n.emulator.push(e):n.prod.push(e);return n}function rB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var d0=!1;function Lh(n,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||Dc[n]===e||Dc[n]||d0)return;Dc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=nB().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{d0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=rB(r),y=t("text"),A=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),N=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),he=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let pe=m.element;a(pe),h(N,M);let He=l();u(he,V),pe.append(he,A,N,He),document.body.appendChild(pe)}o?(A.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function iB(){let n=xh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _0(){let n=Ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function I0(){return!iB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cc(){try{return typeof indexedDB=="object"}catch{return!1}}function w0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var oB="FirebaseError",Wt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}},vn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?sB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,a,r)}};function sB(n,e){return n.replace(aB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var aB=/\{\$([^}]+)}/g;function T0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(h0(o)&&h0(s)){if(!Hn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function h0(n){return n!==null&&typeof n=="object"}function Sc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function D0(n,e){let t=new qv(n,e);return t.subscribe.bind(t)}var qv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");cB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hv),i.error===void 0&&(i.error=Hv),i.complete===void 0&&(i.complete=Hv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function cB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hv(){}var Xne=14400*1e3;function En(n){return n&&n._delegate?n._delegate:n}var Et=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var Yv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Zi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lB(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uB(n){return n===Xi?void 0:n}function lB(n){return n.instantiationMode==="EAGER"}var Fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Yv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var dB=[],ie=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ie||{}),hB={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},fB=ie.INFO,pB={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},gB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=pB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zn=class{constructor(e){this.name=e,this._logLevel=fB,this._logHandler=gB,this._userLogHandler=null,dB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var mB=(n,e)=>e.some(t=>n instanceof t),b0,C0;function yB(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vB(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var S0=new WeakMap,Zv=new WeakMap,A0=new WeakMap,Jv=new WeakMap,eE=new WeakMap;function EB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(qn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&S0.set(t,n)}).catch(()=>{}),eE.set(e,n),e}function _B(n){if(Zv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Zv.set(n,e)}var Xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||A0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function R0(n){Xv=n(Xv)}function IB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Vh(this),e,...t);return A0.set(r,e.sort?e.sort():[e]),qn(r)}:vB().includes(n)?function(...e){return n.apply(Vh(this),e),qn(S0.get(this))}:function(...e){return qn(n.apply(Vh(this),e))}}function wB(n){return typeof n=="function"?IB(n):(n instanceof IDBTransaction&&_B(n),mB(n,yB())?new Proxy(n,Xv):n)}function qn(n){if(n instanceof IDBRequest)return EB(n);if(Jv.has(n))return Jv.get(n);let e=wB(n);return e!==n&&(Jv.set(n,e),eE.set(e,n)),e}var Vh=n=>eE.get(n);function M0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=qn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qn(s.result),u.oldVersion,u.newVersion,qn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var TB=["get","getKey","getAll","getAllKeys","count"],DB=["put","add","delete","clear"],tE=new Map;function N0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tE.get(e))return tE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=DB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TB.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return tE.set(e,o),o}R0(n=>ne(R({},n),{get:(e,t,r)=>N0(e,t)||n.get(e,t,r),has:(e,t)=>!!N0(e,t)||n.has(e,t)}));var rE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function bB(n){return n.getComponent()?.type==="VERSION"}var iE="@firebase/app",P0="0.14.6";var cr=new zn("@firebase/app"),CB="@firebase/app-compat",SB="@firebase/analytics-compat",AB="@firebase/analytics",RB="@firebase/app-check-compat",NB="@firebase/app-check",MB="@firebase/auth",PB="@firebase/auth-compat",OB="@firebase/database",xB="@firebase/data-connect",kB="@firebase/database-compat",LB="@firebase/functions",FB="@firebase/functions-compat",VB="@firebase/installations",UB="@firebase/installations-compat",jB="@firebase/messaging",BB="@firebase/messaging-compat",$B="@firebase/performance",HB="@firebase/performance-compat",zB="@firebase/remote-config",qB="@firebase/remote-config-compat",GB="@firebase/storage",WB="@firebase/storage-compat",KB="@firebase/firestore",QB="@firebase/ai",YB="@firebase/firestore-compat",JB="firebase",ZB="12.6.0";var oE="[DEFAULT]",XB={[iE]:"fire-core",[CB]:"fire-core-compat",[AB]:"fire-analytics",[SB]:"fire-analytics-compat",[NB]:"fire-app-check",[RB]:"fire-app-check-compat",[MB]:"fire-auth",[PB]:"fire-auth-compat",[OB]:"fire-rtdb",[xB]:"fire-data-connect",[kB]:"fire-rtdb-compat",[LB]:"fire-fn",[FB]:"fire-fn-compat",[VB]:"fire-iid",[UB]:"fire-iid-compat",[jB]:"fire-fcm",[BB]:"fire-fcm-compat",[$B]:"fire-perf",[HB]:"fire-perf-compat",[zB]:"fire-rc",[qB]:"fire-rc-compat",[GB]:"fire-gcs",[WB]:"fire-gcs-compat",[KB]:"fire-fst",[YB]:"fire-fst-compat",[QB]:"fire-vertex","fire-js":"fire-js",[JB]:"fire-js-all"};var Ac=new Map,e$=new Map,sE=new Map;function O0(n,e){try{n.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _n(n){let e=n.name;if(sE.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;sE.set(e,n);for(let t of Ac.values())O0(t,n);for(let t of e$.values())O0(t,n);return!0}function ds(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function en(n){return n==null?!1:n.settings!==void 0}var t$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new vn("app","Firebase",t$);var aE=class{constructor(e,t,r){this._isDeleted=!1,this._options=R({},e),this._config=R({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};var ei=ZB;function lE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=R({name:oE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(t||(t=Kv()),!t)throw Xr.create("no-options");let o=Ac.get(i);if(o){if(Hn(t,o.options)&&Hn(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}let s=new Fh(i);for(let u of sE.values())s.addComponent(u);let a=new aE(t,r,s);return Ac.set(i,a),a}function eo(n=oE){let e=Ac.get(n);if(!e&&n===oE&&Kv())return lE();if(!e)throw Xr.create("no-app",{appName:n});return e}function Uh(){return Array.from(Ac.values())}function Oe(n,e,t){let r=XB[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(s.join(" "));return}_n(new Et(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var n$="firebase-heartbeat-database",r$=1,Rc="firebase-heartbeat-store",nE=null;function F0(){return nE||(nE=M0(n$,r$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),nE}async function i$(n){try{let t=(await F0()).transaction(Rc),r=await t.objectStore(Rc).get(V0(n));return await t.done,r}catch(e){if(e instanceof Wt)cr.warn(e.message);else{let t=Xr.create("idb-get",{originalErrorMessage:e?.message});cr.warn(t.message)}}}async function x0(n,e){try{let r=(await F0()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(e,V0(n)),await r.done}catch(t){if(t instanceof Wt)cr.warn(t.message);else{let r=Xr.create("idb-set",{originalErrorMessage:t?.message});cr.warn(r.message)}}}function V0(n){return`${n.name}!${n.options.appId}`}var o$=1024,s$=30,cE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new uE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>s$){let i=c$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=k0(),{heartbeatsToSend:t,unsentEntries:r}=a$(this._heartbeatsCache.heartbeats),i=bc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return cr.warn(e),""}}};function k0(){return new Date().toISOString().substring(0,10)}function a$(n,e=o$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),L0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),L0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var uE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cc()?w0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await i$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function L0(n){return bc(JSON.stringify({version:2,heartbeats:n})).length}function c$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function u$(n){_n(new Et("platform-logger",e=>new rE(e),"PRIVATE")),_n(new Et("heartbeat",e=>new cE(e),"PRIVATE")),Oe(iE,P0,n),Oe(iE,P0,"esm2020"),Oe("fire-js","")}u$("");var l$="firebase",d$="12.6.0";Oe(l$,d$,"app");function U0(n){n===void 0&&(n=S(be));let e=n.get(Ur);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ti=new Mr("ANGULARFIRE2_VERSION");function Nc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var fs=(n,e)=>{let t=e?[e]:Uh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},hs=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(hs||{}),j0=qy()&&typeof Zone<"u"?hs.WARN:hs.SILENT;var jh=class{zone;delegate;constructor(e,t=Wp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ni=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=S(Ee);this.outsideAngular=t.runOutsideAngular(()=>new jh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new jh(typeof Zone>"u"?void 0:Zone.current,Gp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B0=!1;function h$(n,e){!B0&&(j0>hs.SILENT||qy())&&(B0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),j0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function f$(n){let e=S(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function to(n){let e=S(Ee,{optional:!0});return e?e.run(()=>n()):n()}var p$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ke(t,()=>to(()=>n.apply(void 0,r)))),ur=(n,e,t)=>(t||=e?hs.WARN:hs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=S(ni),s=S(Ur),a=S(Ne)}catch{return h$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=to(()=>s.add())),i[l]=p$(i[l],r,a));let u=f$(()=>n.apply(this,i));return e?u instanceof re?u.pipe(Rr(o.outsideAngular),Ar(o.insideAngular),U0(a)):u instanceof Promise?to(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>ke(a,()=>to(()=>h(m))),m=>ke(a,()=>to(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:to(()=>u):u instanceof re?u.pipe(Rr(o.outsideAngular),Ar(o.insideAngular)):to(()=>u)});var lr=class{constructor(e){return e}},no=class{constructor(){return Uh()}};function g$(n){return n&&n.length===1?n[0]:new lr(eo())}var dE=new k("angularfire2._apps"),m$={provide:lr,useFactory:g$,deps:[[new Mt,dE]]},y$={provide:no,deps:[[new Mt,dE]]};function v$(n){return(e,t)=>{let r=t.get(Vi);Oe("angularfire",ti.full,"core"),Oe("angularfire",ti.full,"app"),Oe("angular",fg.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new lr(i)}}function $0(n,...e){return gt([m$,y$,{provide:dE,useFactory:v$(n),multi:!0,deps:[Ee,be,ni,...e]}])}var H0=ur(lE,!0);var E$=new Map,_$={activated:!1,tokenObservers:[]},I$={initialized:!1,enabled:!1};function In(n){return E$.get(n)||R({},_$)}function W0(){return I$}var w$="https://content-firebaseappcheck.googleapis.com/v1";var T$="exchangeDebugToken",z0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},tie=1440*60*1e3;var pE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Zi,this.pending.promise.catch(t=>{}),await D$(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Zi,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function D$(n){return new Promise(e=>{setTimeout(e,n)})}var b$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ri=new vn("appCheck","AppCheck",b$);function K0(n){if(!In(n).activated)throw ri.create("use-before-activation",{appName:n.name})}async function Q0({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw ri.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw ri.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw ri.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function Y0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${w$}/projects/${t}/apps/${r}:${T$}?key=${i}`,body:{debug_token:e}}}var C$="firebase-app-check-database",S$=1,gE="firebase-app-check-store";var Bh=null;function A$(){return Bh||(Bh=new Promise((n,e)=>{try{let t=indexedDB.open(C$,S$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{e(ri.create("storage-open",{originalErrorMessage:r.target.error?.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gE,{keyPath:"compositeKey"})}}}catch(t){e(ri.create("storage-open",{originalErrorMessage:t?.message}))}}),Bh)}function R$(n,e){return N$(M$(n),e)}async function N$(n,e){let r=(await A$()).transaction(gE,"readwrite"),o=r.objectStore(gE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{a(ri.create("storage-set",{originalErrorMessage:u.target.error?.message}))}})}function M$(n){return`${n.options.appId}-${n.name}`}var Mc=new zn("@firebase/app-check");function hE(n,e){return Cc()?R$(n,e).catch(t=>{Mc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function J0(){return W0().enabled}async function Z0(){let n=W0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var P$={error:"UNKNOWN_ERROR"};function O$(n){return Ph.encodeString(JSON.stringify(n),!1)}async function mE(n,e=!1,t=!1){let r=n.app;K0(r);let i=In(r),o=i.token,s;if(o&&!Pc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Pc(l)?o=l:await hE(r,void 0))}if(!e&&o&&Pc(o))return{token:o.token};let a=!1;if(J0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Q0(Y0(r,await Z0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await hE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Mc.warn(l.message):t&&Mc.error(l),fE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await In(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Mc.warn(l.message):t&&Mc.error(l),s=l}let u;return o?s?Pc(o)?u={token:o.token,internalError:s}:u=fE(s):(u={token:o.token},i.token=o,await hE(r,o)):u=fE(s),a&&F$(r,u),u}async function x$(n){let e=n.app;K0(e);let{provider:t}=In(e);if(J0()){let r=await Z0(),{token:i}=await Q0(Y0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function k$(n,e,t,r){let{app:i}=n,o=In(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Pc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),q0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>q0(n))}function X0(n,e){let t=In(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function q0(n){let{app:e}=n,t=In(e),r=t.tokenRefresher;r||(r=L$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function L$(n){let{app:e}=n;return new pE(async()=>{let t=In(e),r;if(t.token?r=await mE(n,!0):r=await mE(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=In(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},z0.RETRIAL_MIN_WAIT,z0.RETRIAL_MAX_WAIT)}function F$(n,e){let t=In(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pc(n){return n.expireTimeMillis-Date.now()>0}function fE(n){return{token:O$(P$),error:n}}var yE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=In(this.app);for(let t of e)X0(this.app,t.next);return Promise.resolve()}};function V$(n,e){return new yE(n,e)}function U$(n){return{getToken:e=>mE(n,e),getLimitedUseToken:()=>x$(n),addTokenListener:e=>k$(n,"INTERNAL",e),removeTokenListener:e=>X0(n.app,e)}}var j$="@firebase/app-check",B$="0.11.0";var $$="app-check",G0="app-check-internal";function H$(){_n(new Et($$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return V$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(G0).initialize()})),_n(new Et(G0,n=>{let e=n.getProvider("app-check").getImmediate();return U$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe(j$,B$)}H$();var z$="app-check";var ps=class{constructor(){return fs(z$)}};var q$=["localhost","0.0.0.0","127.0.0.1"],pie=typeof window<"u"&&q$.includes(window.location.hostname);function pN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gN=pN,mN=new vn("auth","Firebase",pN());var Wh=new zn("@firebase/auth");function G$(n,...e){Wh.logLevel<=ie.WARN&&Wh.warn(`Auth (${ei}): ${n}`,...e)}function Hh(n,...e){Wh.logLevel<=ie.ERROR&&Wh.error(`Auth (${ei}): ${n}`,...e)}function si(n,...e){throw FE(n,...e)}function io(n,...e){return FE(n,...e)}function yN(n,e,t){let r=ne(R({},gN()),{[e]:t});return new vn("auth","Firebase",r).create(e,{appName:n.name})}function ro(n){return yN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mN.create(n,...e)}function q(n,e,...t){if(!n)throw FE(e,...t)}function dr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Hh(e),new Error(e)}function ai(n,e){n||dr(e)}function IE(){return typeof self<"u"&&self.location?.href||""}function W$(){return eN()==="http:"||eN()==="https:"}function eN(){return typeof self<"u"&&self.location?.protocol||null}function K$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W$()||v0()||"connection"in navigator)?navigator.onLine:!0}function Q$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=m0()||E0()}get(){return K$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function VE(n,e){ai(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Kh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Y$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var J$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z$=new oo(3e4,6e4);function UE(n,e){return n.tenantId&&!e.tenantId?ne(R({},e),{tenantId:n.tenantId}):e}async function gs(n,e,t,r,i={}){return vN(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Sc(R({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=R({method:e,headers:u},o);return y0()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Zr(n.emulatorConfig.host)&&(l.credentials="include"),Kh.fetch()(await EN(n,n.config.apiHost,t,a),l)})}async function vN(n,e,t){n._canInitEmulator=!1;let r=R(R({},Y$),e);try{let i=new wE(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw $h(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw $h(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw $h(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yN(n,h,l);si(n,h)}}catch(i){if(i instanceof Wt)throw i;si(n,"network-request-failed",{message:String(i)})}}async function X$(n,e,t,r,i={}){let o=await gs(n,e,t,r,i);return"mfaPendingCredential"in o&&si(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function EN(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?VE(n.config,i):`${n.config.apiScheme}://${i}`;return J$.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var wE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(io(this.auth,"network-request-failed")),Z$.get())})}};function $h(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=io(n,e,r);return i.customData._tokenResponse=t,i}async function eH(n,e){return gs(n,"POST","/v1/accounts:delete",e)}async function Qh(n,e){return gs(n,"POST","/v1/accounts:lookup",e)}function Oc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jE(n,e=!1){let t=En(n),r=await t.getIdToken(e),i=BE(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Oc(vE(i.auth_time)),issuedAtTime:Oc(vE(i.iat)),expirationTime:Oc(vE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vE(n){return Number(n)*1e3}function BE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Oh(t);return i?JSON.parse(i):(Hh("Failed to decode base64 JWT payload"),null)}catch(i){return Hh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tN(n){let e=BE(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function kc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Wt&&tH(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function tH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var TE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Lc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Yh(n){let e=n.auth,t=await n.getIdToken(),r=await kc(n,Qh(e,{idToken:t}));q(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?_N(i.providerUserInfo):[],s=nH(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lc(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function $E(n){let e=En(n);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _N(n){return n.map(r=>{var i=r,{providerId:e}=i,t=ca(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function rH(n,e){let t=await vN(n,{},async()=>{let r=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await EN(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Zr(n.emulatorConfig.host)&&(u.credentials="include"),Kh.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iH(n,e){return gs(n,"POST","/v2/accounts:revokeToken",UE(n,e))}var xc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){q(e.length!==0,"internal-error");let t=tN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await rH(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return dr("not implemented")}};function ii(n,e){q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var oi=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=ca(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await kc(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jE(this,e)}reload(){return $E(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>R({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(ne(R({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(ro(this.auth));let e=await this.getIdToken();return await kc(this,eH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ne(R({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>R({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:A,stsTokenManager:M}=t;q(p&&M,e,"internal-error");let N=xc.fromJSON(this.name,M);q(typeof p=="string",e,"internal-error"),ii(r,e.name),ii(i,e.name),q(typeof m=="boolean",e,"internal-error"),q(typeof y=="boolean",e,"internal-error"),ii(o,e.name),ii(s,e.name),ii(a,e.name),ii(u,e.name),ii(l,e.name),ii(h,e.name);let V=new n({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:N,createdAt:l,lastLoginAt:h});return A&&Array.isArray(A)&&(V.providerData=A.map(he=>R({},he))),u&&(V._redirectEventId=u),V}static async _fromIdTokenResponse(e,t,r=!1){let i=new xc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yh(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?_N(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new xc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var nN=new Map;function hr(n){ai(n instanceof Function,"Expected a class definition");let e=nN.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nN.set(n,e),e)}var oH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),DE=oH;function zh(n,e,t){return`firebase:${n}:${e}:${t}`}var Jh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=zh(this.userKey,i.apiKey,o),this.fullPersistenceKey=zh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Qh(this.auth,{idToken:e}).catch(()=>{});return t?oi._fromGetAccountInfoResponse(this.auth,t,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(hr(DE),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||hr(DE),s=zh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await Qh(e,{idToken:h}).catch(()=>{});if(!m)break;p=await oi._fromGetAccountInfoResponse(e,m,h)}else p=oi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function rN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CN(e))return"Blackberry";if(SN(e))return"Webos";if(wN(e))return"Safari";if((e.includes("chrome/")||TN(e))&&!e.includes("edge/"))return"Chrome";if(bN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function IN(n=Ze()){return/firefox\//i.test(n)}function wN(n=Ze()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TN(n=Ze()){return/crios\//i.test(n)}function DN(n=Ze()){return/iemobile/i.test(n)}function bN(n=Ze()){return/android/i.test(n)}function CN(n=Ze()){return/blackberry/i.test(n)}function SN(n=Ze()){return/webos/i.test(n)}function HE(n=Ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sH(n=Ze()){return HE(n)&&!!window.navigator?.standalone}function aH(){return _0()&&document.documentMode===10}function AN(n=Ze()){return HE(n)||bN(n)||SN(n)||CN(n)||/windows phone/i.test(n)||DN(n)}function RN(n,e=[]){let t;switch(n){case"Browser":t=rN(Ze());break;case"Worker":t=`${rN(Ze())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ei}/${r}`}var bE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function cH(n,e={}){return gs(n,"GET","/v2/passwordPolicy",UE(n,e))}var uH=6,CE=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??uH,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var SE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zh(this),this.idTokenSubscription=new Zh(this),this.beforeStateQueue=new bE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Qh(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(ro(this));let t=e?En(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await cH(this),t=new CE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&hr(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=await Jh.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G$(`Error while retrieving App Check token: ${e.error}`),e?.token}};function zE(n){return En(n)}var Zh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=D0(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lH(n){qE=n}function dH(n){return qE.loadJS(n)}function hH(){return qE.gapiScript}function NN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function GE(n,e){let t=ds(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Hn(o,e??{}))return i;si(i,"already-initialized")}return t.initialize({options:e})}function fH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function WE(n,e,t){let r=zE(n);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=MN(e),{host:s,port:a}=pH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(Hn(l,r.config.emulator)&&Hn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Zr(s)?(kh(`${o}//${s}${u}`),Lh("Auth",!0)):i||gH()}function MN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pH(n){let e=MN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:iN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:iN(s)}}}function iN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function gH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Xh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,t){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}};async function EE(n,e){return X$(n,"POST","/v1/accounts:signInWithIdp",UE(n,e))}var ef=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var AE=class extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Fc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await oi._fromIdTokenResponse(e,r,i),s=oN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=oN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function oN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var RE=class n extends Wt{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function PN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?RE._fromErrorAndOperation(n,o,e,r):o})}async function mH(n,e,t=!1){let r=await kc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fc._forOperation(n,"link",r)}async function yH(n,e,t=!1){let{auth:r}=n;if(en(r.app))return Promise.reject(ro(r));let i="reauthenticate";try{let o=await kc(n,PN(r,i,e,n),t);q(o.idToken,r,"internal-error");let s=BE(o.idToken);q(s,r,"internal-error");let{sub:a}=s;return q(n.uid===a,r,"user-mismatch"),Fc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&si(r,"user-mismatch"),o}}async function vH(n,e,t=!1){if(en(n.app))return Promise.reject(ro(n));let r="signIn",i=await PN(n,r,e),o=await Fc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function KE(n,e,t,r){return En(n).onIdTokenChanged(e,t,r)}function QE(n,e,t){return En(n).beforeAuthStateChanged(e,t)}var tf="__sak";var nf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var EH=1e3,_H=10,IH=(()=>{class n extends nf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);aH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,_H):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},EH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),ON=IH;var wH=(()=>{class n extends nf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),YE=wH;function TH(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var DH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await TH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function xN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var NE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=xN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Gn(){return window}function bH(n){Gn().location.href=n}function kN(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function CH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SH(){return navigator?.serviceWorker?.controller||null}function AH(){return kN()?self:null}var LN="firebaseLocalStorageDb",RH=1,rf="firebaseLocalStorage",FN="fbase_key",so=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function sf(n,e){return n.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function NH(){let n=indexedDB.deleteDatabase(LN);return new so(n).toPromise()}function ME(){let n=indexedDB.open(LN,RH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(rf,{keyPath:FN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(rf)?e(r):(r.close(),await NH(),e(await ME()))})})}async function sN(n,e,t){let r=sf(n,!0).put({[FN]:e,value:t});return new so(r).toPromise()}async function MH(n,e){let t=sf(n,!1).get(e),r=await new so(t).toPromise();return r===void 0?null:r.value}function aN(n,e){let t=sf(n,!0).delete(e);return new so(t).toPromise()}var PH=800,OH=3,xH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ME(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>OH)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=DH._getInstance(AH()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CH(),!this.activeServiceWorker)return;this.sender=new NE(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await ME();return await sN(t,tf,"1"),await aN(t,tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>sN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>MH(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=sf(o,!1).getAll();return new so(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),VN=xH;var Tie=NN("rcb"),Die=new oo(3e4,6e4);function kH(n,e){return e?hr(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Vc=class extends Xh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return EE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return EE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return EE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function LH(n){return vH(n.auth,new Vc(n),n.bypassAuthState)}function FH(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),yH(t,new Vc(n),n.bypassAuthState)}async function VH(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),mH(t,new Vc(n),n.bypassAuthState)}var PE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LH;case"linkViaPopup":case"linkViaRedirect":return VH;case"reauthViaPopup":case"reauthViaRedirect":return FH;default:si(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bie=new oo(2e3,1e4);var UH="pendingRedirect",qh=new Map,OE=class extends PE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=qh.get(this.auth._key());if(!e){try{let r=await jH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}qh.set(this.auth._key(),e)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function jH(n,e){let t=HH(e),r=$H(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function BH(n,e){qh.set(n._key(),e)}function $H(n){return hr(n._redirectPersistence)}function HH(n){return zh(UH,n.config.apiKey,n.name)}async function zH(n,e,t=!1){if(en(n.app))return Promise.reject(ro(n));let r=zE(n),i=kH(r,e),s=await new OE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var qH=600*1e3,xE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!UN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(io(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qH&&this.cachedEventUids.clear(),this.cachedEventUids.has(cN(e))}saveEventToCache(e){this.cachedEventUids.add(cN(e)),this.lastProcessedEventTime=Date.now()}};function cN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function GH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UN(n);default:return!1}}async function WH(n,e={}){return gs(n,"GET","/v1/projects",e)}var KH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QH=/^https?/;async function YH(n){if(n.config.emulator)return;let{authorizedDomains:e}=await WH(n);for(let t of e)try{if(JH(t))return}catch{}si(n,"unauthorized-domain")}function JH(n){let e=IE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!QH.test(t))return!1;if(KH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ZH=new oo(3e4,6e4);function uN(){let n=Gn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XH(n){return new Promise((e,t)=>{function r(){uN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uN(),t(io(n,"network-request-failed"))},timeout:ZH.get()})}if(Gn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gn().gapi?.load)r();else{let i=NN("iframefcb");return Gn()[i]=()=>{gapi.load?r():t(io(n,"network-request-failed"))},dH(`${hH()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Gh=null,e})}var Gh=null;function e4(n){return Gh=Gh||XH(n),Gh}var t4=new oo(5e3,15e3),n4="__/auth/iframe",r4="emulator/auth/iframe",i4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s4(n){let e=n.config;q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?VE(e,r4):`https://${n.config.authDomain}/${n4}`,r={apiKey:e.apiKey,appName:n.name,v:ei},i=o4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sc(r).slice(1)}`}async function a4(n){let e=await e4(n),t=Gn().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:s4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=io(n,"network-request-failed"),a=Gn().setTimeout(()=>{o(s)},t4.get());function u(){Gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var c4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u4=500,l4=600,d4="_blank",h4="http://localhost",of=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function f4(n,e,t,r=u4,i=l4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=ne(R({},c4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ze().toLowerCase();t&&(a=TN(l)?d4:t),IN(l)&&(e=e||h4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(sH(l)&&a!=="_self")return p4(e||"",a),new of(null);let p=window.open(e||"",a,h);q(p,n,"popup-blocked");try{p.focus()}catch{}return new of(p)}function p4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var g4="__/auth/handler",m4="emulator/auth/handler",y4=encodeURIComponent("fac");async function lN(n,e,t,r,i,o){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ei,eventId:i};if(e instanceof ef){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",T0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof AE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${y4}=${encodeURIComponent(u)}`:"";return`${v4(n)}?${Sc(a).slice(1)}${l}`}function v4({config:n}){return n.emulator?VE(n,m4):`https://${n.authDomain}/${g4}`}var _E="webStorageSupport",kE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=zH,this._overrideRedirectResult=BH}async _openPopup(e,t,r,i){ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await lN(e,t,r,IE(),i);return f4(e,o,xN())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await lN(e,t,r,IE(),i);return bH(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ai(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await a4(e),r=new xE(e);return t.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_E,{type:_E},i=>{let o=i?.[0]?.[_E];o!==void 0&&t(!!o),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AN()||wN()||HE()}},jN=kE;var dN="@firebase/auth",hN="1.11.1";var LE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function E4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(n){_n(new Et("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RN(n)},l=new SE(r,i,o,u);return fH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_n(new Et("auth-internal",e=>{let t=zE(e.getProvider("auth").getImmediate());return(r=>new LE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(dN,hN,E4(n)),Oe(dN,hN,"esm2020")}var I4=300,w4=Qv("authIdTokenMaxAge")||I4,fN=null,T4=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>w4)return;let i=t?.token;fN!==i&&(fN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JE(n=eo()){let e=ds(n,"auth");if(e.isInitialized())return e.getImmediate();let t=GE(n,{popupRedirectResolver:jN,persistence:[VN,ON,YE]}),r=Qv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=T4(o.toString());QE(t,s,()=>s(t.currentUser)),KE(t,a=>s(a))}}let i=Wv("auth");return i&&WE(t,`http://${i}`),t}function D4(){return document.getElementsByTagName("head")?.[0]??document}lH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=io("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",D4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");var BN="auth",Uc=class{constructor(e){return e}},jc=class{constructor(){return fs(BN)}};var ZE=new k("angularfire2.auth-instances");function yz(n,e){let t=Nc(BN,n,e);return t&&new Uc(t)}function vz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Uc(r)}}var Ez={provide:jc,deps:[[new Mt,ZE]]},_z={provide:Uc,useFactory:yz,deps:[[new Mt,ZE],lr]};function $N(n,...e){return Oe("angularfire",ti.full,"auth"),gt([_z,Ez,{provide:ZE,useFactory:vz(n),multi:!0,deps:[Ee,be,ni,no,[new Mt,ps],...e]}])}var HN=ur(JE,!0);var zN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qN={};var fr,XE;(function(){var n;function e(w,v){function _(){}_.prototype=v.prototype,w.F=v.prototype,w.prototype=new _,w.prototype.constructor=w,w.D=function(T,I,b){for(var E=Array(arguments.length-2),It=2;It<arguments.length;It++)E[It-2]=arguments[It];return v.prototype[I].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,_){_||(_=0);let T=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)T[I]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(I=0;I<16;++I)T[I]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=w.g[0],_=w.g[1],I=w.g[2];let b=w.g[3],E;E=v+(b^_&(I^b))+T[0]+3614090360&4294967295,v=_+(E<<7&4294967295|E>>>25),E=b+(I^v&(_^I))+T[1]+3905402710&4294967295,b=v+(E<<12&4294967295|E>>>20),E=I+(_^b&(v^_))+T[2]+606105819&4294967295,I=b+(E<<17&4294967295|E>>>15),E=_+(v^I&(b^v))+T[3]+3250441966&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(b^_&(I^b))+T[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=b+(I^v&(_^I))+T[5]+1200080426&4294967295,b=v+(E<<12&4294967295|E>>>20),E=I+(_^b&(v^_))+T[6]+2821735955&4294967295,I=b+(E<<17&4294967295|E>>>15),E=_+(v^I&(b^v))+T[7]+4249261313&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(b^_&(I^b))+T[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=b+(I^v&(_^I))+T[9]+2336552879&4294967295,b=v+(E<<12&4294967295|E>>>20),E=I+(_^b&(v^_))+T[10]+4294925233&4294967295,I=b+(E<<17&4294967295|E>>>15),E=_+(v^I&(b^v))+T[11]+2304563134&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(b^_&(I^b))+T[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=b+(I^v&(_^I))+T[13]+4254626195&4294967295,b=v+(E<<12&4294967295|E>>>20),E=I+(_^b&(v^_))+T[14]+2792965006&4294967295,I=b+(E<<17&4294967295|E>>>15),E=_+(v^I&(b^v))+T[15]+1236535329&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(I^b&(_^I))+T[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=b+(_^I&(v^_))+T[6]+3225465664&4294967295,b=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(b^v))+T[11]+643717713&4294967295,I=b+(E<<14&4294967295|E>>>18),E=_+(b^v&(I^b))+T[0]+3921069994&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(I^b&(_^I))+T[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=b+(_^I&(v^_))+T[10]+38016083&4294967295,b=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(b^v))+T[15]+3634488961&4294967295,I=b+(E<<14&4294967295|E>>>18),E=_+(b^v&(I^b))+T[4]+3889429448&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(I^b&(_^I))+T[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=b+(_^I&(v^_))+T[14]+3275163606&4294967295,b=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(b^v))+T[3]+4107603335&4294967295,I=b+(E<<14&4294967295|E>>>18),E=_+(b^v&(I^b))+T[8]+1163531501&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(I^b&(_^I))+T[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=b+(_^I&(v^_))+T[2]+4243563512&4294967295,b=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(b^v))+T[7]+1735328473&4294967295,I=b+(E<<14&4294967295|E>>>18),E=_+(b^v&(I^b))+T[12]+2368359562&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(_^I^b)+T[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=b+(v^_^I)+T[8]+2272392833&4294967295,b=v+(E<<11&4294967295|E>>>21),E=I+(b^v^_)+T[11]+1839030562&4294967295,I=b+(E<<16&4294967295|E>>>16),E=_+(I^b^v)+T[14]+4259657740&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(_^I^b)+T[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=b+(v^_^I)+T[4]+1272893353&4294967295,b=v+(E<<11&4294967295|E>>>21),E=I+(b^v^_)+T[7]+4139469664&4294967295,I=b+(E<<16&4294967295|E>>>16),E=_+(I^b^v)+T[10]+3200236656&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(_^I^b)+T[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=b+(v^_^I)+T[0]+3936430074&4294967295,b=v+(E<<11&4294967295|E>>>21),E=I+(b^v^_)+T[3]+3572445317&4294967295,I=b+(E<<16&4294967295|E>>>16),E=_+(I^b^v)+T[6]+76029189&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(_^I^b)+T[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=b+(v^_^I)+T[12]+3873151461&4294967295,b=v+(E<<11&4294967295|E>>>21),E=I+(b^v^_)+T[15]+530742520&4294967295,I=b+(E<<16&4294967295|E>>>16),E=_+(I^b^v)+T[2]+3299628645&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(I^(_|~b))+T[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=b+(_^(v|~I))+T[7]+1126891415&4294967295,b=v+(E<<10&4294967295|E>>>22),E=I+(v^(b|~_))+T[14]+2878612391&4294967295,I=b+(E<<15&4294967295|E>>>17),E=_+(b^(I|~v))+T[5]+4237533241&4294967295,_=I+(E<<21&4294967295|E>>>11),E=v+(I^(_|~b))+T[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=b+(_^(v|~I))+T[3]+2399980690&4294967295,b=v+(E<<10&4294967295|E>>>22),E=I+(v^(b|~_))+T[10]+4293915773&4294967295,I=b+(E<<15&4294967295|E>>>17),E=_+(b^(I|~v))+T[1]+2240044497&4294967295,_=I+(E<<21&4294967295|E>>>11),E=v+(I^(_|~b))+T[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=b+(_^(v|~I))+T[15]+4264355552&4294967295,b=v+(E<<10&4294967295|E>>>22),E=I+(v^(b|~_))+T[6]+2734768916&4294967295,I=b+(E<<15&4294967295|E>>>17),E=_+(b^(I|~v))+T[13]+1309151649&4294967295,_=I+(E<<21&4294967295|E>>>11),E=v+(I^(_|~b))+T[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=b+(_^(v|~I))+T[11]+3174756917&4294967295,b=v+(E<<10&4294967295|E>>>22),E=I+(v^(b|~_))+T[2]+718787259&4294967295,I=b+(E<<15&4294967295|E>>>17),E=_+(b^(I|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let _=v-this.blockSize,T=this.C,I=this.h,b=0;for(;b<v;){if(I==0)for(;b<=_;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<v;)if(T[I++]=w.charCodeAt(b++),I==this.blockSize){i(this,T),I=0;break}}else for(;b<v;)if(T[I++]=w[b++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var _=w.length-8;_<w.length;++_)w[_]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,_=0;_<4;++_)for(let T=0;T<32;T+=8)w[v++]=this.g[_]>>>T&255;return w};function o(w,v){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=v(w)}function s(w,v){this.h=v;let _=[],T=!0;for(let I=w.length-1;I>=0;I--){let b=w[I]|0;T&&b==v||(_[I]=b,T=!1)}this.g=_}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return N(l(-w));let v=[],_=1;for(let T=0;w>=_;T++)v[T]=w/_|0,_*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return N(h(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let _=l(Math.pow(v,8)),T=p;for(let b=0;b<w.length;b+=8){var I=Math.min(8,w.length-b);let E=parseInt(w.substring(b,b+I),v);I<8?(I=l(Math.pow(v,I)),T=T.j(I).add(l(E))):(T=T.j(_),T=T.add(l(E)))}return T}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-N(this).m();let w=0,v=1;for(let _=0;_<this.g.length;_++){let T=this.i(_);w+=(T>=0?T:4294967296+T)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(M(this))return"-"+N(this).toString(w);let v=l(Math.pow(w,6));var _=this;let T="";for(;;){let I=He(_,v).g;_=V(_,I.j(v));let b=((_.g.length>0?_.g[0]:_.h)>>>0).toString(w);if(_=I,A(_))return b+T;for(;b.length<6;)b="0"+b;T=b+T}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=V(this,w),M(w)?-1:A(w)?0:1};function N(w){let v=w.g.length,_=[];for(let T=0;T<v;T++)_[T]=~w.g[T];return new s(_,~w.h).add(m)}n.abs=function(){return M(this)?N(this):this},n.add=function(w){let v=Math.max(this.g.length,w.g.length),_=[],T=0;for(let I=0;I<=v;I++){let b=T+(this.i(I)&65535)+(w.i(I)&65535),E=(b>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);T=E>>>16,b&=65535,E&=65535,_[I]=E<<16|b}return new s(_,_[_.length-1]&-2147483648?-1:0)};function V(w,v){return w.add(N(v))}n.j=function(w){if(A(this)||A(w))return p;if(M(this))return M(w)?N(this).j(N(w)):N(N(this).j(w));if(M(w))return N(this.j(N(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,_=[];for(var T=0;T<2*v;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(let I=0;I<w.g.length;I++){let b=this.i(T)>>>16,E=this.i(T)&65535,It=w.i(I)>>>16,_r=w.i(I)&65535;_[2*T+2*I]+=E*_r,he(_,2*T+2*I),_[2*T+2*I+1]+=b*_r,he(_,2*T+2*I+1),_[2*T+2*I+1]+=E*It,he(_,2*T+2*I+1),_[2*T+2*I+2]+=b*It,he(_,2*T+2*I+2)}for(w=0;w<v;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=v;w<2*v;w++)_[w]=0;return new s(_,0)};function he(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function pe(w,v){this.g=w,this.h=v}function He(w,v){if(A(v))throw Error("division by zero");if(A(w))return new pe(p,p);if(M(w))return v=He(N(w),v),new pe(N(v.g),N(v.h));if(M(v))return v=He(w,N(v)),new pe(N(v.g),v.h);if(w.g.length>30){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,T=v;T.l(w)<=0;)_=rt(_),T=rt(T);var I=Ke(_,1),b=Ke(T,1);for(T=Ke(T,2),_=Ke(_,2);!A(T);){var E=b.add(T);E.l(w)<=0&&(I=I.add(_),b=E),T=Ke(T,1),_=Ke(_,1)}return v=V(w,I.j(v)),new pe(I,v)}for(I=p;w.l(v)>=0;){for(_=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),b=l(_),E=b.j(v);M(E)||E.l(w)>0;)_-=T,b=l(_),E=b.j(v);A(b)&&(b=m),I=I.add(b),w=V(w,E)}return new pe(I,w)}n.B=function(w){return He(this,w).h},n.and=function(w){let v=Math.max(this.g.length,w.g.length),_=[];for(let T=0;T<v;T++)_[T]=this.i(T)&w.i(T);return new s(_,this.h&w.h)},n.or=function(w){let v=Math.max(this.g.length,w.g.length),_=[];for(let T=0;T<v;T++)_[T]=this.i(T)|w.i(T);return new s(_,this.h|w.h)},n.xor=function(w){let v=Math.max(this.g.length,w.g.length),_=[];for(let T=0;T<v;T++)_[T]=this.i(T)^w.i(T);return new s(_,this.h^w.h)};function rt(w){let v=w.g.length+1,_=[];for(let T=0;T<v;T++)_[T]=w.i(T)<<1|w.i(T-1)>>>31;return new s(_,w.h)}function Ke(w,v){let _=v>>5;v%=32;let T=w.g.length-_,I=[];for(let b=0;b<T;b++)I[b]=v>0?w.i(b+_)>>>v|w.i(b+_+1)<<32-v:w.i(b+_);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XE=qN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,fr=qN.Integer=s}).apply(typeof zN<"u"?zN:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var e_,Iz,ms,t_,Bc,cf,n_,r_,i_;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var f=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.push([g,d[g]]);return f}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,f){return c.call.apply(c.bind,arguments)}function l(c,d,f){return l=u,l.apply(null,arguments)}function h(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function p(c,d){function f(){}f.prototype=d.prototype,c.Z=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Ob=function(g,D,C){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return d.prototype[D].apply(g,O)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let g=1;g<arguments.length;g++){let D=arguments[g];var f=typeof D;if(f=f!="object"?f:D?Array.isArray(D)?"array":f:"null",f=="array"||f=="object"&&typeof D.length=="number"){f=c.length||0;let C=D.length||0;c.length=f+C;for(let O=0;O<C;O++)c[f+O]=D[O]}else c.push(D)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function N(c){s.setTimeout(()=>{throw c},0)}function V(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class he{constructor(){this.h=this.g=null}add(d,f){let g=pe.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var pe=new M(()=>new He,c=>c.reset());class He{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Ke=!1,w=new he,v=()=>{let c=Promise.resolve(void 0);rt=()=>{c.then(_)}};function _(){for(var c;c=V();){try{c.h.call(c.g)}catch(f){N(f)}var d=pe;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}Ke=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};s.addEventListener("test",f,d),s.removeEventListener("test",f,d)}catch{}return c})();function E(c){return/^[\s\xa0]*$/.test(c)}function It(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(It,I),It.prototype.init=function(c,d){let f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&It.Z.h.call(this)},It.prototype.h=function(){It.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _r="closure_listenable_"+(Math.random()*1e6|0),nO=0;function rO(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++nO,this.da=this.fa=!1}function hu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fu(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function iO(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function rw(c){let d={};for(let f in c)d[f]=c[f];return d}let iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ow(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let C=0;C<iw.length;C++)f=iw[C],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function pu(c){this.src=c,this.g={},this.h=0}pu.prototype.add=function(c,d,f,g,D){let C=c.toString();c=this.g[C],c||(c=this.g[C]=[],this.h++);let O=sp(c,d,g,D);return O>-1?(d=c[O],f||(d.fa=!1)):(d=new rO(d,this.src,C,!!g,D),d.fa=f,c.push(d)),d};function op(c,d){let f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),C;(C=D>=0)&&Array.prototype.splice.call(g,D,1),C&&(hu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function sp(c,d,f,g){for(let D=0;D<c.length;++D){let C=c[D];if(!C.da&&C.listener==d&&C.capture==!!f&&C.ha==g)return D}return-1}var ap="closure_lm_"+(Math.random()*1e6|0),cp={};function sw(c,d,f,g,D){if(g&&g.once)return cw(c,d,f,g,D);if(Array.isArray(d)){for(let C=0;C<d.length;C++)sw(c,d[C],f,g,D);return null}return f=hp(f),c&&c[_r]?c.J(d,f,a(g)?!!g.capture:!!g,D):aw(c,d,f,!1,g,D)}function aw(c,d,f,g,D,C){if(!d)throw Error("Invalid event type");let O=a(D)?!!D.capture:!!D,ee=lp(c);if(ee||(c[ap]=ee=new pu(c)),f=ee.add(d,f,g,O,C),f.proxy)return f;if(g=oO(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)b||(D=O),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(lw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oO(){function c(f){return d.call(c.src,c.listener,f)}let d=sO;return c}function cw(c,d,f,g,D){if(Array.isArray(d)){for(let C=0;C<d.length;C++)cw(c,d[C],f,g,D);return null}return f=hp(f),c&&c[_r]?c.K(d,f,a(g)?!!g.capture:!!g,D):aw(c,d,f,!0,g,D)}function uw(c,d,f,g,D){if(Array.isArray(d))for(var C=0;C<d.length;C++)uw(c,d[C],f,g,D);else g=a(g)?!!g.capture:!!g,f=hp(f),c&&c[_r]?(c=c.i,C=String(d).toString(),C in c.g&&(d=c.g[C],f=sp(d,f,g,D),f>-1&&(hu(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete c.g[C],c.h--)))):c&&(c=lp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=sp(d,f,g,D)),(f=c>-1?d[c]:null)&&up(f))}function up(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[_r])op(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(lw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=lp(d))?(op(f,c),f.h==0&&(f.src=null,d[ap]=null)):hu(c)}}}function lw(c){return c in cp?cp[c]:cp[c]="on"+c}function sO(c,d){if(c.da)c=!0;else{d=new It(d,this);let f=c.listener,g=c.ha||c.src;c.fa&&up(c),c=f.call(g,d)}return c}function lp(c){return c=c[ap],c instanceof pu?c:null}var dp="__closure_events_fn_"+(Math.random()*1e9>>>0);function hp(c){return typeof c=="function"?c:(c[dp]||(c[dp]=function(d){return c.handleEvent(d)}),c[dp])}function it(){T.call(this),this.i=new pu(this),this.M=this,this.G=null}p(it,T),it.prototype[_r]=!0,it.prototype.removeEventListener=function(c,d,f,g){uw(this,c,d,f,g)};function dt(c,d){var f,g=c.G;if(g)for(f=[];g;g=g.G)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var D=d;d=new I(g,c),ow(d,D)}D=!0;let C,O;if(f)for(O=f.length-1;O>=0;O--)C=d.g=f[O],D=gu(C,g,!0,d)&&D;if(C=d.g=c,D=gu(C,g,!0,d)&&D,D=gu(C,g,!1,d)&&D,f)for(O=0;O<f.length;O++)C=d.g=f[O],D=gu(C,g,!1,d)&&D}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let f=c.g[d];for(let g=0;g<f.length;g++)hu(f[g]);delete c.g[d],c.h--}}this.G=null},it.prototype.J=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},it.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function gu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let C=0;C<d.length;++C){let O=d[C];if(O&&!O.da&&O.capture==f){let ee=O.listener,ze=O.ha||O.src;O.fa&&op(c.i,O),D=ee.call(ze,g)!==!1&&D}}return D&&!g.defaultPrevented}function aO(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function dw(c){c.g=aO(()=>{c.g=null,c.i&&(c.i=!1,dw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class cO extends T{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:dw(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(c){T.call(this),this.h=c,this.g={}}p(Gs,T);var hw=[];function fw(c){fu(c.g,function(d,f){this.g.hasOwnProperty(f)&&up(d)},c),c.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),fw(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fp=s.JSON.stringify,uO=s.JSON.parse,lO=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function pw(){}function gw(){}var Ws={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pp(){I.call(this,"d")}p(pp,I);function gp(){I.call(this,"c")}p(gp,I);var hi={},mw=null;function mu(){return mw=mw||new it}hi.Ia="serverreachability";function yw(c){I.call(this,hi.Ia,c)}p(yw,I);function Ks(c){let d=mu();dt(d,new yw(d))}hi.STAT_EVENT="statevent";function vw(c,d){I.call(this,hi.STAT_EVENT,c),this.stat=d}p(vw,I);function ht(c){let d=mu();dt(d,new vw(d,c))}hi.Ja="timingevent";function Ew(c,d){I.call(this,hi.Ja,c),this.size=d}p(Ew,I);function Qs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function Ys(){this.g=!0}Ys.prototype.ua=function(){this.g=!1};function dO(c,d,f,g,D,C){c.info(function(){if(c.g)if(C){var O="",ee=C.split("&");for(let Ie=0;Ie<ee.length;Ie++){var ze=ee[Ie].split("=");if(ze.length>1){let Qe=ze[0];ze=ze[1];let bn=Qe.split("_");O=bn.length>=2&&bn[1]=="type"?O+(Qe+"="+ze+"&"):O+(Qe+"=redacted&")}}}else O=null;else O=C;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+O})}function hO(c,d,f,g,D,C,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+C+" "+O})}function mo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+pO(c,f)+(g?" "+g:"")})}function fO(c,d){c.info(function(){return"TIMEOUT: "+d})}Ys.prototype.info=function(){};function pO(c,d){if(!c.g)return d;if(!d)return null;try{let C=JSON.parse(d);if(C){for(c=0;c<C.length;c++)if(Array.isArray(C[c])){var f=C[c];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let O=1;O<g.length;O++)g[O]=""}}}}return fp(C)}catch{return d}}var yu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_w={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Iw;function mp(){}p(mp,pw),mp.prototype.g=function(){return new XMLHttpRequest},Iw=new mp;function Js(c){return encodeURIComponent(String(c))}function gO(c){var d=1;c=c.split(":");let f=[];for(;d>0&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function Ir(c,d,f,g){this.j=c,this.i=d,this.l=f,this.S=g||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ww}function ww(){this.i=null,this.g="",this.h=!1}var Tw={},yp={};function vp(c,d,f){c.M=1,c.A=Eu(Dn(d)),c.u=f,c.R=!0,Dw(c,null)}function Dw(c,d){c.F=Date.now(),vu(c),c.B=Dn(c.A);var f=c.B,g=c.S;Array.isArray(g)||(g=[String(g)]),Fw(f.i,"t",g),c.C=0,f=c.j.L,c.h=new ww,c.g=tT(c.j,f?d:null,!c.u),c.P>0&&(c.O=new cO(l(c.Y,c,c.g),c.P)),d=c.V,f=c.g,g=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(hw[0]=D.toString()),D=hw);for(let C=0;C<D.length;C++){let O=sw(f,D[C],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.J?rw(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),Ks(),dO(c.i,c.v,c.B,c.l,c.S,c.u)}Ir.prototype.ba=function(c){c=c.target;let d=this.O;d&&Dr(c)==3?d.j():this.Y(c)},Ir.prototype.Y=function(c){try{if(c==this.g)e:{let ee=Dr(this.g),ze=this.g.ya(),Ie=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||zw(this.g)))){this.K||ee!=4||ze==7||(ze==8||Ie<=0?Ks(3):Ks(2)),Ep(this);var d=this.g.ca();this.X=d;var f=mO(this);if(this.o=d==200,hO(this.i,this.v,this.B,this.l,this.S,ee,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(g)){var C=g;break t}}C=null}if(c=C)mo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_p(this,c);else{this.o=!1,this.m=3,ht(12),fi(this),Zs(this);break e}}if(this.R){c=!0;let Qe;for(;!this.K&&this.C<f.length;)if(Qe=yO(this,f),Qe==yp){ee==4&&(this.m=4,ht(14),c=!1),mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==Tw){this.m=4,ht(15),mo(this.i,this.l,f,"[Invalid Chunk]"),c=!1;break}else mo(this.i,this.l,Qe,null),_p(this,Qe);if(bw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||f.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)mo(this.i,this.l,f,"[Invalid Chunked Response]"),fi(this),Zs(this);else if(f.length>0&&!this.W){this.W=!0;var O=this.j;O.g==this&&O.aa&&!O.P&&(O.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Sp(O),O.P=!0,ht(11))}}else mo(this.i,this.l,f,null),_p(this,f);ee==4&&fi(this),this.o&&!this.K&&(ee==4?Jw(this.j,this):(this.o=!1,vu(this)))}else MO(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),fi(this),Zs(this)}}}catch{}finally{}};function mO(c){if(!bw(c))return c.g.la();let d=zw(c.g);if(d==="")return"";let f="",g=d.length,D=Dr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fi(c),Zs(c),"";c.h.i=new s.TextDecoder}for(let C=0;C<g;C++)c.h.h=!0,f+=c.h.i.decode(d[C],{stream:!(D&&C==g-1)});return d.length=0,c.h.g+=f,c.C=0,c.h.g}function bw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yO(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yp:(f=Number(d.substring(f,g)),isNaN(f)?Tw:(g+=1,g+f>d.length?yp:(d=d.slice(g,g+f),c.C=g+f,d)))}Ir.prototype.cancel=function(){this.K=!0,fi(this)};function vu(c){c.T=Date.now()+c.H,Cw(c,c.H)}function Cw(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Qs(l(c.aa,c),d)}function Ep(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Ir.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(fO(this.i,this.B),this.M!=2&&(Ks(),ht(17)),fi(this),this.m=2,Zs(this)):Cw(this,this.T-c)};function Zs(c){c.j.I==0||c.K||Jw(c.j,c)}function fi(c){Ep(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,fw(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function _p(c,d){try{var f=c.j;if(f.I!=0&&(f.g==c||Ip(f.h,c))){if(!c.L&&Ip(f.h,c)&&f.I==3){try{var g=f.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<c.F)bu(f),Tu(f);else break e;Cp(f),ht(18)}}else f.xa=D[1],0<f.xa-f.K&&D[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Qs(l(f.Va,f),6e3));Rw(f.h)<=1&&f.ta&&(f.ta=void 0)}else gi(f,11)}else if((c.L||f.g==c)&&bu(f),!E(d))for(D=f.Ba.g.parse(d),d=0;d<D.length;d++){let Ie=D[d],Qe=Ie[0];if(!(Qe<=f.K))if(f.K=Qe,Ie=Ie[1],f.I==2)if(Ie[0]=="c"){f.M=Ie[1],f.ba=Ie[2];let bn=Ie[3];bn!=null&&(f.ka=bn,f.j.info("VER="+f.ka));let mi=Ie[4];mi!=null&&(f.za=mi,f.j.info("SVER="+f.za));let br=Ie[5];br!=null&&typeof br=="number"&&br>0&&(g=1.5*br,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Cr=c.g;if(Cr){let Su=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var C=g.h;C.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(wp(C,C.h),C.h=null))}if(g.G){let Ap=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ap&&(g.wa=Ap,De(g.J,g.G,Ap))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-c.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var O=c;if(g.na=eT(g,g.L?g.ba:null,g.W),O.L){Nw(g.h,O);var ee=O,ze=g.O;ze&&(ee.H=ze),ee.D&&(Ep(ee),vu(ee)),g.g=O}else Qw(g);f.i.length>0&&Du(f)}else Ie[0]!="stop"&&Ie[0]!="close"||gi(f,7);else f.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?gi(f,7):bp(f):Ie[0]!="noop"&&f.l&&f.l.qa(Ie),f.A=0)}}Ks(4)}catch{}}var vO=class{constructor(c,d){this.g=c,this.map=d}};function Sw(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Aw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rw(c){return c.h?1:c.g?c.g.size:0}function Ip(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wp(c,d){c.g?c.g.add(d):c.h=d}function Nw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Sw.prototype.cancel=function(){if(this.i=Mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Mw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.G);return d}return y(c.i)}var Pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EO(c,d){if(c){c=c.split("&");for(let f=0;f<c.length;f++){let g=c[f].indexOf("="),D,C=null;g>=0?(D=c[f].substring(0,g),C=c[f].substring(g+1)):D=c[f],d(D,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function wr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof wr?(this.l=c.l,Xs(this,c.j),this.o=c.o,this.g=c.g,ea(this,c.u),this.h=c.h,Tp(this,Vw(c.i)),this.m=c.m):c&&(d=String(c).match(Pw))?(this.l=!1,Xs(this,d[1]||"",!0),this.o=ta(d[2]||""),this.g=ta(d[3]||"",!0),ea(this,d[4]),this.h=ta(d[5]||"",!0),Tp(this,d[6]||"",!0),this.m=ta(d[7]||"")):(this.l=!1,this.i=new ra(null,this.l))}wr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(na(d,Ow,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(na(d,Ow,!0),"@"),c.push(Js(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&c.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(na(f,f.charAt(0)=="/"?wO:IO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",na(f,DO)),c.join("")},wr.prototype.resolve=function(c){let d=Dn(this),f=!!c.j;f?Xs(d,c.j):f=!!c.o,f?d.o=c.o:f=!!c.g,f?d.g=c.g:f=c.u!=null;var g=c.h;if(f)ea(d,c.u);else if(f=!!c.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=d.h.lastIndexOf("/");D!=-1&&(g=d.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");let C=[];for(let O=0;O<D.length;){let ee=D[O++];ee=="."?g&&O==D.length&&C.push(""):ee==".."?((C.length>1||C.length==1&&C[0]!="")&&C.pop(),g&&O==D.length&&C.push("")):(C.push(ee),g=!0)}g=C.join("/")}else g=D}return f?d.h=g:f=c.i.toString()!=="",f?Tp(d,Vw(c.i)):f=!!c.m,f&&(d.m=c.m),d};function Dn(c){return new wr(c)}function Xs(c,d,f){c.j=f?ta(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ea(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function Tp(c,d,f){d instanceof ra?(c.i=d,bO(c.i,c.l)):(f||(d=na(d,TO)),c.i=new ra(d,c.l))}function De(c,d,f){c.i.set(d,f)}function Eu(c){return De(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ta(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function na(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,_O),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _O(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ow=/[#\/\?@]/g,IO=/[#\?:]/g,wO=/[#\?]/g,TO=/[#\?@]/g,DO=/#/g;function ra(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function pi(c){c.g||(c.g=new Map,c.h=0,c.i&&EO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ra.prototype,n.add=function(c,d){pi(this),this.i=null,c=yo(this,c);let f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function xw(c,d){pi(c),d=yo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function kw(c,d){return pi(c),d=yo(c,d),c.g.has(d)}n.forEach=function(c,d){pi(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)};function Lw(c,d){pi(c);let f=[];if(typeof d=="string")kw(c,d)&&(f=f.concat(c.g.get(yo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)f=f.concat(c[d]);return f}n.set=function(c,d){return pi(this),this.i=null,c=yo(this,c),kw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=Lw(this,c),c.length>0?String(c[0]):d):d};function Fw(c,d,f){xw(c,d),f.length>0&&(c.i=null,c.g.set(yo(c,d),y(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var f=d[g];let D=Js(f);f=Lw(this,f);for(let C=0;C<f.length;C++){let O=D;f[C]!==""&&(O+="="+Js(f[C])),c.push(O)}}return this.i=c.join("&")};function Vw(c){let d=new ra;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function yo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function bO(c,d){d&&!c.j&&(pi(c),c.i=null,c.g.forEach(function(f,g){let D=g.toLowerCase();g!=D&&(xw(this,g),Fw(this,D,f))},c)),c.j=d}function CO(c,d){let f=new Ys;if(s.Image){let g=new Image;g.onload=h(Tr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=h(Tr,f,"TestLoadImage: error",!1,d,g),g.onabort=h(Tr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=h(Tr,f,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function SO(c,d){let f=new Ys,g=new AbortController,D=setTimeout(()=>{g.abort(),Tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(C=>{clearTimeout(D),C.ok?Tr(f,"TestPingServer: ok",!0,d):Tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Tr(f,"TestPingServer: error",!1,d)})}function Tr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function AO(){this.g=new lO}function _u(c){this.i=c.Sb||null,this.h=c.ab||!1}p(_u,pw),_u.prototype.g=function(){return new Iu(this.i,this.h)};function Iu(c,d){it.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Iu,it),n=Iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,oa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Uw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Uw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ia(this):oa(this),this.readyState==3&&Uw(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,ia(this))},n.Na=function(c){this.g&&(this.response=c,ia(this))},n.ga=function(){this.g&&ia(this)};function ia(c){c.readyState=4,c.l=null,c.j=null,c.B=null,oa(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jw(c){let d="";return fu(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Dp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=jw(f),typeof c=="string"?f!=null&&Js(f):De(c,d,f))}function Pe(c){it.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Pe,it);var RO=/^https?$/i,NO=["POST","PUT"];n=Pe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Iw.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(C){Bw(this,C);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let C of g.keys())f.set(C,g.get(C));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(C=>C.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(NO,d,void 0)>=0)||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,O]of f)this.g.setRequestHeader(C,O);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(C){Bw(this,C)}};function Bw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,$w(c),wu(c)}function $w(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,dt(this,"complete"),dt(this,"abort"),wu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),Pe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hw(this):this.Xa())},n.Xa=function(){Hw(this)};function Hw(c){if(c.h&&typeof o<"u"){if(c.v&&Dr(c)==4)setTimeout(c.Ca.bind(c),0);else if(dt(c,"readystatechange"),Dr(c)==4){c.h=!1;try{let C=c.ca();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=C===0){let O=String(c.D).match(Pw)[1]||null;!O&&s.self&&s.self.location&&(O=s.self.location.protocol.slice(0,-1)),g=!RO.test(O?O.toLowerCase():"")}f=g}if(f)dt(c,"complete"),dt(c,"success");else{c.o=6;try{var D=Dr(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",$w(c)}}finally{wu(c)}}}}function wu(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let f=c.g;c.g=null,d||dt(c,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Dr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),uO(d)}};function zw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MO(c){let d={};c=(c.g&&Dr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(E(c[g]))continue;var f=gO(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let C=d[D]||[];d[D]=C,C.push(f)}iO(d,function(g){return g.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function qw(c){this.za=0,this.i=[],this.j=new Ys,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sa("baseRetryDelayMs",5e3,c),this.Za=sa("retryDelaySeedMs",1e4,c),this.Ta=sa("forwardChannelMaxRetries",2,c),this.va=sa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Sw(c&&c.concurrentRequestLimit),this.Ba=new AO,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qw.prototype,n.ka=8,n.I=1,n.connect=function(c,d,f,g){ht(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=eT(this,null,this.W),Du(this)};function bp(c){if(Gw(c),c.I==3){var d=c.V++,f=Dn(c.J);if(De(f,"SID",c.M),De(f,"RID",d),De(f,"TYPE","terminate"),aa(c,f),d=new Ir(c,c.j,d),d.M=2,d.A=Eu(Dn(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=d.A,f=!0),f||(d.g=tT(d.j,null),d.g.ea(d.A)),d.F=Date.now(),vu(d)}Xw(c)}function Tu(c){c.g&&(Sp(c),c.g.cancel(),c.g=null)}function Gw(c){Tu(c),c.v&&(s.clearTimeout(c.v),c.v=null),bu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Du(c){if(!Aw(c.h)&&!c.m){c.m=!0;var d=c.Ea;rt||v(),Ke||(rt(),Ke=!0),w.add(d,c),c.D=0}}function PO(c,d){return Rw(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Qs(l(c.Ea,c,d),Zw(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let D=new Ir(this,this.j,c),C=this.o;if(this.U&&(C?(C=rw(C),ow(C,this.U)):C=this.U),this.u!==null||this.R||(D.J=C,C=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Kw(this,D,d),f=Dn(this.J),De(f,"RID",c),De(f,"CVER",22),this.G&&De(f,"X-HTTP-Session-Id",this.G),aa(this,f),C&&(this.R?d="headers="+Js(jw(C))+"&"+d:this.u&&Dp(f,this.u,C)),wp(this.h,D),this.Ra&&De(f,"TYPE","init"),this.S?(De(f,"$req",d),De(f,"SID","null"),D.U=!0,vp(D,f,null)):vp(D,f,d),this.I=2}}else this.I==3&&(c?Ww(this,c):this.i.length==0||Aw(this.h)||Ww(this))};function Ww(c,d){var f;d?f=d.l:f=c.V++;let g=Dn(c.J);De(g,"SID",c.M),De(g,"RID",f),De(g,"AID",c.K),aa(c,g),c.u&&c.o&&Dp(g,c.u,c.o),f=new Ir(c,c.j,f,c.D+1),c.u===null&&(f.J=c.o),d&&(c.i=d.G.concat(c.i)),d=Kw(c,f,1e3),f.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wp(c.h,f),vp(f,g,d)}function aa(c,d){c.H&&fu(c.H,function(f,g){De(d,g,f)}),c.l&&fu({},function(f,g){De(d,g,f)})}function Kw(c,d,f){f=Math.min(c.i.length,f);let g=c.l?l(c.l.Ka,c.l,c):null;e:{var D=c.i;let ee=-1;for(;;){let ze=["count="+f];ee==-1?f>0?(ee=D[0].g,ze.push("ofs="+ee)):ee=0:ze.push("ofs="+ee);let Ie=!0;for(let Qe=0;Qe<f;Qe++){var C=D[Qe].g;let bn=D[Qe].map;if(C-=ee,C<0)ee=Math.max(0,D[Qe].g-100),Ie=!1;else try{C="req"+C+"_"||"";try{var O=bn instanceof Map?bn:Object.entries(bn);for(let[mi,br]of O){let Cr=br;a(br)&&(Cr=fp(br)),ze.push(C+mi+"="+encodeURIComponent(Cr))}}catch(mi){throw ze.push(C+"type="+encodeURIComponent("_badmap")),mi}}catch{g&&g(bn)}}if(Ie){O=ze.join("&");break e}}O=void 0}return c=c.i.splice(0,f),d.G=c,O}function Qw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;rt||v(),Ke||(rt(),Ke=!0),w.add(d,c),c.A=0}}function Cp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Qs(l(c.Da,c),Zw(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Yw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Qs(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),Tu(this),Yw(this))};function Sp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function Yw(c){c.g=new Ir(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Dn(c.na);De(d,"RID","rpc"),De(d,"SID",c.M),De(d,"AID",c.K),De(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&De(d,"TO",c.ia),De(d,"TYPE","xmlhttp"),aa(c,d),c.u&&c.o&&Dp(d,c.u,c.o),c.O&&(c.g.H=c.O);var f=c.g;c=c.ba,f.M=1,f.A=Eu(Dn(d)),f.u=null,f.R=!0,Dw(f,c)}n.Va=function(){this.C!=null&&(this.C=null,Tu(this),Cp(this),ht(19))};function bu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function Jw(c,d){var f=null;if(c.g==d){bu(c),Sp(c),c.g=null;var g=2}else if(Ip(c.h,d))f=d.G,Nw(c.h,d),g=1;else return;if(c.I!=0){if(d.o)if(g==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var D=c.D;g=mu(),dt(g,new Ew(g,f)),Du(c)}else Qw(c);else if(D=d.m,D==3||D==0&&d.X>0||!(g==1&&PO(c,d)||g==2&&Cp(c)))switch(f&&f.length>0&&(d=c.h,d.i=d.i.concat(f)),D){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Zw(c,d){let f=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(f*=2),f*d}function gi(c,d){if(c.j.info("Error code "+d),d==2){var f=l(c.bb,c),g=c.Ua;let D=!g;g=new wr(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Xs(g,"https"),Eu(g),D?CO(g.toString(),f):SO(g.toString(),f)}else ht(2);c.I=0,c.l&&c.l.pa(d),Xw(c),Gw(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Xw(c){if(c.I=0,c.ja=[],c.l){let d=Mw(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ja,d),A(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function eT(c,d,f){var g=f instanceof wr?Dn(f):new wr(f);if(g.g!="")d&&(g.g=d+"."+g.g),ea(g,g.u);else{var D=s.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let C=new wr(null);g&&Xs(C,g),d&&(C.g=d),D&&ea(C,D),f&&(C.h=f),g=C}return f=c.G,d=c.wa,f&&d&&De(g,f,d),De(g,"VER",c.ka),aa(c,g),g}function tT(c,d,f){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Pe(new _u({ab:f})):new Pe(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nT(){}n=nT.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Cu(){}Cu.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){it.call(this),this.g=new qw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!E(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new vo(this)}p(Ot,it),Ot.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){bp(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.v&&(f={},f.__data__=fp(c),c=f);d.i.push(new vO(d.Ya++,c)),d.I==3&&Du(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,bp(this.g),delete this.g,Ot.Z.N.call(this)};function rT(c){pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(rT,pp);function iT(){gp.call(this),this.status=1}p(iT,gp);function vo(c){this.g=c}p(vo,nT),vo.prototype.ra=function(){dt(this.g,"a")},vo.prototype.qa=function(c){dt(this.g,new rT(c))},vo.prototype.pa=function(c){dt(this.g,new iT)},vo.prototype.oa=function(){dt(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,i_=pr.createWebChannelTransport=function(){return new Cu},r_=pr.getStatEventTarget=function(){return mu()},n_=pr.Event=hi,cf=pr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,Bc=pr.ErrorCode=yu,_w.COMPLETE="complete",t_=pr.EventType=_w,gw.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",it.prototype.listen=it.prototype.J,ms=pr.WebChannel=gw,Iz=pr.FetchXmlHttpFactory=_u,Pe.prototype.listenOnce=Pe.prototype.K,Pe.prototype.getLastError=Pe.prototype.Ha,Pe.prototype.getLastErrorCode=Pe.prototype.ya,Pe.prototype.getStatus=Pe.prototype.ca,Pe.prototype.getResponseJson=Pe.prototype.La,Pe.prototype.getResponseText=Pe.prototype.la,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Fa,e_=pr.XhrIo=Pe}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});var GN="@firebase/firestore",WN="4.9.2";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var Hs="12.3.0";var fo=new zn("@firebase/firestore");function ys(){return fo.logLevel}function F(n,...e){if(fo.logLevel<=ie.DEBUG){let t=e.map(UI);fo.debug(`Firestore (${Hs}): ${n}`,...t)}}function mr(n,...e){if(fo.logLevel<=ie.ERROR){let t=e.map(UI);fo.error(`Firestore (${Hs}): ${n}`,...t)}}function Ns(n,...e){if(fo.logLevel<=ie.WARN){let t=e.map(UI);fo.warn(`Firestore (${Hs}): ${n}`,...t)}}function UI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LM(n,r,t)}function LM(n,e,t){let r=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mr(r),new Error(r)}function Me(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||LM(e,i,r)}function ae(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ci=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var gf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},d_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xe.UNAUTHENTICATED))}shutdown(){}},h_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},f_=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ci,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ci)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new gf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}},p_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},g_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new p_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},m_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Me(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var yf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=wz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function oe(n,e){return n<e?-1:n>e?1:0}function y_(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return o_(i)===o_(o)?oe(i,o):o_(i)?1:-1}return oe(n.length,e.length)}var Tz=55296,Dz=57343;function o_(n){let e=n.charCodeAt(0);return e>=Tz&&e<=Dz}function Ms(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var KN="__name__",vf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return oe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):y_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}},Le=class n extends vf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},bz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wn=class n extends vf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return bz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KN}static keyField(){return new n([KN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new j(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};function Cz(n,e,t){if(!t)throw new j(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sz(n,e,t,r){if(e===!0&&r===!0)throw new j(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QN(n){if(z.isDocumentKey(n))throw new j(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Az(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Rz(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function hf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Rz(n);throw new j(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $e(n,e){let t={typeString:n};return e&&(t.value=e),t}function cu(n,e){if(!Az(n))throw new j(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new j(x.INVALID_ARGUMENT,t);return!0}var YN=-62135596800,JN=1e6,_t=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*JN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<YN)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JN}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-YN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:$e("string",_t._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new _t(0,0))}static max(){return new n(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kc=-1,v_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};v_.UNKNOWN_ID=-1;function Nz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new po(i,z.empty(),e)}function Mz(n){return new po(n.readTime,n.key,Kc)}var po=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),z.empty(),Kc)}static max(){return new n(X.max(),z.empty(),Kc)}};function Pz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}var Oz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function qf(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==Oz)throw n;F("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function xz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zs(n){return n.name==="IndexedDbTransactionError"}var jI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),kz=-1;function Gf(n){return n==null}function Ef(n){return n===0&&1/n==-1/0}var FM="";function Lz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZN(e)),e=Fz(n.get(t),e);return ZN(e)}function Fz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case FM:t+="";break;default:t+=o}}return t}function ZN(n){return n+FM+""}var Vz="remoteDocuments",VM="owner";var UM="mutationQueues";var jM="mutations";var BM="documentMutations",Uz="remoteDocumentsV14";var $M="remoteDocumentGlobal";var HM="targets";var zM="targetDocuments";var qM="targetGlobal",GM="collectionParents";var WM="clientMetadata";var KM="bundles";var QM="namedQueries";var jz="indexConfiguration";var Bz="indexState";var $z="indexEntries";var YM="documentOverlays";var Hz="globals";var zz=[UM,jM,BM,Vz,HM,VM,qM,zM,WM,$M,GM,KM,QM],Aoe=[...zz,YM],qz=[UM,jM,BM,Uz,HM,VM,qM,zM,WM,$M,GM,KM,QM,YM],Gz=qz,Wz=[...Gz,jz,Bz,$z];var Roe=[...Wz,Hz];function XN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kz(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Fe=class n{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Is(this.root,e,this.comparator,!1)}getReverseIterator(){return new Is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Is(this.root,e,this.comparator,!0)}},Is=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class n{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _f(this.data.getIterator())}getIteratorFrom(e){return new _f(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},_f=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ao=class n{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new n([])}unionWith(e){let t=new et(wn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var If=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new If("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var Qz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(n){if(Me(!!n,39018),typeof n=="string"){let e=0,t=Qz.exec(n);if(Me(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vr(n){return typeof n=="string"?lt.fromBase64String(n):lt.fromUint8Array(n)}var JM="server_timestamp",ZM="__type__",XM="__previous_value__",eP="__local_write_time__";function BI(n){return(n?.mapValue?.fields||{})[ZM]?.stringValue===JM}function Wf(n){let e=n.mapValue.fields[XM];return BI(e)?Wf(e):e}function Qc(n){let e=yr(n.mapValue.fields[eP].timestampValue);return new _t(e.seconds,e.nanos)}var __=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},wf="(default)",Tf=class n{constructor(e,t){this.projectId=e,this.database=t||wf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===wf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var tP="__type__",nP="__max__",uf={mapValue:{fields:{__type__:{stringValue:nP}}}},rP="__vector__",Yc="value";function ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BI(n)?4:oP(n)?9007199254740991:iP(n)?10:11:K(28295,{value:n})}function Yn(n,e){if(n===e)return!0;let t=ui(n);if(t!==ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qc(n).isEqual(Qc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=yr(i.timestampValue),a=yr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return vr(i.bytesValue).isEqual(vr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?Ef(s)===Ef(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ms(n.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XN(s)!==XN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Yn(s[u],a[u])))return!1;return!0})(n,e);default:return K(52216,{left:n})}}function Jc(n,e){return(n.values||[]).find(t=>Yn(t,e))!==void 0}function Ps(n,e){if(n===e)return 0;let t=ui(n),r=ui(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return eM(n.timestampValue,e.timestampValue);case 4:return eM(Qc(n),Qc(e));case 5:return y_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=vr(o),u=vr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=oe(a[l],u[l]);if(h!==0)return h}return oe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=oe(Ae(o.latitude),Ae(s.latitude));return a!==0?a:oe(Ae(o.longitude),Ae(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tM(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[Yc]?.arrayValue,h=u[Yc]?.arrayValue,p=oe(l?.values?.length||0,h?.values?.length||0);return p!==0?p:tM(l,h)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===uf.mapValue&&s===uf.mapValue)return 0;if(o===uf.mapValue)return 1;if(s===uf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=y_(u[p],h[p]);if(m!==0)return m;let y=Ps(a[u[p]],l[h[p]]);if(y!==0)return y}return oe(u.length,h.length)})(n.mapValue,e.mapValue);default:throw K(23264,{he:t})}}function eM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);let t=yr(n),r=yr(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function tM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ps(t[i],r[i]);if(o)return o}return oe(t.length,r.length)}function Os(n){return I_(n)}function I_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=yr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return vr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=I_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${I_(t.fields[s])}`;return i+"}"})(n.mapValue):K(61005,{value:n})}function ff(n){switch(ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Wf(n);return e?16+ff(e):16;case 5:return 2*n.stringValue.length;case 6:return vr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+ff(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return uu(r.fields,(o,s)=>{i+=o.length+ff(s)}),i})(n.mapValue);default:throw K(13486,{value:n})}}function w_(n){return!!n&&"integerValue"in n}function $I(n){return!!n&&"arrayValue"in n}function nM(n){return!!n&&"nullValue"in n}function rM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function s_(n){return!!n&&"mapValue"in n}function iP(n){return(n?.mapValue?.fields||{})[tP]?.stringValue===rP}function Hc(n){if(n.geoPointValue)return{geoPointValue:R({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:R({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(n.arrayValue.values[t]);return e}return R({},n)}function oP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nP}var Moe={mapValue:{fields:{[tP]:{stringValue:rP},[Yc]:{arrayValue:{}}}}};var gr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!s_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=wn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Hc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());s_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];s_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){uu(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Hc(this.value))}};var Tn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),gr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xs=class{constructor(e,t){this.position=e,this.inclusive=t}};function iM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),t.key):r=Ps(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yn(n.position[t],e.position[t]))return!1;return!0}var ks=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Yz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Df=class{},We=class n extends Df{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new D_(e,t,r):t==="array-contains"?new S_(e,r):t==="in"?new A_(e,r):t==="not-in"?new R_(e,r):t==="array-contains-any"?new N_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new b_(e,r):new C_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ps(t,this.value)):t!==null&&ui(this.value)===ui(t)&&this.matchesComparison(Ps(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jn=class n extends Df{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return sP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function sP(n){return n.op==="and"}function aP(n){return Jz(n)&&sP(n)}function Jz(n){for(let e of n.filters)if(e instanceof Jn)return!1;return!0}function T_(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Os(n.value);if(aP(n))return n.filters.map(e=>T_(e)).join(",");{let e=n.filters.map(t=>T_(t)).join(",");return`${n.op}(${e})`}}function cP(n,e){return n instanceof We?(function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)})(n,e):n instanceof Jn?(function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&cP(s,i.filters[a]),!0):!1})(n,e):void K(19439)}function uP(n){return n instanceof We?(function(t){return`${t.field.canonicalString()} ${t.op} ${Os(t.value)}`})(n):n instanceof Jn?(function(t){return t.op.toString()+" {"+t.getFilters().map(uP).join(" ,")+"}"})(n):"Filter"}var D_=class extends We{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},b_=class extends We{constructor(e,t){super(e,"in",t),this.keys=lP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},C_=class extends We{constructor(e,t){super(e,"not-in",t),this.keys=lP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function lP(n,e){return(e.arrayValue?.values||[]).map(t=>z.fromName(t.referenceValue))}var S_=class extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $I(t)&&Jc(t.arrayValue,this.value)}},A_=class extends We{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Jc(this.value.arrayValue,t)}},R_=class extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jc(this.value.arrayValue,t)}},N_=class extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$I(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}};var M_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function sM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new M_(n,e,t,r,i,o,s)}function HI(n){let e=ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>T_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Os(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Os(r)).join(",")),e.Te=t}return e.Te}function zI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oM(n.startAt,e.startAt)&&oM(n.endAt,e.endAt)}function P_(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ls=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Zz(n,e,t,r,i,o,s,a){return new Ls(n,e,t,r,i,o,s,a)}function qI(n){return new Ls(n)}function aM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Xz(n){return n.collectionGroup!==null}function zc(n){let e=ae(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new et(wn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ks(o,r))}),t.has(wn.keyField().canonicalString())||e.Ie.push(new ks(wn.keyField(),r))}return e.Ie}function Kn(n){let e=ae(n);return e.Ee||(e.Ee=e3(e,zc(n))),e.Ee}function e3(n,e){if(n.limitType==="F")return sM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ks(i.field,o)});let t=n.endAt?new xs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xs(n.startAt.position,n.startAt.inclusive):null;return sM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function O_(n,e,t){return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kf(n,e){return zI(Kn(n),Kn(e))&&n.limitType===e.limitType}function dP(n){return`${HI(Kn(n))}|lt:${n.limitType}`}function vs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>uP(i)).join(", ")}]`),Gf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Os(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Os(i)).join(",")),`Target(${r})`})(Kn(n))}; limitType=${n.limitType})`}function Qf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of zc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=iM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,zc(r),i)||r.endAt&&!(function(s,a,u){let l=iM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,zc(r),i))})(n,e)}function t3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hP(n){return(e,t)=>{let r=!1;for(let i of zc(n)){let o=n3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function n3(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ps(u,l):K(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Kz(this.inner)}size(){return this.innerSize}};var r3=new Fe(z.comparator);function li(){return r3}var fP=new Fe(z.comparator);function $c(...n){let e=fP;for(let t of n)e=e.insert(t.key,t);return e}function i3(n){let e=fP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function co(){return qc()}function pP(){return qc()}function qc(){return new Er(n=>n.toString(),(n,e)=>n.isEqual(e))}var Poe=new Fe(z.comparator),o3=new et(z.comparator);function de(...n){let e=o3;for(let t of n)e=e.add(t);return e}var s3=new et(oe);function a3(){return s3}function c3(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function u3(n){return{integerValue:""+n}}var Fs=class{constructor(){this._=void 0}};function l3(n,e,t){return n instanceof Zc?(function(i,o){let s={fields:{[ZM]:{stringValue:JM},[eP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&BI(o)&&(o=Wf(o)),o&&(s.fields[XM]=o),{mapValue:s}})(t,e):n instanceof Vs?gP(n,e):n instanceof Us?mP(n,e):(function(i,o){let s=h3(i,o),a=cM(s)+cM(i.Ae);return w_(s)&&w_(i.Ae)?u3(a):c3(i.serializer,a)})(n,e)}function d3(n,e,t){return n instanceof Vs?gP(n,e):n instanceof Us?mP(n,e):t}function h3(n,e){return n instanceof Xc?(function(r){return w_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Zc=class extends Fs{},Vs=class extends Fs{constructor(e){super(),this.elements=e}};function gP(n,e){let t=yP(e);for(let r of n.elements)t.some(i=>Yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Us=class extends Fs{constructor(e){super(),this.elements=e}};function mP(n,e){let t=yP(e);for(let r of n.elements)t=t.filter(i=>!Yn(i,r));return{arrayValue:{values:t}}}var Xc=class extends Fs{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function cM(n){return Ae(n.integerValue||n.doubleValue)}function yP(n){return $I(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function f3(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Vs&&i instanceof Vs||r instanceof Us&&i instanceof Us?Ms(r.elements,i.elements,Yn):r instanceof Xc&&i instanceof Xc?Yn(r.Ae,i.Ae):r instanceof Zc&&i instanceof Zc})(n.transform,e.transform)}var Gc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var eu=class{};function vP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new x_(n.key,Gc.none()):new tu(n.key,n.data,Gc.none());{let t=n.data,r=gr.empty(),i=new et(wn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new js(n.key,r,new ao(i.toArray()),Gc.none())}}function p3(n,e,t){n instanceof tu?(function(i,o,s){let a=i.value.clone(),u=lM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof js?(function(i,o,s){if(!pf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=lM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(EP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Wc(n,e,t,r){return n instanceof tu?(function(o,s,a,u){if(!pf(o.precondition,s))return a;let l=o.value.clone(),h=dM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof js?(function(o,s,a,u){if(!pf(o.precondition,s))return a;let l=dM(o.fieldTransforms,u,s),h=s.data;return h.setAll(EP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return pf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function uM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ms(r,i,(o,s)=>f3(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var tu=class extends eu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},js=class extends eu{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function EP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function lM(n,e,t){let r=new Map;Me(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,d3(s,a,t[i]))}return r}function dM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,l3(o,s,e))}return r}var x_=class extends eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var k_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&p3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Wc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=pP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=vP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(t,r)=>uM(t,r))&&Ms(this.baseMutations,e.baseMutations,(t,r)=>uM(t,r))}};var L_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var F_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var je,se;function _P(n){if(n===void 0)return mr("GRPC error has no .code"),x.UNKNOWN;switch(n){case je.OK:return x.OK;case je.CANCELLED:return x.CANCELLED;case je.UNKNOWN:return x.UNKNOWN;case je.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case je.INTERNAL:return x.INTERNAL;case je.UNAVAILABLE:return x.UNAVAILABLE;case je.UNAUTHENTICATED:return x.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case je.NOT_FOUND:return x.NOT_FOUND;case je.ALREADY_EXISTS:return x.ALREADY_EXISTS;case je.PERMISSION_DENIED:return x.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case je.ABORTED:return x.ABORTED;case je.OUT_OF_RANGE:return x.OUT_OF_RANGE;case je.UNIMPLEMENTED:return x.UNIMPLEMENTED;case je.DATA_LOSS:return x.DATA_LOSS;default:return K(39323,{code:n})}}(se=je||(je={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var g3=null;function m3(){return new TextEncoder}var y3=new fr([4294967295,4294967295],0);function hM(n){let e=m3().encode(n),t=new XE;return t.update(e),new Uint8Array(t.digest())}function fM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fr([t,r],0),new fr([i,o],0)]}var V_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new uo(`Invalid padding: ${t}`);if(r<0)throw new uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new uo(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fr.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(fr.fromNumber(r)));return i.compare(y3)===1&&(i=new fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=hM(e),[r,i]=fM(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=hM(e),[r,i]=fM(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},uo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Fe(oe),li(),de())}},nu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,de(),de(),de())}};var ws=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},Cf=class{constructor(e,t){this.targetId=e,this.Ce=t}},Sf=class{constructor(e,t,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Af=class{constructor(){this.ve=0,this.Fe=pM(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),t=de(),r=de();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new nu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=pM()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},U_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=lf(),this.He=lf(),this.Ye=new Fe(oe)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(P_(o))if(r===0){let s=new z(o.path);this.et(t,s,Tn.newNoDocument(s,X.min()))}else Me(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,l)}g3?.lt((function(h,p,m,y,A){let M={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},N=p.unchangedNames;return N&&(M.bloomFilter={applied:A===0,hashCount:N?.hashCount??0,bitmapLength:N?.bits?.bitmap?.length??0,padding:N?.bits?.padding??0,mightContain:V=>y?.mightContain(V)??!1}),M})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=vr(r).toUint8Array()}catch(u){if(u instanceof If)return Ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new V_(s,i,o)}catch(u){return Ns(u instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&P_(a.target)){let u=new z(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Tn.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=de();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new bf(e,t,this.Ye,this.je,r);return this.je=li(),this.Je=lf(),this.He=lf(),this.Ye=new Fe(oe),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Af,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new et(oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new et(oe),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Af),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function lf(){return new Fe(z.comparator)}function pM(){return new Fe(z.comparator)}var v3={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_3={and:"AND",or:"OR"},j_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function B_(n,e){return n.useProto3Json||Gf(e)?e:{value:e}}function I3(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ts(n){return Me(!!n,49232),X.fromTimestamp((function(t){let r=yr(t);return new _t(r.seconds,r.nanos)})(n))}function T3(n,e){return $_(n,e).canonicalString()}function $_(n,e){let t=(function(i){return new Le(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function IP(n){let e=Le.fromString(n);return Me(CP(e),10190,{key:e.toString()}),e}function a_(n,e){let t=IP(e);if(t.get(1)!==n.databaseId.projectId)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(TP(t))}function wP(n,e){return T3(n.databaseId,e)}function D3(n){let e=IP(n);return e.length===4?Le.emptyPath():TP(e)}function gM(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TP(n){return Me(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function b3(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Me(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?x.UNKNOWN:_P(l.code);return new j(h,l.message||"")})(s);t=new Sf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=a_(n,r.document.name),o=Ts(r.document.updateTime),s=r.document.createTime?Ts(r.document.createTime):X.min(),a=new gr({mapValue:{fields:r.document.fields}}),u=Tn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ws(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=a_(n,r.document),o=r.readTime?Ts(r.readTime):X.min(),s=Tn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ws([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=a_(n,r.document),o=r.removedTargetIds||[];t=new ws([],o,i,null)}else{if(!("filter"in e))return K(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new F_(i,o),a=r.targetId;t=new Cf(a,s)}}return t}function C3(n,e){return{documents:[wP(n,e.path)]}}function S3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wP(n,i);let o=(function(l){if(l.length!==0)return bP(Jn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Es(m.field),direction:N3(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=B_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function A3(n){let e=D3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Me(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=DP(p);return m instanceof Jn&&aP(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(A){return new ks(_s(A.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Gf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new xs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new xs(y,m)})(t.endAt)),Zz(e,i,s,o,a,"F",u,l)}function R3(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_s(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_s(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_s(t.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_s(t.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(n):n.fieldFilter!==void 0?(function(t){return We.create(_s(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Jn.create(t.compositeFilter.filters.map(r=>DP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(t.compositeFilter.op))})(n):K(30097,{filter:n})}function N3(n){return v3[n]}function M3(n){return E3[n]}function P3(n){return _3[n]}function Es(n){return{fieldPath:n.canonicalString()}}function _s(n){return wn.fromServerFormat(n.fieldPath)}function bP(n){return n instanceof We?(function(t){if(t.op==="=="){if(rM(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NAN"}};if(nM(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rM(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NOT_NAN"}};if(nM(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(t.field),op:M3(t.op),value:t.value}}})(n):n instanceof Jn?(function(t){let r=t.getFilters().map(i=>bP(i));return r.length===1?r[0]:{compositeFilter:{op:P3(t.op),filters:r}}})(n):K(54877,{filter:n})}function CP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ru=class n{constructor(e,t,r,i,o=X.min(),s=X.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var H_=class{constructor(e){this.yt=e}};function O3(n){let e=A3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?O_(e,e.limit,"L"):e}var Rf=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Ef(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=yr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(vr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?oP(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):iP(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):K(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=Yc,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ae(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),z.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Rf.Kt=new Rf;var z_=class{constructor(){this.Cn=new q_}addToCollectionParentIndex(e,t){return this.Cn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(po.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},q_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new et(Le.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Le.comparator)).toArray()}};var Ooe=new Uint8Array(0);var mM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SP=41943040,tn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(SP,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var iu=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var yM="LruGarbageCollector",x3=1048576;function vM([n,e],[t,r]){let i=oe(n,t);return i===0?oe(e,r):i}var G_=class{constructor(e){this.Ir=e,this.buffer=new et(vM),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();vM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},W_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(yM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zs(t)?F(yM,"Ignoring IndexedDB error during garbage collection: ",t):await qf(t)}await this.Vr(3e5)})}},K_=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(jI.ce);let r=new G_(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(mM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mM):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ys()<=ie.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function k3(n,e){return new K_(n,e)}var Q_=class{constructor(){this.changes=new Er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Y_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var J_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wc(r.mutation,i,ao.empty(),_t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){let i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=$c();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=li(),s=qc(),a=(function(){return qc()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof js)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Wc(h.mutation,l,h.mutation.getFieldMask(),_t.now())):s.set(l.key,ao.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>a.set(l,new Y_(h,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=qc(),i=new Fe((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||ao.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pP();h.forEach(m=>{if(!o.has(m)){let y=vP(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(co()),a=Kc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:i3(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=$c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=$c();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new Ls(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Tn.newInvalidDocument(h)))});let a=$c();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Wc(h.mutation,l,ao.empty(),_t.now()),Qf(t,l)&&(a=a.insert(u,l))}),a})}};var Z_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return P.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ts(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:O3(i.bundledQuery),readTime:Ts(i.readTime)}})(t)),P.resolve()}};var X_=class{constructor(){this.overlays=new Fe(z.comparator),this.qr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=co();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=co(),o=t.length+1,s=new z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=co(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=co(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new L_(t,r));let o=this.qr.get(t);o===void 0&&(o=de(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var eI=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var ou=class{constructor(){this.Qr=new et(Be.$r),this.Ur=new et(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Be(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Be(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new z(new Le([])),r=new Be(t,e),i=new Be(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new z(new Le([])),r=new Be(t,e),i=new Be(t,e+1),o=de();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Be(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return z.comparator(e.key,t.key)||oe(e.Yr,t.Yr)}static Kr(e,t){return oe(e.Yr,t.Yr)||z.comparator(e.key,t.key)}};var tI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new et(Be.$r)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new k_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?kz:this.tr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Be(t,0),i=new Be(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new et(oe);return t.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),P.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Be(new z(o),0),a=new et(oe);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),P.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return P.forEach(t.mutations,i=>{let o=new Be(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Be(t,0),i=this.Zr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var nI=class{constructor(e){this.ri=e,this.docs=(function(){return new Fe(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=li(),s=t.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Pz(Mz(h),r)<=0||(i.has(h.key)||Qf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ii(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rI(this)}getSize(e){return P.resolve(this.size)}},rI=class extends Q_{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var iI=class{constructor(e){this.persistence=e,this.si=new Er(t=>HI(t),zI),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.oi=0,this._i=new ou,this.targetCount=0,this.ai=iu.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),P.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new iu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Pr(t),P.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this._i.containsKey(t))}};var Nf=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new jI(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=e(this),this.Pi=new iI(this),this.indexManager=new z_,this.remoteDocumentCache=(function(i){return new nI(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new H_(t),this.Ii=new Z_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new X_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new tI(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new oI(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return P.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},oI=class extends E_{constructor(e){super(),this.currentSequenceNumber=e}},sI=class n{constructor(e){this.persistence=e,this.Ri=new ou,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw K(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.fi,r=>{let i=z.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return P.or([()=>P.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},Mf=class n{constructor(e,t){this.persistence=e,this.pi=new Er(r=>Lz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=k3(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return P.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),P.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ff(e.data.value)),t}br(e,t,r){return P.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var aI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=de(),i=de();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var cI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var uI=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I0()?8:xz(Ze())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new cI;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,t,s,a.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(ys()<=ie.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),P.resolve()):(ys()<=ie.DEBUG&&F("QueryEngine","Query:",vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ys()<=ie.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):P.resolve())}ys(e,t){if(aM(t))return P.resolve(null);let r=Kn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=O_(t,null,"F"),r=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(t,a);return this.Cs(t,l,s,u.readTime)?this.ys(e,O_(t,null,"F")):this.vs(e,l,t,u)}))})))}ws(e,t,r,i){return aM(t)||i.isEqual(X.min())?P.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?P.resolve(null):(ys()<=ie.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(t)),this.vs(e,s,t,Nz(i,Kc)).next(a=>a))})}Ds(e,t){let r=new et(hP(e));return t.forEach((i,o)=>{Qf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ys()<=ie.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",vs(t)),this.ps.getDocumentsMatchingQuery(e,t,po.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var GI="LocalStore",L3=3e8,lI=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Fe(oe),this.xs=new Er(o=>HI(o),zI),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function F3(n,e,t,r){return new lI(n,e,t,r)}async function AP(n,e){let t=ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})}function RP(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function V3(n,e){let t=ae(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Pi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,N,V){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=L3?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(m,y,h)&&a.push(t.Pi.updateTargetData(o,y))});let u=li(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(U3(o,s,e.documentUpdates).next(h=>{u=h.ks,l=h.qs})),!r.isEqual(X.min())){let h=t.Pi.getLastRemoteSnapshotVersion(o).next(p=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ms=i,o))}function U3(n,e,t){let r=de(),i=de();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=li();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(GI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function j3(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new ru(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function dI(n,e,t){let r=ae(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!zs(s))throw s;F(GI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function EM(n,e,t){let r=ae(n),i=X.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=ae(u),m=p.xs.get(h);return m!==void 0?P.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,h)})(r,s,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:de())).next(a=>(B3(r,t3(e),a),{documents:a,Qs:o})))}function B3(n,e,t){let r=n.Os.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var Pf=class{constructor(){this.activeTargetIds=a3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var hI=class{constructor(){this.Mo=new Pf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fI=class{Oo(e){}shutdown(){}};var _M="ConnectivityMonitor",Of=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(_M,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){F(_M,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var df=null;function pI(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}var c_="RestConnection",$3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gI=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===wf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=pI(),a=this.zo(e,t.toUriEncodedString());F(c_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),h=Zr(l);return this.Jo(e,a,u,r,h).then(p=>(F(c_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ns(c_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=$3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var mI=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var ut="WebChannelConnection",yI=class extends gI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=pI();return new Promise((a,u)=>{let l=new e_;l.setWithCredentials(!0),l.listenOnce(t_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bc.NO_ERROR:let p=l.getResponseJson();F(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Bc.TIMEOUT:F(ut,`RPC '${e}' ${s} timed out`),u(new j(x.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:let m=l.getStatus();if(F(ut,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let M=(function(V){let he=V.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(he)>=0?he:x.UNKNOWN})(A.status);u(new j(M,A.message))}else u(new j(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(x.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{F(ut,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(ut,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=pI(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=i_(),a=r_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.I_(p);let m=!1,y=!1,A=new mI({Yo:N=>{y?F(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(F(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(ut,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Zo:()=>p.close()}),M=(N,V,he)=>{N.listen(V,pe=>{try{he(pe)}catch(He){setTimeout(()=>{throw He},0)}})};return M(p,ms.EventType.OPEN,()=>{y||(F(ut,`RPC '${e}' stream ${i} transport opened.`),A.o_())}),M(p,ms.EventType.CLOSE,()=>{y||(y=!0,F(ut,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(p))}),M(p,ms.EventType.ERROR,N=>{y||(y=!0,Ns(ut,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new j(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,ms.EventType.MESSAGE,N=>{if(!y){let V=N.data[0];Me(!!V,16349);let he=V,pe=he?.error||he[0]?.error;if(pe){F(ut,`RPC '${e}' stream ${i} received error:`,pe);let He=pe.status,rt=(function(v){let _=je[v];if(_!==void 0)return _P(_)})(He),Ke=pe.message;rt===void 0&&(rt=x.INTERNAL,Ke="Unknown error status: "+He+" with message "+pe.message),y=!0,A.a_(new j(rt,Ke)),p.close()}else F(ut,`RPC '${e}' stream ${i} received:`,V),A.u_(V)}}),M(a,n_.STAT_EVENT,N=>{N.stat===cf.PROXY?F(ut,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===cf.NOPROXY&&F(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function u_(){return typeof document<"u"?document:null}function NP(n){return new j_(n,!0)}var xf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var IM="PersistentStream",vI=class{constructor(e,t,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xf(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new j(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(IM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(F(IM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},EI=class extends vI{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=b3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Ts(s.readTime):X.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=gM(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=P_(u)?{documents:C3(o,u)}:{query:S3(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=w3(o,s.resumeToken);let l=B_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=I3(o,s.snapshotVersion.toTimestamp());let l=B_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=R3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=gM(this.serializer),t.removeTarget=e,this.q_(t)}};var _I=class{},II=class extends _I{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,$_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(x.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,$_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(x.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},wI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(t),this.aa=!1):F("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Bs="RemoteStore",TI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{du(this)&&(F(Bs,"Restarting streams for network reachability change."),await(async function(u){let l=ae(u);l.Ea.add(4),await lu(l),l.Ra.set("Unknown"),l.Ea.delete(4),await Yf(l)})(this))})}),this.Ra=new wI(r,i)}};async function Yf(n){if(du(n))for(let e of n.da)await e(!0)}async function lu(n){for(let e of n.da)await e(!1)}function MP(n,e){let t=ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),YI(t)?QI(t):qs(t).O_()&&KI(t,e))}function WI(n,e){let t=ae(n),r=qs(t);t.Ia.delete(e),r.O_()&&PP(t,e),t.Ia.size===0&&(r.O_()?r.L_():du(t)&&t.Ra.set("Unknown"))}function KI(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qs(n).Y_(e)}function PP(n,e){n.Va.Ue(e),qs(n).Z_(e)}function QI(n){n.Va=new U_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),qs(n).start(),n.Ra.ua()}function YI(n){return du(n)&&!qs(n).x_()&&n.Ia.size>0}function du(n){return ae(n).Ea.size===0}function OP(n){n.Va=void 0}async function H3(n){n.Ra.set("Online")}async function z3(n){n.Ia.forEach((e,t)=>{KI(n,e)})}async function q3(n,e){OP(n),YI(n)?(n.Ra.ha(e),QI(n)):n.Ra.set("Unknown")}async function G3(n,e,t){if(n.Ra.set("Online"),e instanceof Sf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(n,e)}catch(r){F(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wM(n,r)}else if(e instanceof ws?n.Va.Ze(e):e instanceof Cf?n.Va.st(e):n.Va.tt(e),!t.isEqual(X.min()))try{let r=await RP(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(l);h&&o.Ia.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),PP(o,u);let p=new ru(h.target,u,l,h.sequenceNumber);KI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){F(Bs,"Failed to raise snapshot:",r),await wM(n,r)}}async function wM(n,e,t){if(!zs(e))throw e;n.Ea.add(1),await lu(n),n.Ra.set("Offline"),t||(t=()=>RP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{F(Bs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Yf(n)})}async function TM(n,e){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),F(Bs,"RemoteStore received new credentials");let r=du(t);t.Ea.add(3),await lu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Yf(t)}async function W3(n,e){let t=ae(n);e?(t.Ea.delete(2),await Yf(t)):e||(t.Ea.add(2),await lu(t),t.Ra.set("Unknown"))}function qs(n){return n.ma||(n.ma=(function(t,r,i){let o=ae(t);return o.sa(),new EI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:H3.bind(null,n),t_:z3.bind(null,n),r_:q3.bind(null,n),H_:G3.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),YI(n)?QI(n):n.Ra.set("Unknown")):(await n.ma.stop(),OP(n))})),n.ma}var DI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xP(n,e){if(mr("AsyncQueue",`${e}: ${n}`),zs(n))return new j(x.UNAVAILABLE,`${e}: ${n}`);throw n}var kf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=$c(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Lf=class{constructor(){this.ga=new Fe(z.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):K(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},$s=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,kf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var bI=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},CI=class{constructor(){this.queries=DM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=DM(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new j(x.ABORTED,"Firestore shutting down"))}};function DM(){return new Er(n=>dP(n),Kf)}async function K3(n,e){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new bI,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=xP(s,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&JI(t)}async function Q3(n,e){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Y3(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&JI(t)}function J3(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function JI(n){n.Ca.forEach(e=>{e.next()})}var SI,bM;(bM=SI||(SI={})).Ma="default",bM.Cache="cache";var AI=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==SI.Cache}};var Ff=class{constructor(e){this.key=e}},Vf=class{constructor(e){this.key=e}},RI=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=hP(e),this.tu=new kf(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new Lf,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Qf(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?A!==M&&(r.track({type:3,doc:y}),N=!0):this.su(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,p)=>(function(y,A){let M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Rt:N})}};return M(y)-M(A)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new $s(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Vf(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new Ff(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=de();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return $s.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},ZI="SyncEngine",NI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},MI=class{constructor(e){this.key=e,this.hu=!1}},PI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Er(a=>dP(a),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(z.comparator),this.Au=new Map,this.Ru=new ou,this.Vu={},this.mu=new Map,this.fu=iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function Z3(n,e,t=!0){let r=UP(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await kP(r,e,t,!0),i}async function X3(n,e){let t=UP(n);await kP(t,e,!0,!1)}async function kP(n,e,t,r){let i=await j3(n.localStore,Kn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await eq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&MP(n.remoteStore,i),a}async function eq(n,e,t,r,i){n.pu=(p,m,y)=>(async function(M,N,V,he){let pe=N.view.ru(V);pe.Cs&&(pe=await EM(M.localStore,N.query,!1).then(({documents:w})=>N.view.ru(w,pe)));let He=he&&he.targetChanges.get(N.targetId),rt=he&&he.targetMismatches.get(N.targetId)!=null,Ke=N.view.applyChanges(pe,M.isPrimaryClient,He,rt);return SM(M,N.targetId,Ke.au),Ke.snapshot})(n,p,m,y);let o=await EM(n.localStore,e,!0),s=new RI(e,o.Qs),a=s.ru(o.documents),u=nu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);SM(n,t,l.au);let h=new NI(e,t,s);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function tq(n,e,t){let r=ae(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Kf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&WI(r.remoteStore,i.targetId),OI(r,i.targetId)}).catch(qf)):(OI(r,i.targetId),await dI(r.localStore,i.targetId,!0))}async function nq(n,e){let t=ae(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),WI(t.remoteStore,r.targetId))}async function LP(n,e){let t=ae(n);try{let r=await V3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Me(s.hu,14607):i.removedDocuments.size>0&&(Me(s.hu,42227),s.hu=!1))}),await VP(t,r,e)}catch(r){await qf(r)}}function CM(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.va(a)&&(l=!0)}),l&&JI(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rq(n,e,t){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Fe(z.comparator);s=s.insert(o,Tn.newNoDocument(o,X.min()));let a=de().add(o),u=new bf(X.min(),new Map,new Fe(oe),s,a);await LP(r,u),r.du=r.du.remove(o),r.Au.delete(e),XI(r)}else await dI(r.localStore,e,!1).then(()=>OI(r,e,t)).catch(qf)}function OI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||FP(n,r)})}function FP(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(WI(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),XI(n))}function SM(n,e,t){for(let r of t)r instanceof Ff?(n.Ru.addReference(r.key,e),iq(n,r)):r instanceof Vf?(F(ZI,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||FP(n,r.key)):K(19791,{wu:r})}function iq(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(F(ZI,"New document in limbo: "+t),n.Eu.add(r),XI(n))}function XI(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new z(Le.fromString(e)),r=n.fu.next();n.Au.set(r,new MI(t)),n.du=n.du.insert(t,r),MP(n.remoteStore,new ru(Kn(qI(t.path)),r,"TargetPurposeLimboResolution",jI.ce))}}async function VP(n,e,t){let r=ae(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=aI.As(u.targetId,l);o.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let h=ae(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!zs(p))throw p;F(GI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Ms.get(m),A=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(A);h.Ms=h.Ms.insert(m,M)}}})(r.localStore,o))}async function oq(n,e){let t=ae(n);if(!t.currentUser.isEqual(e)){F(ZI,"User change. New user:",e.toKey());let r=await AP(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new j(x.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await VP(t,r.Ls)}}function sq(n,e){let t=ae(n),r=t.Au.get(e);if(r&&r.hu)return de().add(r.key);{let i=de(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function UP(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rq.bind(null,e),e.Pu.H_=Y3.bind(null,e.eventManager),e.Pu.yu=J3.bind(null,e.eventManager),e}var jP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=NP(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return F3(this.persistence,new uI,t.initialUser,this.serializer)}Cu(t){return new Nf(sI.mi,this.serializer)}Du(t){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),xI=class extends jP{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Me(this.persistence.referenceDelegate instanceof Mf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new W_(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Nf(r=>Mf.mi(r,t),this.serializer)}};var aq=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oq.bind(null,this.syncEngine),await W3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CI})()}createDatastore(t){let r=NP(t.databaseInfo.databaseId),i=(function(s){return new yI(s)})(t.databaseInfo);return(function(s,a,u,l){return new II(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new TI(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>CM(this.syncEngine,r,0),(function(){return Of.v()?new Of:new fI})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new PI(o,s,a,u,l,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=ae(r);F(Bs,"RemoteStore shutting down."),i.Ea.add(5),await lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var kI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var di="FirestoreClient",LI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{F(di,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F(di,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=xP(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function l_(n,e){n.asyncQueue.verifyOperationInProgress(),F(di,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function AM(n,e){n.asyncQueue.verifyOperationInProgress();let t=await cq(n);F(di,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>TM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>TM(e.remoteStore,i)),n._onlineComponents=e}async function cq(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(di,"Using user provided OfflineComponentProvider");try{await l_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ns("Error using user provided cache. Falling back to memory cache: "+t),await l_(n,new jP)}}else F(di,"Using default OfflineComponentProvider"),await l_(n,new xI(void 0));return n._offlineComponents}async function uq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(di,"Using user provided OnlineComponentProvider"),await AM(n,n._uninitializedComponentsProvider._online)):(F(di,"Using default OnlineComponentProvider"),await AM(n,new aq))),n._onlineComponents}async function RM(n){let e=await uq(n),t=e.eventManager;return t.onListen=Z3.bind(null,e.syncEngine),t.onUnlisten=tq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nq.bind(null,e.syncEngine),t}function BP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var NM=new Map;var $P="firestore.googleapis.com",MM=!0,Uf=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new j(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$P,this.ssl=MM}else this.host=e.host,this.ssl=e.ssl??MM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x3)throw new j(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BP(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},su=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new d_;switch(r.type){case"firstParty":return new g_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=NM.get(t);r&&(F("ComponentProvider","Removing Datastore"),NM.delete(t),r.terminate())})(this),Promise.resolve()}};function HP(n,e,t,r={}){n=hf(n,su);let i=Zr(e),o=n._getSettings(),s=ne(R({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(kh(`https://${a}`),Lh("Firestore",!0)),o.host!==$P&&o.host!==a&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=ne(R({},o),{host:a,ssl:i,emulatorOptions:r});if(!Hn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=Xe.MOCK_USER;else{l=g0(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new j(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Xe(p)}n._authCredentials=new h_(new gf(l,h))}}var jf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cu(t,n._jsonSchema))return new n(e,r||null,new z(Le.fromString(t.referencePath)))}};Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:$e("string",Qn._jsonSchemaVersion),referencePath:$e("string")};var Ds=class n extends jf{constructor(e,t,r){super(e,t,qI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function zP(n,e,...t){if(n=En(n),Cz("collection","path",e),n instanceof su){let r=Le.fromString(e,...t);return QN(r),new Ds(n,null,r)}{if(!(n instanceof Qn||n instanceof Ds))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return QN(r),new Ds(n.firestore,null,r)}}var PM="AsyncQueue",Bf=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xf(this,"async_queue_retry"),this._c=()=>{let r=u_();r&&F(PM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=u_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=u_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new ci;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zs(e))throw e;F(PM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",OM(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=DI.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:OM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function OM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function xM(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var au=class extends su{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Bf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bf(e),this._firestoreClient=void 0,await e}}};function qP(n,e){let t=typeof n=="object"?n:eo(),r=typeof n=="string"?n:e||wf,i=ds(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=p0("firestore");o&&HP(i,...o)}return i}function lq(n){if(n._terminated)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dq(n),n._firestoreClient}function dq(n){let e=n._freezeSettings(),t=(function(i,o,s,a){return new __(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,BP(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new LI(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var bs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(lt.fromBase64String(e))}catch(t){throw new j(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};bs._jsonSchemaVersion="firestore/bytes/1.0",bs._jsonSchema={type:$e("string",bs._jsonSchemaVersion),bytes:$e("string")};var $f=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Cs=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(cu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:$e("string",Cs._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};var Ss=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new j(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:$e("string",Ss._jsonSchemaVersion),vectorValues:$e("object")};var hq=new RegExp("[~\\*/\\[\\]]");function fq(n,e,t){if(e.search(hq)>=0)throw kM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw kM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kM(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(x.INVALID_ARGUMENT,a+n+u)}var Hf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(GP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},FI=class extends Hf{data(){return super.data()}};function GP(n,e){return typeof e=="string"?fq(n,e):e instanceof $f?e._internalPath:e._delegate._internalPath}function pq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VI=class{convertValue(e,t="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return uu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[Yc].arrayValue?.values?.map(r=>Ae(r.doubleValue));return new Ss(t)}convertGeoPoint(e){return new Cs(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){let t=yr(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Le.fromString(e);Me(CP(r),9688,{name:e});let i=new Tf(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||mr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var lo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ho=class n extends Hf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new As(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(GP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:$e("string",ho._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};var As=class extends ho{data(e={}){return super.data(e)}},Rs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new As(this._firestore,this._userDataWriter,r.key,r,new lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new As(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new As(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:gq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function gq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:$e("string",Rs._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};var zf=class extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}};function ew(n,...e){n=En(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xM(e[r])||(t=e[r++]);let i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xM(e[r])){let u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let o,s,a;if(n instanceof Qn)s=hf(n.firestore,au),a=qI(n._key.path),o={next:u=>{e[r]&&e[r](mq(s,n,u))},error:e[r+1],complete:e[r+2]};else{let u=hf(n,jf);s=hf(u.firestore,au),a=u._query;let l=new zf(s);o={next:h=>{e[r]&&e[r](new Rs(s,l,u,h))},error:e[r+1],complete:e[r+2]},pq(n._query)}return(function(l,h,p,m){let y=new kI(m),A=new AI(h,y,p);return l.asyncQueue.enqueueAndForget(async()=>K3(await RM(l),A)),()=>{y.Nu(),l.asyncQueue.enqueueAndForget(async()=>Q3(await RM(l),A))}})(lq(s),a,i,o)}function mq(n,e,t){let r=t.docs.get(e._key),i=new zf(n);return new ho(n,i,e._key,r,new lo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Hs=i})(ei),_n(new Et("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new au(new f_(r.getProvider("auth-internal")),new m_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(l.options.projectId,h)})(s,i),s);return o=R({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(GN,WN,e),Oe(GN,WN,"esm2020")})();var Jf=function(){return Jf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jf.apply(this,arguments)};var Eq={includeMetadataChanges:!1};function WP(n,e){return e===void 0&&(e=Eq),new re(function(t){var r=ew(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function KP(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Jf(Jf({},r),(t={},t[e.idField]=n.id,t))}function QP(n){return WP(n,{includeMetadataChanges:!0}).pipe(we(function(e){return e.docs}))}function YP(n,e){return e===void 0&&(e={}),QP(n).pipe(we(function(t){return t.map(function(r){return KP(r,e)})}))}var go=class{constructor(e){return e}},JP="firestore",tw=class{constructor(){return fs(JP)}};var nw=new k("angularfire2.firestore-instances");function _q(n,e){let t=Nc(JP,n,e);return t&&new go(t)}function Iq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new go(r)}}var wq={provide:tw,deps:[[new Mt,nw]]},Tq={provide:go,useFactory:_q,deps:[[new Mt,nw],lr]};function ZP(n,...e){return Oe("angularfire",ti.full,"fst"),gt([Tq,wq,{provide:nw,useFactory:Iq(n),multi:!0,deps:[Ee,be,ni,no,[new Mt,jc],[new Mt,ps],...e]}])}var XP=ur(YP,!0);var eO=ur(zP,!0,2);var tO=ur(qP,!0);function Dq(n,e){if(n&1&&(Z(0,"div",4)(1,"div",5),le(2),J(),Z(3,"h2"),le(4),J(),Z(5,"p",6),le(6),J(),Z(7,"div",7),le(8),J()()),n&2){let t=e.$implicit;Ln(2),$i(" ",t.icono," "),Ln(2),Ad(t.nombre),Ln(2),$i("Especie: ",t.especie),Ln(2),$i(' Dice: "',t.sonido,'" ')}}function bq(n,e){n&1&&(Z(0,"div",8)(1,"p"),le(2,"Cargando animales o no hay datos..."),J()())}var Zf=class n{firestore=S(go);animales$;constructor(){let e=eO(this.firestore,"animales");this.animales$=XP(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-home"]],standalone:!1,decls:11,vars:6,consts:[[1,"home-container"],[1,"grid-animales"],["class","card",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[1,"card"],[1,"icon-box"],[1,"especie"],[1,"sonido-badge"],[1,"loading"]],template:function(t,r){if(t&1&&(Z(0,"div",0)(1,"header")(2,"h1"),le(3,"Granja de Animales"),J(),Z(4,"p"),le(5,"Conectado a Firebase"),J()(),Z(6,"div",1),Wa(7,Dq,9,4,"div",2),Rd(8,"async"),J(),Wa(9,bq,3,0,"div",3),Rd(10,"async"),J()),t&2){let i;Ln(7),Bi("ngForOf",Nd(8,2,r.animales$)),Ln(2),Bi("ngIf",((i=Nd(10,4,r.animales$))==null?null:i.length)===0)}},dependencies:[Wd,Zy,Xy],styles:[".home-container[_ngcontent-%COMP%]{padding:2rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#fdfbff;min-height:100vh}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;color:#60c}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:2px}.grid-animales[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;max-width:1200px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border:2px solid #E6CCFF;border-radius:15px;padding:2rem;text-align:center;transition:transform .3s ease,box-shadow .3s ease;box-shadow:0 4px 6px #6600cc1a}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:#b366ff;box-shadow:0 10px 15px #b366ff4d}.icon-box[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;background-color:#e6ccff;width:100px;height:100px;line-height:100px;border-radius:50%;margin-left:auto;margin-right:auto}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#60c;margin:.5rem 0}.especie[_ngcontent-%COMP%]{color:#b366ff;font-weight:700;font-size:.9rem;text-transform:uppercase}.sonido-badge[_ngcontent-%COMP%]{margin-top:1.5rem;background-color:#60c;color:#e6ccff;padding:.5rem 1rem;border-radius:20px;font-weight:700;display:inline-block}.loading[_ngcontent-%COMP%]{text-align:center;color:#b366ff;margin-top:2rem}"]})};var Xf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-granjas"]],standalone:!1,decls:42,vars:0,consts:[[1,"farm-container"],[1,"hero"],[1,"hero-content"],[1,"badge"],["type","text"],[1,"btn-primary"],[1,"central-media"],["src","./../../../../assets/imagen1.jpg",1,"hero-image"],[1,"features"],[1,"section-header"],[1,"grid-cards"],[1,"card"],[1,"icon-box"],[1,"fas","fa-wifi"],[1,"fas","fa-leaf"],[1,"fas","fa-robot"]],template:function(t,r){t&1&&(Z(0,"section",0)(1,"header",1)(2,"div",2)(3,"span",3),le(4,"comentarios"),J(),Pt(5,"input",4),Z(6,"h1"),le(7,"El Futuro del Campo"),J(),Z(8,"p"),le(9,"Innovaci\xF3n tecnol\xF3gica y sostenibilidad unidas para crear las granjas m\xE1s eficientes del ma\xF1ana."),J(),Z(10,"button",5),le(11,"Explorar Tecnolog\xEDas"),J()()(),Z(12,"figure",6),Pt(13,"img",7),J(),Z(14,"section",8)(15,"div",9)(16,"h2"),le(17,"Granjas Inteligentes"),J(),Z(18,"p"),le(19,"Caracter\xEDsticas de nuestra infraestructura."),J()(),Z(20,"div",10)(21,"article",11)(22,"div",12),Pt(23,"i",13),J(),Z(24,"h3"),le(25,"Conectividad IoT"),J(),Z(26,"p"),le(27,"Monitoreo en tiempo real de cultivos y suelos mediante sensores inteligentes interconectados."),J()(),Z(28,"article",11)(29,"div",12),Pt(30,"i",14),J(),Z(31,"h3"),le(32,"Sostenibilidad"),J(),Z(33,"p"),le(34,"Sistemas de riego optimizados para reducir el consumo de agua y maximizar la producci\xF3n."),J()(),Z(35,"article",11)(36,"div",12),Pt(37,"i",15),J(),Z(38,"h3"),le(39,"Automatizaci\xF3n"),J(),Z(40,"p"),le(41,"Uso de drones y rob\xF3tica para la siembra y recolecci\xF3n de precisi\xF3n."),J()()()()())},styles:["[_nghost-%COMP%]{--primary-dark: #6600CC;--primary-mid: #B366FF;--primary-light: #E6CCFF;--white: #ffffff;--text-gray: #4a4a4a;--bg-color: #fcfaff}.farm-container[_ngcontent-%COMP%]{font-family:Inter,system-ui,sans-serif;background-color:var(--bg-color);color:var(--text-gray);padding-bottom:5rem}.hero[_ngcontent-%COMP%]{background-color:var(--primary-light);padding:5rem 2rem 8rem;border-radius:0 0 50px 50px;text-align:center;position:relative}.hero-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;position:relative;z-index:2}.badge[_ngcontent-%COMP%]{background-color:var(--white);color:var(--primary-dark);padding:.5rem 1rem;border-radius:50px;font-size:.85rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;display:inline-block;margin-bottom:1.5rem;box-shadow:0 4px 10px #6600cc1a}h1[_ngcontent-%COMP%]{font-size:4rem;color:var(--primary-dark);margin:.5rem 0 1.5rem;font-weight:800;line-height:1.1;letter-spacing:-1px}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--primary-dark);margin-bottom:2.5rem;max-width:600px;margin-left:auto;margin-right:auto}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-dark);color:var(--white);border:none;padding:1.2rem 2.5rem;font-size:1rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700;box-shadow:0 10px 20px #6600cc40}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-mid);transform:translateY(-3px);box-shadow:0 15px 30px #60c6}.central-media[_ngcontent-%COMP%]{margin:-6rem auto 4rem;max-width:1100px;padding:0 1.5rem;position:relative;z-index:10;text-align:center}.hero-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:550px;object-fit:cover;border-radius:32px;box-shadow:0 25px 50px -12px #6600cc59;border:6px solid var(--white);display:block}.features[_ngcontent-%COMP%]{max-width:1200px;margin:1rem auto 0;padding:0 1.5rem}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-dark);font-size:2.5rem;font-weight:800;margin-bottom:.75rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}.grid-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:2.5rem}.card[_ngcontent-%COMP%]{background:var(--white);padding:3rem 2.5rem;border-radius:32px;border:2px solid transparent;box-shadow:0 4px 20px #6600cc0d;transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 20px 40px #6600cc26;border-color:var(--primary-mid)}.icon-box[_ngcontent-%COMP%]{width:70px;height:70px;background-color:var(--primary-light);border-radius:20px;display:flex;align-items:center;justify-content:center;margin-bottom:2rem;color:var(--primary-dark);font-size:1.75rem;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover   .icon-box[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);background-color:var(--primary-mid);color:var(--white)}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary-dark);margin-bottom:1rem;font-size:1.5rem;font-weight:700}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.7;color:#555;font-size:1.05rem}@media(max-width:768px){h1[_ngcontent-%COMP%]{font-size:2.75rem}.hero[_ngcontent-%COMP%]{padding-bottom:6rem;border-radius:0 0 30px 30px}.central-media[_ngcontent-%COMP%]{margin-top:-4rem;padding:0 1rem}.hero-image[_ngcontent-%COMP%]{border-radius:20px;border-width:4px;max-height:300px}.card[_ngcontent-%COMP%]{padding:2rem}}"]})};var Cq=[{path:"",component:Zf},{path:"granjas",component:Xf}],ep=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ht({type:n});static \u0275inj=Ct({imports:[Mh.forRoot(Cq),Mh]})};var Sq=()=>({exact:!0}),tp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-header"]],standalone:!1,decls:13,vars:2,consts:[[1,"main-header"],[1,"container"],[1,"logo"],["routerLink","/"],[1,"navigation"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/granjas","routerLinkActive","active"]],template:function(t,r){t&1&&(Z(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),le(4,"Mi Granja"),J()(),Z(5,"nav",4)(6,"ul")(7,"li")(8,"a",5),le(9," Home "),J()(),Z(10,"li")(11,"a",6),le(12," Granjas "),J()()()()()()),t&2&&(Ln(8),Bi("routerLinkActiveOptions",Sy(1,Sq)))},dependencies:[ls,Bv],styles:[".main-header[_ngcontent-%COMP%]{background-color:#60c;padding:1rem 0;box-shadow:0 2px 5px #0003}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:90%;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#e6ccff;text-decoration:none;letter-spacing:1px;transition:color .3s ease}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b366ff}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:2rem;margin:0;padding:0}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e6ccff;font-weight:500;font-size:1.1rem;padding:.5rem 1rem;border-radius:5px;transition:all .3s ease}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#b366ff33;color:#fff}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#b366ff;color:#60c;font-weight:700}"]})};var np=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-footer"]],standalone:!1,decls:17,vars:0,consts:[[1,"main-footer"],[1,"container"],[1,"footer-info"],[1,"footer-links"],["href","#"],[1,"copyright"]],template:function(t,r){t&1&&(Z(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),le(4,"Mi Granja"),J(),Z(5,"p"),le(6,"Cuidando la naturaleza y la producci\xF3n sostenible."),J()(),Z(7,"div",3)(8,"a",4),le(9,"Contacto"),J(),Z(10,"a",4),le(11,"Sobre Nosotros"),J(),Z(12,"a",4),le(13,"Aviso Legal"),J()()(),Z(14,"div",5)(15,"p"),le(16,"\xA9 2025 Mi Granja. Todos los derechos reservados."),J()()())},styles:[".main-footer[_ngcontent-%COMP%]{background-color:#60c;color:#e6ccff;padding-top:2rem;margin-top:auto;font-size:.9rem}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;width:90%;max-width:1200px;margin:0 auto;padding-bottom:2rem}.footer-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#fff;font-size:1.2rem}.footer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.footer-links[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e6ccff;transition:color .3s ease}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b366ff;text-decoration:underline}.copyright[_ngcontent-%COMP%]{background-color:#0003;text-align:center;padding:1rem 0;border-top:1px solid #B366FF}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;opacity:.8}@media(max-width:600px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1.5rem}}"]})};var rp=class n{title=dn("proyect-final");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-root"]],standalone:!1,decls:4,vars:0,consts:[[1,"main-content"]],template:function(t,r){t&1&&(Pt(0,"app-header"),Z(1,"main",0),Pt(2,"router-outlet"),J(),Pt(3,"app-footer"))},dependencies:[Ec,tp,np],encapsulation:2})};var ip=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ht({type:n,bootstrap:[rp]});static \u0275inj=Ct({providers:[$0(()=>H0({apiKey:"AIzaSyArzr4Xc_FlqRw6V27wYYAkmY9C0hSalh4",authDomain:"final-33f48.firebaseapp.com",projectId:"final-33f48",storageBucket:"final-33f48.firebasestorage.app",messagingSenderId:"36751898966",appId:"1:36751898966:web:e809341f5cb2d366f63ef7"})),ZP(()=>tO()),iR(rR()),$N(()=>HN())],imports:[dv,ep]})};lv().bootstrapModule(ip,{}).catch(n=>console.error(n));
